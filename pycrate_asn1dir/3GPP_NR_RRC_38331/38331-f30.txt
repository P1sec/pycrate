









Contents
Foreword	14
1	Scope	15
2	References	15
3	Definitions, symbols and abbreviations	16
3.1	Definitions	16
3.2	Abbreviations	17
4	General	18
4.1	Introduction	18
4.2	Architecture	19
4.2.1	UE states and state transitions including inter RAT	19
4.2.2	Signalling radio bearers	21
4.3	Services	22
4.3.1	Services provided to upper layers	22
4.3.2	Services expected from lower layers	22
4.4	Functions	22
5	Procedures	23
5.1	General	23
5.1.1	Introduction	23
5.1.2	General requirements	23
5.2	System information	23
5.2.1	Introduction	23
5.2.2	System information acquisition	24
5.2.2.1	General UE requirements	24
5.2.2.2	SI validity and need to (re)-acquire SI	24
5.2.2.2.1	SI validity	24
5.2.2.2.2	SI change indication and PWS notification	25
5.2.2.3	Acquisition of System Information	26
5.2.2.3.1	Acquisition of MIB and SIB1	26
5.2.2.3.2	Acquisition of an SI message	26
5.2.2.3.3	Request for on demand system information	27
5.2.2.3.4	Actions related to transmission of RRCSystemInfoRequest message	27
5.2.2.4	Actions upon receipt of System Information	28
5.2.2.4.1	Actions upon reception of the MIB	28
5.2.2.4.2	Actions upon reception of the SIB1	28
5.2.2.4.3	Actions upon reception of SIB2	29
5.2.2.4.4	Actions upon reception of SIB3	30
5.2.2.4.5	Actions upon reception of SIB4	30
5.2.2.4.6	Actions upon reception of SIB5	30
5.2.2.4.7	Actions upon reception of SIB6	30
5.2.2.4.8	Actions upon reception of SIB7	30
5.2.2.4.9	Actions upon reception of SIB8	31
5.2.2.4.10	Actions upon reception of SIB9	32
5.2.2.5	Essential system information missing	32
5.3	Connection control	32
5.3.1	Introduction	32
5.3.1.1	RRC connection control	32
5.3.1.2	Security	33
5.3.2	Paging	34
5.3.2.1	General	34
5.3.2.2	Initiation	34
5.3.2.3	Reception of the Paging message by the UE	34
5.3.3	RRC connection establishment	35
5.3.3.1	General	35
5.3.3.2	Initiation	35
5.3.3.3	Actions related to transmission of RRCSetupRequest message	36
5.3.3.4	Reception of the RRCSetup by the UE	36
5.3.3.5	Reception of the RRCReject by the UE	37
5.3.3.6	Cell re-selection while T300 or T302 is running	37
5.3.3.7	T300 expiry	38
5.3.3.8	Abortion of RRC connection establishment	38
5.3.4	Initial security activation	38
5.3.4.1	General	38
5.3.4.2	Initiation	39
5.3.4.3	Reception of the SecurityModeCommand by the UE	39
5.3.5	RRC reconfiguration	39
5.3.5.1	General	39
5.3.5.2	Initiation	40
5.3.5.3	Reception of an RRCReconfiguration by the UE	40
5.3.5.4	Secondary cell group release	42
5.3.5.5	Cell Group configuration	42
5.3.5.5.1	General	42
5.3.5.5.2	Reconfiguration with sync	42
5.3.5.5.3	RLC bearer release	43
5.3.5.5.4	RLC bearer addition/modification	43
5.3.5.5.5	MAC entity configuration	44
5.3.5.5.6	RLF Timers & Constants configuration	44
5.3.5.5.7	SPCell Configuration	45
5.3.5.5.8	SCell Release	45
5.3.5.5.9	SCell Addition/Modification	45
5.3.5.6	Radio Bearer configuration	46
5.3.5.6.1	General	46
5.3.5.6.2	SRB release	46
5.3.5.6.3	SRB addition/modification	46
5.3.5.6.4	DRB release	47
5.3.5.6.5	DRB addition/modification	47
5.3.5.7	Security key update	49
5.3.5.8	Reconfiguration failure	50
5.3.5.8.1	Integrity check failure	50
5.3.5.8.2	Inability to comply with RRCReconfiguration	50
5.3.5.8.3	T304 expiry (Reconfiguration with sync Failure)	51
5.3.5.9	Other configuration	51
5.3.5.10	EN-DC release	51
5.3.5.11	Full configuration	51
5.3.6	Counter check	52
5.3.6.1	General	52
5.3.6.2	Initiation	52
5.3.6.3	Reception of the CounterCheck message by the UE	53
5.3.7	RRC connection re-establishment	53
5.3.7.1	General	53
5.3.7.2	Initiation	54
5.3.7.3	Actions following cell selection while T311 is running	54
5.3.7.4	Actions related to transmission of RRCReestablishmentRequest message	55
5.3.7.5	Reception of the RRCReestablishment by the UE	55
5.3.7.6	T311 expiry	56
5.3.7.7	T301 expiry or selected cell no longer suitable	56
5.3.7.8	Reception of the RRCSetup by the UE	56
5.3.8	RRC connection release	56
5.3.8.1	General	56
5.3.8.2	Initiation	57
5.3.8.3	Reception of the RRCRelease by the UE	57
5.3.8.4	T320 expiry	58
5.3.8.5	UE actions upon the expiry of DataInactivityTimer	58
5.3.9	RRC connection release requested by upper layers	58
5.3.9.1	General	58
5.3.9.2	Initiation	58
5.3.10	Radio link failure related actions	59
5.3.10.1	Detection of physical layer problems in RRC_CONNECTED	59
5.3.10.2	Recovery of physical layer problems	59
5.3.10.3	Detection of radio link failure	59
5.3.11	UE actions upon going to RRC_IDLE	59
5.3.12	UE actions upon PUCCH/SRS release request	60
5.3.13	RRC connection resume	60
5.3.13.1	General	60
5.3.13.2	Initiation	61
5.3.13.3	Actions related to transmission of RRCResumeRequest or RRCResumeRequest1 message	62
5.3.13.4	Reception of the RRCResume by the UE	63
5.3.13.5	T319 expiry or Integrity check failure from lower layers while T319 is running	64
5.3.13.6	Cell re-selection while T319 or T302 is running	64
5.3.13.7	Reception of the RRCSetup by the UE	64
5.3.13.8	RNA update	65
5.3.13.9	Reception of the RRCRelease by the UE	65
5.3.13.10	Reception of the RRCReject by the UE	65
5.3.14	Unified Access Control	65
5.3.14.1	General	65
5.3.14.2	Initiation	65
5.3.14.3	Conditions for stopping of barring timers T390	67
5.3.14.4	Barring alleviation	67
5.3.14.5	Access barring check	67
5.3.15	RRC connection reject	68
5.3.15.1	Initiation	68
5.3.15.2	Reception of the RRCReject by the UE	68
5.4	Inter-RAT mobility	69
5.4.1	Introduction	69
5.4.2	Handover to NR	69
5.4.2.1	General	69
5.4.2.2	Initiation	69
5.4.2.3	Reception of the RRCReconfiguration by the UE	69
5.4.3	Mobility from NR	70
5.4.3.1	General	70
5.4.3.2	Initiation	70
5.4.3.3	Reception of the MobilityFromNR by the UE	70
5.4.3.4	Successful completion of the mobility from NR	70
5.4.3.5	Mobility from NR failure	70
5.5	Measurements	71
5.5.1	Introduction	71
5.5.2	Measurement configuration	72
5.5.2.1	General	72
5.5.2.2	Measurement identity removal	73
5.5.2.3	Measurement identity addition/modification	73
5.5.2.4	Measurement object removal	74
5.5.2.5	Measurement object addition/modification	74
5.5.2.6	Reporting configuration removal	75
5.5.2.7	Reporting configuration addition/modification	76
5.5.2.8	Quantity configuration	76
5.5.2.9	Measurement gap configuration	76
5.5.2.10	Reference signal measurement timing configuration	77
5.5.2.11	Measurement gap sharing configuration	78
5.5.3	Performing measurements	78
5.5.3.1	General	78
5.5.3.2	Layer 3 filtering	80
5.5.3.3	Derivation of cell measurement results	81
5.5.3.3a	Derivation of layer 3 beam filtered measurement	81
5.5.4	Measurement report triggering	82
5.5.4.1	General	82
5.5.4.2	Event A1 (Serving becomes better than threshold)	84
5.5.4.3	Event A2 (Serving becomes worse than threshold)	84
5.5.4.4	Event A3 (Neighbour becomes offset better than SpCell)	85
5.5.4.5	Event A4 (Neighbour becomes better than threshold)	85
5.5.4.6	Event A5 (SpCell becomes worse than threshold1 and neighbour/SCell becomes better than threshold2)	86
5.5.4.7	Event A6 (Neighbour becomes offset better than SCell)	87
5.5.4.8	Event B1 (Inter RAT neighbour becomes better than threshold)	87
5.5.4.9	Event B2 (PCell becomes worse than threshold1 and inter RAT neighbour becomes better than threshold2)	88
5.5.5	Measurement reporting	89
5.5.5.1	General	89
5.5.5.2	Reporting of beam measurement information	92
5.5.6	Location measurement indication	92
5.5.6.1	General	92
5.5.6.2	Initiation	93
5.5.6.3	Actions related to transmission of LocationMeasurementIndication message	93
5.6	UE capabilities	93
5.6.1	UE capability transfer	93
5.6.1.1	General	93
5.6.1.2	Initiation	94
5.6.1.3	Reception of the UECapabilityEnquiry by the UE	94
5.6.1.4	Compilation of band combinations supported by the UE	94
5.6.1.5	Void	95
5.7	Other	95
5.7.1	DL information transfer	95
5.7.1.1	General	95
5.7.1.2	Initiation	95
5.7.1.3	Reception of the DLInformationTransfer by the UE	95
5.7.2	UL information transfer	95
5.7.2.1	General	95
5.7.2.2	Initiation	96
5.7.2.3	Actions related to transmission of ULInformationTransfer message	96
5.7.2.4	Failure to deliver ULInformationTransfer message	96
5.7.3	SCG failure information	96
5.7.3.1	General	96
5.7.3.2	Initiation	96
5.7.3.3	Failure type determination	97
5.7.3.4	Setting the contents of MeasResultSCG-Failure	97
5.7.4	UE Assistance Information	98
5.7.4.1	General	98
5.7.4.2	Initiation	98
5.7.4.3	Actions related to transmission of UEAssistanceInformation message	99
6	Protocol data units, formats and parameters (ASN.1)	100
6.1	General	100
6.1.1	Introduction	100
6.1.2	Need codes and conditions for optional downlink fields	100
6.2	RRC messages	101
6.2.1	General message structure	101
–	NR-RRC-Definitions	101
–	BCCH-BCH-Message	101
–	BCCH-DL-SCH-Message	102
–	DL-CCCH-Message	102
–	DL-DCCH-Message	103
–	PCCH-Message	103
–	UL-CCCH-Message	104
–	UL-CCCH1-Message	104
–	UL-DCCH-Message	105
6.2.2	Message definitions	106
–	CounterCheck	106
–	CounterCheckResponse	107
–	DLInformationTransfer	108
–	LocationMeasurementIndication	109
–	MIB	109
–	MeasurementReport	111
–	MobilityFromNRCommand	112
–	Paging	113
–	RRCReestablishment	114
–	RRCReestablishmentComplete	115
–	RRCReestablishmentRequest	115
–	RRCReconfiguration	117
–	RRCReconfigurationComplete	118
–	RRCReject	119
–	RRCRelease	120
–	RRCResume	124
–	RRCResumeComplete	125
–	RRCResumeRequest	126
–	RRCResumeRequest1	127
–	RRCSetup	128
–	RRCSetupComplete	129
–	RRCSetupRequest	130
–	RRCSystemInfoRequest	131
–	SecurityModeCommand	132
–	SecurityModeComplete	133
–	SecurityModeFailure	133
–	SIB1	134
–	SystemInformation	136
–	UEAssistanceInformation	137
–	UECapabilityEnquiry	138
–	UECapabilityInformation	139
–	ULInformationTransfer	140
6.3	RRC information elements	140
6.3.0	Parameterized types	140
–	SetupRelease	140
6.3.1	System information blocks	141
–	SIB2	141
–	SIB3	144
–	SIB4	145
–	SIB5	148
–	SIB6	150
–	SIB7	150
–	SIB8	151
–	SIB9	152
6.3.2	Radio resource control information elements	153
–	AdditionalSpectrumEmission	153
–	Alpha	154
–	AMF-Identifier	154
–	ARFCN-ValueEUTRA	154
–	ARFCN-ValueNR	154
–	BeamFailureRecoveryConfig	155
–	BSR-Config	157
–	BWP	157
–	BWP-Downlink	158
–	BWP-DownlinkCommon	159
–	BWP-DownlinkDedicated	160
–	BWP-Id	161
–	BWP-Uplink	161
–	BWP-UplinkCommon	162
–	BWP-UplinkDedicated	162
–	CellAccessRelatedInfo	163
–	CellAccessRelatedInfo-EUTRA-5GC	164
–	CellAccessRelatedInfo-EUTRA-EPC	165
–	CellGroupConfig	165
–	CellGroupId	168
–	CellIdentity	168
–	CellReselectionPriority	168
–	CellReselectionSubPriority	169
–	CGI-Info	169
–	CodebookConfig	170
–	ConfiguredGrantConfig	172
–	ConnEstFailureControl	175
–	ControlResourceSet	176
–	ControlResourceSetId	177
–	ControlResourceSetZero	178
–	CrossCarrierSchedulingConfig	178
–	CSI-AperiodicTriggerStateList	179
–	CSI-FrequencyOccupation	180
–	CSI-IM-Resource	181
–	CSI-IM-ResourceId	182
–	CSI-IM-ResourceSet	182
–	CSI-IM-ResourceSetId	183
–	CSI-MeasConfig	183
–	CSI-ReportConfig	184
–	CSI-ReportConfigId	190
–	CSI-ResourceConfig	190
–	CSI-ResourceConfigId	191
–	CSI-ResourcePeriodicityAndOffset	192
–	CSI-RS-ResourceConfigMobility	192
–	CSI-RS-ResourceMapping	195
–	CSI-SemiPersistentOnPUSCH-TriggerStateList	196
–	CSI-SSB-ResourceSet	197
–	CSI-SSB-ResourceSetId	197
–	DedicatedNAS-Message	198
–	DMRS-DownlinkConfig	198
–	DMRS-UplinkConfig	199
–	DownlinkConfigCommon	200
–	DownlinkConfigCommonSIB	201
–	DownlinkPreemption	203
–	DRB-Identity	204
–	DRX-Config	204
–	FilterCoefficient	206
–	FreqBandIndicatorNR	207
–	FrequencyInfoDL	207
–	FrequencyInfoDL-SIB	208
–	FrequencyInfoUL	209
–	FrequencyInfoUL-SIB	210
–	Hysteresis	211
–	I-RNTI-Value	211
–	LocationMeasurementInfo	212
–	LogicalChannelConfig	213
–	LogicalChannelIdentity	214
–	MAC-CellGroupConfig	215
–	MeasConfig	216
–	MeasGapConfig	217
–	MeasGapSharingConfig	218
–	MeasId	219
–	MeasIdToAddModList	220
–	MeasObjectEUTRA	220
–	MeasObjectId	221
–	MeasObjectNR	221
–	MeasObjectToAddModList	225
–	MeasResultCellListSFTD	226
–	MeasResults	226
–	MeasResultSCG-Failure	229
–	MobilityStateParameters	230
–	MultiFrequencyBandListNR	231
–	NextHopChainingCount	231
–	NG-5G-S-TMSI	231
–	NZP-CSI-RS-Resource	232
–	NZP-CSI-RS-ResourceId	233
–	NZP-CSI-RS-ResourceSet	233
–	NZP-CSI-RS-ResourceSetId	234
–	P-Max	235
–	PCI-List	235
–	PCI-Range	235
–	PCI-RangeElement	236
–	PCI-RangeIndex	236
–	PCI-RangeIndexList	237
–	PDCCH-Config	237
–	PDCCH-ConfigCommon	238
–	PDCCH-ConfigSIB1	239
–	PDCCH-ServingCellConfig	240
–	PDCP-Config	240
–	PDSCH-Config	244
–	PDSCH-ConfigCommon	247
–	PDSCH-ServingCellConfig	247
–	PDSCH-TimeDomainResourceAllocationList	249
–	PHR-Config	249
–	PhysCellId	250
–	PhysicalCellGroupConfig	251
–	PLMN-Identity	252
–	PLMN-IdentityInfoList	253
–	PRB-Id	254
–	PTRS-DownlinkConfig	254
–	PTRS-UplinkConfig	255
–	PUCCH-Config	256
–	PUCCH-ConfigCommon	260
–	PUCCH-PathlossReferenceRS-Id	261
–	PUCCH-PowerControl	261
–	PUCCH-SpatialRelationInfo	263
–	PUCCH-TPC-CommandConfig	264
–	PUSCH-Config	265
–	PUSCH-ConfigCommon	267
–	PUSCH-PowerControl	268
–	PUSCH-ServingCellConfig	271
–	PUSCH-TimeDomainResourceAllocationList	272
–	PUSCH-TPC-CommandConfig	273
–	Q-OffsetRange	274
–	Q-QualMin	274
–	Q-RxLevMin	275
–	QuantityConfig	275
–	RACH-ConfigCommon	276
–	RACH-ConfigDedicated	279
–	RACH-ConfigGeneric	281
–	RA-Prioritization	282
–	RadioBearerConfig	283
–	RadioLinkMonitoringConfig	285
–	RadioLinkMonitoringRSId	286
–	RAN-AreaCode	287
–	RateMatchPattern	287
–	RateMatchPatternId	288
–	RateMatchPatternLTE-CRS	289
–	ReportConfigId	289
–	ReportConfigInterRAT	290
–	ReportConfigNR	292
–	ReportConfigToAddModList	297
–	ReportInterval	297
–	ReselectionThreshold	297
–	ReselectionThresholdQ	298
–	ResumeCause	298
–	RLC-BearerConfig	298
–	RLC-Config	299
–	RLF-TimersAndConstants	302
–	RNTI-Value	303
–	RSRP-Range	303
–	RSRQ-Range	303
–	SCellIndex	304
–	SchedulingRequestConfig	304
–	SchedulingRequestId	305
–	SchedulingRequestResourceConfig	305
–	SchedulingRequestResourceId	306
–	ScramblingId	307
–	SCS-SpecificCarrier	307
–	SDAP-Config	308
–	SearchSpace	309
–	SearchSpaceId	312
–	SearchSpaceZero	312
–	SecurityAlgorithmConfig	313
–	ServCellIndex	313
–	ServingCellConfig	314
–	ServingCellConfigCommon	317
–	ServingCellConfigCommonSIB	320
–	ShortI-RNTI-Value	321
–	ShortMAC-I	321
–	SINR-Range	321
–	SI-SchedulingInfo	322
–	SlotFormatCombinationsPerCell	324
–	SlotFormatIndicator	325
–	S-NSSAI	326
–	SpeedStateScaleFactors	326
–	SS-RSSI-Measurement	327
–	SPS-Config	328
–	SRB-Identity	328
–	SRS-CarrierSwitching	329
–	SRS-Config	330
–	SRS-TPC-CommandConfig	335
–	SSB-Index	336
–	SSB-MTC	336
–	SSB-ToMeasure	337
–	SubcarrierSpacing	338
–	TAG-Config	338
–	TCI-State	339
–	TCI-StateId	340
–	TDD-UL-DL-Config	340
–	TrackingAreaCode	342
–	T-Reselection	343
–	TimeToTrigger	343
–	UAC-BarringInfoSetIndex	343
–	UAC-BarringInfoSetList	344
–	UAC-BarringPerCatList	345
–	UAC-BarringPerPLMN-List	345
–	UE-TimersAndConstants	346
–	UplinkConfigCommon	346
–	UplinkConfigCommonSIB	347
–	UplinkTxDirectCurrentList	348
–	ZP-CSI-RS-Resource	349
–	ZP-CSI-RS-ResourceSet	349
–	ZP-CSI-RS-ResourceSetId	350
6.3.3	UE capability information elements	350
–	AccessStratumRelease	350
–	BandCombinationList	351
–	CA-BandwidthClassEUTRA	352
–	CA-BandwidthClassNR	352
–	CA-ParametersEUTRA	352
–	CA-ParametersNR	353
–	FeatureSetCombination	353
–	FeatureSetCombinationId	354
–	FeatureSetDownlink	355
–	FeatureSetDownlinkId	357
–	FeatureSetDownlinkPerCC	357
–	FeatureSetDownlinkPerCC-Id	358
–	FeatureSetEUTRA-DownlinkId	358
–	FeatureSetEUTRA-UplinkId	358
–	FeatureSets	359
–	FeatureSetUplink	359
–	FeatureSetUplinkId	360
–	FeatureSetUplinkPerCC	361
–	FeatureSetUplinkPerCC-Id	361
–	FreqBandIndicatorEUTRA	361
–	FreqBandList	362
–	FreqSeparationClass	362
–	InterRAT-Parameters	363
–	MAC-Parameters	363
–	MeasAndMobParameters	364
–	MeasAndMobParametersMRDC	365
–	MIMO-Layers	366
–	MIMO-ParametersPerBand	366
–	ModulationOrder	369
–	MRDC-Parameters	369
–	PDCP-Parameters	369
–	PDCP-ParametersMRDC	370
–	Phy-Parameters	370
–	Phy-ParametersMRDC	373
–	RAT-Type	373
–	RF-Parameters	374
–	RF-ParametersMRDC	375
–	RLC-Parameters	376
–	SupportedBandwidth	376
–	UE-CapabilityRAT-ContainerList	377
–	UE-CapabilityRAT-RequestList	377
–	UE-CapabilityRequestFilterNR	378
–	UE-MRDC-Capability	378
–	UE-NR-Capability	379
6.3.4	Other information elements	380
–	EUTRA-AllowedMeasBandwidth	380
–	EUTRA-MBSFN-SubframeConfigList	381
–	EUTRA-MultiBandInfoList	382
–	EUTRA-NS-PmaxList	382
–	EUTRA-PhysCellId	383
–	EUTRA-PhysCellIdRange	383
–	EUTRA-PresenceAntennaPort1	383
–	EUTRA-Q-OffsetRange	384
–	MultiFrequencyBandListNR-SIB	384
–	NR-NS-PmaxList	385
–	OtherConfig	385
–	RRC-TransactionIdentifier	386
6.4	RRC multiplicity and type constraint values	386
–	Multiplicity and type constraint definitions	386
End of NR-RRC-Definitions	390
6.5	Short message	390
7	Variables and constants	391
7.1	Timers	391
7.1.1	Timers (Informative)	391
7.1.2	Timer handling	393
7.2	Counters	393
7.3	Constants	394
7.4	UE variables	394
–	NR-UE-Variables	394
–	VarPendingRNA-Update	394
–	VarMeasConfig	395
–	VarMeasReportList	395
–	VarResumeMAC-Input	396
–	VarShortMAC-Input	397
–	End of NR-UE-Variables	397
8	Protocol data unit abstract syntax	398
8.1	General	398
8.2	Structure of encoded RRC messages	398
8.3	Basic production	398
8.4	Extension	398
8.5	Padding	399
9	Specified and default radio configurations	399
9.1	Specified configurations	399
9.1.1	Logical channel configurations	399
9.1.1.1	BCCH configuration	399
9.1.1.2	CCCH configuration	400
9.1.1.3	PCCH configuration	400
9.1.2	Void	400
9.2	Default radio configurations	400
9.2.1	Default SRB configurations	400
9.2.2	Default MAC Cell Group configuration	401
9.2.3	Default values timers and constants	401
10	Generic error handling	401
10.1	General	401
10.2	ASN.1 violation or encoding error	402
10.3	Field set to a not comprehended value	402
10.4	Mandatory field missing	402
10.5	Not comprehended field	403
11	Radio information related interactions between network nodes	404
11.1	General	404
11.2	Inter-node RRC messages	404
11.2.1	General	404
11.2.2	Message definitions	405
–	HandoverCommand	405
–	HandoverPreparationInformation	406
–	CG-Config	408
–	CG-ConfigInfo	410
–	MeasurementTimingConfiguration	415
–	UERadioPagingInformation	416
–	UERadioAccessCapabilityInformation	417
11.3	Inter-node RRC information element definitions	417
11.4	Inter-node RRC multiplicity and type constraint values	417
–	Multiplicity and type constraints definitions	417
–	End of NR-InterNodeDefinitions	418
12	Processing delay requirements for RRC procedures	419
Annex A (informative):	Guidelines, mainly on use of ASN.1	419
A.1	Introduction	419
A.2	Procedural specification	420
A.2.1	General principles	420
A.2.2	More detailed aspects	420
A.3	PDU specification	420
A.3.1	General principles	420
A.3.1.1	ASN.1 sections	420
A.3.1.2	ASN.1 identifier naming conventions	421
A.3.1.3	Text references using ASN.1 identifiers	423
A.3.2	High-level message structure	424
A.3.3	Message definition	425
A.3.4	Information elements	427
A.3.5	Fields with optional presence	428
A.3.6	Fields with conditional presence	429
A.3.7	Guidelines on use of lists with elements of SEQUENCE type	430
A.3.8	Guidelines on use of parameterised SetupRelease type	430
A.3.9	Guidelines on use of ToAddModList and ToReleaseList	431
A.4	Extension of the PDU specifications	433
A.4.1	General principles to ensure compatibility	433
A.4.2	Critical extension of messages and fields	433
A.4.3	Non-critical extension of messages	435
A.4.3.1	General principles	435
A.4.3.2	Further guidelines	436
A.4.3.3	Typical example of evolution of IE with local extensions	437
A.4.3.4	Typical examples of non critical extension at the end of a message	438
A.4.3.5	Examples of non-critical extensions not placed at the default extension location	439
–	ParentIE-WithEM	439
–	ChildIE1-WithoutEM	440
–	ChildIE2-WithoutEM	441
A.5	Guidelines regarding inclusion of transaction identifiers in RRC messages	441
A.6	Guidelines regarding use of need codes	442
A.7	Guidelines regarding use of conditions	442
Annex B (informative):	RRC Information	443
B.1	Protection of RRC messages (informative)	443
Annex C (informative):	Change history	445

Foreword
This Technical Specification has been produced by the 3rd Generation Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:
Version x.y.z
where:
x	the first digit:
1	presented to TSG for information;
2	presented to TSG for approval;
3	or greater indicates TSG approved document under change control.
y	the second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.
z	the third digit is incremented when editorial only changes have been incorporated in the document.
1	Scope
The present document specifies the Radio Resource Control protocol for the radio interface between UE and NG-RAN.
The scope of the present document also includes:
-	the radio related information transported in a transparent container between source gNB and target gNB upon inter gNB handover;
-	the radio related information transported in a transparent container between a source or target gNB and another system upon inter RAT handover.
-	the radio related information transported in a transparent container between a source eNB and target gNB during E-UTRA-NR Dual Connectivity.
2	References
The following documents contain provisions which, through reference in this text, constitute provisions of the present document.
-	References are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.
-	For a specific reference, subsequent revisions do not apply.
-	For a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.

[1]	3GPP TR 21.905: "Vocabulary for 3GPP Specifications".
[2]	3GPP TS 38.300: "NR; Overall description; Stage 2".
[3]	3GPP TS 38.321: "NR; Medium Access Control (MAC); Protocol specification".
[4]	3GPP TS 38.322: "NR; Radio Link Control (RLC) protocol specification".
[5]	3GPP TS 38.323: "NR; Packet Data Convergence Protocol (PDCP) protocol specification".	
[6]	ITU-T Recommendation X.680 (08/2015) "Information Technology - Abstract Syntax Notation One (ASN.1): Specification of basic notation" (Same as the ISO/IEC International Standard 8824-1).
[7]	ITU-T Recommendation X.681 (08/2015) "Information Technology - Abstract Syntax Notation One (ASN.1): Information object specification" (Same as the ISO/IEC International Standard 8824-2).
[8]	ITU-T Recommendation X.691 (08/2015) "Information technology - ASN.1 encoding rules: Specification of Packed Encoding Rules (PER)" (Same as the ISO/IEC International Standard 8825-2).
[9]	3GPP TS 38.215: "NR; Physical layer measurements".
[10]	3GPP TS 36.331: "Evolved Universal Terrestrial Radio Access (E-UTRA) Radio Resource Control (RRC); Protocol Specification".
[11]	3GPP TS 33.501: "Security Architecture and Procedures for 5G System".
[12]	3GPP TS 38.104: "NR; Base Station (BS) radio transmission and reception".
[13]	3GPP TS 38.213: "NR; Physical layer procedures for control".
[14]	3GPP TS 38.133: "NR; Requirements for support of radio resource management".
[15]	3GPP TS 38.101: "NR; User Equipment (UE) radio transmission and reception".
[16]	3GPP TS 38.211: "NR; Physical channels and modulation".
[17]	3GPP TS 38.212: "NR; Multiplexing and channel coding".
[18]	ITU-T Recommendation X.683 (08/2015) "Information Technology - Abstract Syntax Notation One (ASN.1): Parameterization of ASN.1 specifications" (Same as the ISO/IEC International Standard 8824-4).
[19]	3GPP TS 38.214: "NR; Physical layer procedures for data".
[20]	3GPP TS 38.304: "NR; User Equipment (UE) procedures in Idle mode and RRC Inactive state".
[21]	3GPP TS 23.003: "Numbering, addressing and identification".
[22]	3GPP TS 36.101: " E-UTRA; User Equipment (UE) radio transmission and reception".
[23]	3GPP TS 24.501: "Non-Access-Stratum (NAS) protocol for 5G System (5GS); Stage 3".
[24]	3GPP TS 37.324: "Service Data Adaptation Protocol (SDAP) specification".
[25]	3GPP TS 22.261: "Service requirements for the 5G System".
[26]	3GPP TS 38.306: "User Equipment (UE) radio access capabilities".
[27]	3GPP TS 36.304: "E-UTRA; User Equipment (UE) procedures in idle mode".
[28]	ATIS 0700041: "WEA 3.0: Device-Based Geo-Fencing".
[29]	3GPP TS 23.041: "Technical realization of Cell Broadcast Service (CBS)".
3	Definitions, symbols and abbreviations
3.1	Definitions
For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1].
Ceil: Mathematical function used to 'round up' i.e. to the nearest integer having a higher or equal value.
Dedicated signalling: Signalling sent on DCCH logical channel between the network and a single UE.
Field: The individual contents of an information element are referred to as fields.
Floor: Mathematical function used to 'round down' i.e. to the nearest integer having a lower or equal value.
Information element: A structural element containing single or multiple fields is referred as information element.
Primary Cell: The MCG cell, operating on the primary frequency, in which the UE either performs the initial connection establishment procedure or initiates the connection re-establishment procedure.
Primary SCG Cell: For dual connectivity operation, the SCG cell in which the UE performs random access when performing the Reconfiguration with Sync procedure.
Primary Timing Advance Group: Timing Advance Group containing the SpCell.
PUCCH SCell: An SCell configured with PUCCH.
RLC bearer configuration: The lower layer part of the radio bearer configuration comprising the RLC and logical channel configurations.
Secondary Cell: For a UE configured with CA, a cell providing additional radio resources on top of Special Cell.
Secondary Cell Group: For a UE configured with dual connectivity, the subset of serving cells comprising of the PSCell and zero or more secondary cells.
Serving Cell: For a UE in RRC_CONNECTED not configured with CA/DC there is only one serving cell comprising of the primary cell. For a UE in RRC_CONNECTED configured with CA/ DC the term 'serving cells' is used to denote the set of cells comprising of the Special Cell(s) and all secondary cells.
Special Cell: For Dual Connectivity operation the term Special Cell refers to the PCell of the MCG or the PSCell of the SCG, otherwise the term Special Cell refers to the PCell.
SRB1S: The SCG part of MCG split SRB1 for EN-DC.
SRB2S: The SCG part of MCG split SRB2 for EN-DC.
3.2	Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].
5GC	5G Core Network
ACK	Acknowledgement
AM	Acknowledged Mode
ARQ	Automatic Repeat Request
AS	Access Stratum
ASN.1	Abstract Syntax Notation One
BLER	Block Error Rate
BWP	Bandwidth Part
CA	Carrier Aggregation
CCCH	Common Control Channel
CG	Cell Group
CMAS	Commercial Mobile Alert Service
CP	Control Plane
C-RNTI	Cell RNTI
CSI	Channel State Information
DC	Dual Connectivity
DCCH	Dedicated Control Channel
DCI	Downlink Control Information
DL	Downlink
DL-SCH	Downlink Shared Channel
DRB	(user) Data Radio Bearer
DRX	Discontinuous Reception
DTCH	Dedicated Traffic Channel
EN-DC	E-UTRA NR Dual Connectivity
EPC	Evolved Packet Core
EPS	Evolved Packet System
ETWS	Earthquake and Tsunami Warning System
E-UTRA	Evolved Universal Terrestrial Radio Access
E-UTRA/5GC	E-UTRA connected to 5GC
E-UTRA/EPC	E-UTRA connected to EPC
E-UTRAN	Evolved Universal Terrestrial Radio Access Network
FDD	Frequency Division Duplex
FFS	For Further Study
GERAN	GSM/EDGE Radio Access Network
GNSS	Global Navigation Satellite System
GSM	Global System for Mobile Communications
HARQ	Hybrid Automatic Repeat Request
IE	Information element
IMSI	International Mobile Subscriber Identity
kB	Kilobyte (1000 bytes)
L1	Layer 1
L2	Layer 2
L3	Layer 3
MAC	Medium Access Control
MCG	Master Cell Group
MIB	Master Information Block
N/A	Not Applicable
NR/5GC	NR connected to 5GC
PCell	Primary Cell
PDCP	Packet Data Convergence Protocol
PDU	Protocol Data Unit
PLMN	Public Land Mobile Network
PSCell	Primary SCG Cell
PTAG	Primary Timing Advance Group
PWS	Public Warning System
QoS	Quality of Service
RAN	Radio Access Network
RAT	Radio Access Technology
RLC	Radio Link Control
RNA	RAN-based Notification Area
RNTI	Radio Network Temporary Identifier
ROHC	Robust Header Compression
RRC	Radio Resource Control
RS	Reference Signal
SCell	Secondary Cell
SCG	Secondary Cell Group
SFN	System Frame Number
SFTD	SFN and Frame Timing Difference
SI	System Information
SIB	System Information Block
SpCell	Special Cell
SRB	Signalling Radio Bearer
SSB	Synchronization Signal Block
TAG	Timing Advance Group
TDD	Time Division Duplex
TM	Transparent Mode
UE	User Equipment
UL	Uplink
UM	Unacknowledged Mode
UP	User Plane

In the ASN.1, lower case may be used for some (parts) of the above abbreviations e.g. c-RNTI.
4	General
4.1	Introduction
This specification is organised as follows:
-	sub-clause 4.2 describes the RRC protocol model;
-	sub-clause 4.3 specifies the services provided to upper layers as well as the services expected from lower layers;
-	sub-clause 4.4 lists the RRC functions;
-	clause 5 specifies RRC procedures, including UE state transitions;
-	clause 6 specifies the RRC messages in ASN.1 and description;
-	clause 7 specifies the variables (including protocol timers and constants) and counters to be used by the UE;
-	clause 8 specifies the encoding of the RRC messages;
-	clause 9 specifies the specified and default radio configurations;
-	clause 10 specifies generic error handling;
-	clause 11 specifies the RRC messages transferred across network nodes;
-	clause 12 specifies the UE capability related constraints and performance requirements.
4.2	Architecture
4.2.1	UE states and state transitions including inter RAT
A UE is either in RRC_CONNECTED state or in RRC_INACTIVE state when an RRC connection has been established. If this is not the case, i.e. no RRC connection is established, the UE is in RRC_IDLE state. The RRC states can further be characterised as follows:
-	RRC_IDLE:
-	A UE specific DRX may be configured by upper layers;
-	UE controlled mobility based on network configuration;
-	The UE:
-	Monitors a Paging channel for CN paging using 5G-S-TMSI;
-	Performs neighbouring cell measurements and cell (re-)selection;
-	Acquires system information and can send SI request (if configured).
-	RRC_INACTIVE:
-	A UE specific DRX may be configured by upper layers or by RRC layer;
-	UE controlled mobility based on network configuration;
-	The UE stores the AS context;
-	A RAN-based notification area is configured by RRC layer;
The UE:
-	Monitors a Paging channel for CN paging using 5G-S-TMSI and RAN paging using I-RNTI;
-	Performs neighbouring cell measurements and cell (re-)selection;
-	Performs RAN-based notification area updates periodically and when moving outside the configured RAN-based notification area;
-	Acquires system information and can send SI request (if configured).
-	RRC_CONNECTED:
-	The UE stores the AS context;
-	Transfer of unicast data to/from UE;
-	At lower layers, the UE may be configured with a UE specific DRX;
-	For UEs supporting CA, use of one or more SCells, aggregated with the SpCell, for increased bandwidth;
-	For UEs supporting DC, use of one SCG, aggregated with the MCG, for increased bandwidth;
-	Network controlled mobility within NR and to/from E-UTRA;
-	The UE:
-	Monitors a Paging channel, if configured;
-	Monitors control channels associated with the shared data channel to determine if data is scheduled for it;
-	Provides channel quality and feedback information;
-	Performs neighbouring cell measurements and measurement reporting;
-	Acquires system information.
Editor's Note:	FFS Whether UE in RRC_CONNECTED monitors paging channel.
Figure 4.2.1-1 illustrates an overview of UE RRC state machine and state transitions in NR. A UE has only one RRC state in NR at one time.

Figure 4.2.1-1:	UE state machine and state transitions in NR
Figure 4.2.1-2 illustrates an overview of UE state machine and state transitions in NR as well as the mobility procedures supported between NR/5GC E-UTRA/EPC and E-UTRA/5GC.

Figure 4.2.1-2:	UE state machine and state transitions between NR/5GC, E-UTRA/EPC and E-UTRA/5GC
4.2.2	Signalling radio bearers
"Signalling Radio Bearers" (SRBs) are defined as Radio Bearers (RBs) that are used only for the transmission of RRC and NAS messages. More specifically, the following SRBs are defined:
-	SRB0 is for RRC messages using the CCCH logical channel;
-	SRB1 is for RRC messages (which may include a piggybacked NAS message) as well as for NAS messages prior to the establishment of SRB2, all using DCCH logical channel;
-	SRB2 is for NAS messages, all using DCCH logical channel. SRB2 has a lower-priority than SRB1 and is always configured by the network after security activation;
-	SRB3 is for specific RRC messages when UE is in EN-DC, all using DCCH logical channel.
In downlink piggybacking of NAS messages is used only for bearer establishment/modification/release. In uplink piggybacking of NAS message is used only for transferring the initial NAS message during connection setup and connection resume.
Editor's Note: FFS Piggybacking of NAS messages in other procedures than bearer establishment/ modification/ release.
NOTE 1:	The NAS messages transferred via SRB2 are also contained in RRC messages, which however do not include any RRC protocol control information.
Once security is activated, all RRC messages on SRB1, SRB2 and SRB3, including those containing NAS messages, are integrity protected and ciphered by PDCP. NAS independently applies integrity protection and ciphering to the NAS messages.
Editor's Note:	FFS which SRBs are used for NE-DC, NR-NR DC.
Editor's Note:	FFS Duplication in UL, for split SRB and DRBs.
4.3	Services
4.3.1	Services provided to upper layers
The RRC protocol offers the following services to upper layers:
-	Broadcast of common control information;
-	Notification of UEs in RRC_IDLE, e.g. about a terminating call;
-	Notification of UEs about ETWS and/or CMAS
-	Transfer of dedicated control information, i.e. information for one specific UE.
4.3.2	Services expected from lower layers
In brief, the following are the main services that RRC expects from lower layers:
-	Integrity protection, ciphering and loss-less in-sequence delivery of information without duplication;
4.4	Functions
The RRC protocol includes the following main functions:
-	Broadcast of system information:
-	Including NAS common information;
-	Information applicable for UEs in RRC_IDLE and RRC_INACTIVE (e.g. cell (re-)selection parameters, neighbouring cell information) and information (also) applicable for UEs in RRC_CONNECTED (e.g. common channel configuration information);
-	Including ETWS notification, CMAS notification.
-	RRC connection control:
-	Paging;
-	Establishment/modification/suspension/resumption/release of RRC connection, including e.g. assignment/modification of UE identity (C-RNTI, I-RNTI, etc.), establishment/modification/suspension/resumption/release of SRBs (except for SRB0);
-	Access barring;
-	Initial security activation, i.e. initial configuration of AS integrity protection (SRBs, DRBs) and AS ciphering (SRBs, DRBs);
-	RRC connection mobility including e.g. intra-frequency and inter-frequency handover, associated security handling, i.e. key/algorithm change, specification of RRC context information transferred between network nodes;
-	Establishment/modification/suspension/resumption/release of RBs carrying user data (DRBs);
-	Radio configuration control including e.g. assignment/modification of ARQ configuration, HARQ configuration, DRX configuration;
-	In case of DC, cell management including e.g. change of PSCell, addition/modification/release of SCG cell(s);
-	In case of CA, cell management including e.g. addition/modification/release of SCell(s);
-	QoS control including assignment/ modification of semi-persistent scheduling (SPS) configuration and configured grant configuration for DL and UL respectively, assignment/ modification of parameters for UL rate control in the UE, i.e. allocation of a priority and a prioritised bit rate (PBR) for each RB.
-	Recovery from radio link failure.
-	Inter-RAT mobility including e.g. security activation, transfer of RRC context information;
-	Measurement configuration and reporting:
-	Establishment/modification/release of measurement configuration (e.g. intra-frequency, inter-frequency and inter- RAT measurements);
-	Setup and release of measurement gaps;
-	Measurement reporting.
-	Other functions including e.g. generic protocol error handling, transfer of dedicated NAS information, transfer of UE radio access capability information.
5	Procedures
5.1	General
5.1.1	Introduction
This section covers the general requirements.
5.1.2	General requirements
The UE shall:
1>	process the received messages in order of reception by RRC, i.e. the processing of a message shall be completed before starting the processing of a subsequent message;
NOTE:	Network may initiate a subsequent procedure prior to receiving the UE's response of a previously initiated procedure.
1>	within a sub-clause execute the steps according to the order specified in the procedural description;
1>	consider the term 'radio bearer' (RB) to cover SRBs and DRBs unless explicitly stated otherwise;
1>	set the rrc-TransactionIdentifier in the response message, if included, to the same value as included in the message received from NR that triggered the response message;
1>	upon receiving a choice value set to setup:
2>	apply the corresponding received configuration and start using the associated resources, unless explicitly specified otherwise;
1>	upon receiving a choice value set to release:
2>	clear the corresponding configuration and stop using the associated resources;
1>	in case the size of a list is extended, upon receiving an extension field comprising the entries in addition to the ones carried by the original field (regardless of whether NR signals more entries in total); apply the following generic behaviour unless explicitly stated otherwise:
2>	create a combined list by concatenating the additional entries included in the extension field to the original field while maintaining the order among both the original and the additional entries;
2>	for the combined list, created according to the previous, apply the same behaviour as defined for the original field.
5.2	System information
5.2.1	Introduction
System Information (SI) is divided into the MIB and a number of SIBs where:
-	the MIB is always transmitted on the BCH with a periodicity of 80 ms and repetitions made within 80 ms [17, Section 7.1] and it includes parameters that are needed to acquire SIB1 from the cell. The first transmission of the MIB is scheduled in subframes defined by [TS 38.211, 7.4.3.2] and repetitions are scheduled according to the period of SSB;
-	the SIB1 is transmitted on the DL-SCH with a periodicity of 160ms and variable transmission repetition periodicity as specified in TS 38.213 [13, Section 13]. The default transmission repetition periodicity of SIB1 is 20ms but the actual transmission repetition periodicity is up to network implementation. For SSB and CORESET multiplexing pattern 1, SIB1 repetition transmission period is 20ms. For SSB and CORESET multiplexing pattern 2/3, SIB1 transmission repetition period is the same as the SSB period [13]. SIB1 includes information regarding the availability and scheduling (e.g. mapping of SIBs to SI message, periodicity, SI-window size) of other SIBs with an indication whether one or more SIBs are only provided on-demand and, in that case, the configuration needed by the UE to perform the SI request. SIB1 is cell-specific SIB;
-	SIBs other than SIB1 are carried in SystemInformation (SI) messages, which are transmitted on the DL-SCH. Only SIBs having the same periodicity can be mapped to the same SI message. Each SI message is transmitted within periodically occurring time domain windows (referred to as SI-windows with same length for all SI messages). Each SI message is associated with a SI-window and the SI-windows of different SI messages do not overlap. That is, within one SI-window only the corresponding SI message is transmitted. Any SIB except SIB1 can be configured to be cell specific or area specific, using an indication in SIB1. The cell specific SIB is applicable only within a cell that provides the SIB while the area specific SIB is applicable within an area referred to as SI area, which consists of one or several cells and is identified by systemInformationAreaID;
-	For a UE in RRC_CONNECTED, the network can provide system information through dedicated signalling using the RRCReconfiguration message, e.g. if the UE has an active BWP with no common search space configured.
-	For PSCell and SCells, the network provides the required SI by dedicated signalling, i.e. within an RRCReconfiguration message. Nevertheless, the UE shall acquire MIB of the PSCell to get SFN timing of the SCG (which may be different from MCG). Upon change of relevant SI for SCell, RAN releases and adds the concerned SCell. For PSCell, SI can only be changed with Reconfiguration with Sync.
5.2.2	System information acquisition
5.2.2.1	General UE requirements

Figure 5.2.2.1-1: System information acquisition
The UE applies the SI acquisition procedure to acquire the AS- and NAS information. The procedure applies to UEs in RRC_IDLE, in RRC_INACTIVE and in RRC_CONNECTED.
The UE in RRC_IDLE and RRC_INACTIVE shall ensure having a valid version of (at least) the MIB, SIB1 through SIB4 and SIB5 (if the UE supports E-UTRA).
5.2.2.2	SI validity and need to (re)-acquire SI
5.2.2.2.1	SI validity
The UE shall apply the SI acquisition procedure as defined in clause 5.2.2.3 upon cell selection (e.g. upon power on), cell-reselection, return from out of coverage, after reconfiguration with sync completion, after entering the network from another RAT, upon receiving an indication that the system information has changed, upon receiving a PWS notification; whenever the UE does not have a valid version of a stored SI.
When the UE acquires a MIB or a SIB1 or a SI message in a serving cell as described in clause 5.2.2.3, the UE shall store the acquired SI. A version of the SI that the UE stored is no longer valid 3 hours after acquisition. The UE may use a valid stored version of the SI except MIB and SIB1 e.g. after cell re-selection, upon return from out of coverage or after the reception of SI change indication.
NOTE:	The storage and management of the stored SI in addition to the SI valid for the current serving cell is left to UE implementation.
The UE shall:
1>	delete any stored version of a SIB after 3 hours from the moment it was successfully confirmed as valid;
1>	for each stored version of a SIB:
2>	if the areaScope value of the stored version of the SIB is the same as the value received from the serving cell:
3>	if the stored SIB has an area scope and if the first PLMN-Identity included in the PLMN-IdentityInfoList, the systemInformationAreaID and the valueTag that are included in the SIB1 received from the serving cell are identical to the PLMN-Identity, the systemInformationAreaID and the valueTag associated with the stored version of that SIB; or
3>	if the stored SIB is cell specific and if valueTag and CellIdentity included in the SIB1 received from the serving cell is identical to the valueTag and CellIdentity associated with stored version of that SIB;
4> consider the stored SIB as valid for the cell;
5.2.2.2.2	SI change indication and PWS notification
A modification period is used, i.e. updated SI (other than for ETWS and CMAS) is broadcasted in the modification period following the one where SI change indication is transmitted. The modification period boundaries are defined by SFN values for which SFN mod m= 0, where m is the number of radio frames comprising the modification period. The modification period is configured by system information. The UE receives indications about SI modifications and/or PWS notifications using Short Message transmitted with P-RNTI over DCI (see section 6.5). Repetitions of SI change indication may occur within preceding modification period.
UEs in RRC_IDLE or in RRC_INACTIVE shall monitor for SI change indication in its own paging occasion every DRX cycle. UEs in RRC_CONNECTED shall monitor for SI change indication in any paging occasion at least once per modification period if the UE is provided with common search space to monitor paging, as specified in TS 38.213 [13, section 13].
ETWS or CMAS capable UEs in RRC_IDLE or in RRC_INACTIVE shall monitor for indications about PWS notification in its own paging occasion every DRX cycle. ETWS or CMAS capable UEs in RRC_CONNECTED shall monitor for indication about PWS notification in any paging occasion at least once per modification period if the UE is provided with common search space to monitor paging.
If the UE receives a Short Message, the UE shall:
1>	if the UE is ETWS capable or CMAS capable, and the etwsAndCmasIndication bit of Short Message is set:
2> immediately re-acquire the SIB1;
2>	if the UE is ETWS capable and si-SchedulingInfo includes scheduling information for SIB6:
3>	acquire SIB6, as specified in sub-clause 5.2.2.3, immediately;
2>	if the UE is ETWS capable and si-SchedulingInfo includes scheduling information for SIB7:
3>	acquire SIB7, as specified in sub-clause 5.2.2.3, immediately;
2>	if the UE is CMAS capable and si-SchedulingInfo includes scheduling information for SIB8:
3>	acquire SIB8, as specified in sub-clause 5.2.2.3, immediately;
1> if the systemInfoModification bit of Short Message is set:
2>	apply the SI acquisition procedure as defined in sub-clause 5.2.2.3 from the start of the next modification period.
5.2.2.3	Acquisition of System Information
5.2.2.3.1	Acquisition of MIB and SIB1
The UE shall:
1>	apply the specified BCCH configuration defined in 9.1.1.1;
1>	if the UE is in RRC_CONNECTED and the cell is a PSCell:
2>	acquire the MIB, which is scheduled as specified in TS 38.213 [13];
2>	perform the actions specified in section 5.2.2.4.1;
1>	else if the UE is in RRC_CONNECTED with an active BWP with common search space configured and has received an indication about change of system information:
2>	acquire the SIB1, which is scheduled as specified in TS 38.213 [13];
NOTE:	The UE is only required to acquire broadcasted SIB1 if the UE can acquire it without disrupting unicast data reception, i.e. the broadcast and unicast beams are quasi co-located.
2>	if the UE is unable to acquire the SIB1:
3>	perform the actions as specified in clause 5.2.2.5;
2>	else:
3>	perform the actions specified in section 5.2.2.4.2.
1>	else:
2>	acquire the MIB, which is scheduled as specified in TS 38.213 [13];
2>	if the UE is unable to acquire the MIB;
3>	perform the actions as specified in clause 5.2.2.5;
2>	else:
3>	perform the actions specified in section 5.2.2.4.1.
2>	acquire the SIB1, which is scheduled as specified in TS 38.213 [13];
2>	if the UE is unable to acquire the SIB1:
3>	perform the actions as specified in clause 5.2.2.5;
2>	else:
3>	perform the actions specified in section 5.2.2.4.2.
5.2.2.3.2	Acquisition of an SI message
When acquiring an SI message, the UE shall:
1>	determine the start of the SI-window for the concerned SI message as follows:
2>	for the concerned SI message, determine the number n which corresponds to the order of entry in the list of SI messages configured by schedulingInfoList in si-SchedulingInfo in SIB1;
2>	determine the integer value x = (n – 1) * w, where w is the si-WindowLength;
2>	the SI-window starts at the slot #a, where a = x mod N, in the radio frame for which SFN mod T = FLOOR(x/N), where T is the si-Periodicity of the concerned SI message and N is the number of slots in a radio frame as specified in TS 38.213 [13];
1>	if SI message acquisition is not triggered due to UE request:
2>	receive the PDCCH containing the scheduling RNTI, i.e. SI-RNTI, from the start of the SI-window and continue until the end of the SI-window whose absolute length in time is given by si-WindowLength, or until the SI message was received;
2>	if the SI message was not received by the end of the SI-window, repeat reception at the next SI-window occasion for the concerned SI message;
1>	else if SI message acquisition is triggered due to UE request:
2>	[FFS receive the PDCCH containing the scheduling RNTI, i.e. SI-RNTI, from the start of the SI-window and continue until the end of the SI-window whose absolute length in time is given by si-WindowLength, or until the SI message was received];
2>	[FFS if the SI message was not received by the end of the SI-window, repeat reception at the next SI-window occasion for the concerned SI message];
NOTE:	The UE is only required to acquire broadcasted SI message if the UE can acquire it without disrupting unicast data reception, i.e. the broadcast and unicast beams are quasi co-located.
Editor's Note: [FFS_Standalone on the details of from which SI-window the UE shall receive the DL-SCH upon triggering the SI request.
Editor's Note: [FFS on the details of how many SI-windows the UE should monitor for SI message reception if transmission triggered by UE request]
1>	perform the actions for the acquired SI message as specified in sub-clause 5.2.2.4.
Editor's Note: FFS The procedural text for SI message acquisition triggered by UE request will be updated upon finalizing the details.
5.2.2.3.3	Request for on demand system information
The UE shall:
1>	if SIB1 includes si-SchedulingInfo containing si-RequestConfig or si-RequestConfigSUL:
2>	trigger the lower layer to initiate the Random Access procedure in accordance with [3] using the PRACH preamble(s) and PRACH resource(s) in si-RequestConfig corresponding to the SI message(s) that the UE requires to operate within the cell, and for which si-BroadcastStatus is set to notBroadcasting;
2>	if acknowledgement for SI request is received from lower layers;
3>	acquire the requested SI message(s) as defined in sub-clause 5.2.2.3.2;
1>	else
2>	apply the timeAlignmentTimerCommon included in SIB1;
2>	apply the CCCH configuration as specified in 9.1.1.X;
2>	initiate transmission of the RRCSystemInfoRequest message in accordance with 5.2.2.3.4;
2>	if acknowledgement for RRCSystemInfoRequest message is received from lower layers;
3>	acquire the requested SI message(s) as defined in sub-clause 5.2.2.3.2;
NOTE:	After RACH failure for SI request it is UE implementation when to retry the SI request.
5.2.2.3.4	Actions related to transmission of RRCSystemInfoRequest message
The UE shall set the contents of RRCSystemInfoRequest message as follows:
1>	set the requested-SI-List to indicate the SI message(s) that the UE requires to operate within the cell, and for which si-BroadcastStatus is set to notBroadcasting.
The UE shall submit the RRCSystemInfoRequest message to lower layers for transmission.
5.2.2.4	Actions upon receipt of System Information
5.2.2.4.1	Actions upon reception of the MIB
Upon receiving the MIB the UE shall:
1>	store the acquired MIB;
1>	if the UE is in RRC_IDLE or in RRC_INACTIVE or if the UE is in RRC_CONNECTED while T311 is running: [FFS]
2>	if the cellBarred in the acquired MIB is set to barred:
3>	consider the cell as barred in accordance with TS 38.304 [20];
3>	if intraFreqReselection is set to notAllowed:
4>	consider cell re-selection to other cells on the same frequency as the barred cell as not allowed, as specified in TS 38.304 [20].
3>	else:
4>	consider cell re-selection to other cells on the same frequency as the barred cell as allowed, as specified in TS 38.304 [20].
2>	else:
3>	apply the received pdcch-ConfigSIB1, subCarrierSpacingCommon, ssb-SubcarrierOffset and dmrs-TypeA-Position and acquire SIB1, if ssb-SubcarrierOffset indicates SIB1 is transmitted in the cell [13] and if SIB1 acquisition is required for the UE.
5.2.2.4.2	Actions upon reception of the SIB1
Upon receiving the SIB1 the UE shall:
1>	store the acquired SIB1;
1>	if the cellAccessRelatedInfo contains an entry with the PLMN-Identity of the selected PLMN:
2>	in the remainder of the procedures use plmn-IdentityList, trackingAreaCode, and cellIdentity for the cell as received in the corresponding PLMN-IdentityInfo containing the selected PLMN;
1>	if in RRC_CONNECTED while T311 is not running:
2>	disregard the frequencyBandList, if received, while in RRC_CONNECTED;
2>	forward the cellIdentity to upper layers;
2>	forward the trackingAreaCode to upper layers;
1>	else:
2>	if one or more of the frequency bands indicated in the frequencyBandList for downlink and one or more of the frequency bands indicated in the frequencyBandList for uplink or one or more of the frequency bands indicated in the frequencyBandList for supplementary uplink, if configured, are part of the frequency bands supported by the UE and they are not downlink only bands, and the UE supports at least one additionalSpectrumEmission in the NR-NS-PmaxList within the frequencyBandList of FrequencyInfoUL-SIB for FDD or of FrequencyInfoDL-SIB for TDD for the frequency band selected by the UE (for the downlink and uplink or supplementary uplink, if configured):
3>	forward the cellIdentity to upper layers;
3>	forward the trackingAreaCode to upper layers;
3>	forward the ims-EmergencySupport to upper layers, if present;
3>	forward the eCallOverIMS-Support to upper layers, if present;
3>	apply the configuration included in the servingCellConfigCommonSIB;
3>	apply the specified PCCH configuration defined in 9.1.1.3;
3>	if the UE has a stored valid version of a SIB that the UE requires to operate within the cell in accordance with sub-clause 5.2.2.2.1:
4>	use the stored version of the required SIB;
3>	if the UE has not stored the valid version of one or several required SIB(s), in accordance with sub-clause 5.2.2.2.1:
4>	for the SI message(s) that, according to the si-SchedulingInfo, contain at least one required SIB and for which si-BroadcastStatus is set to broadcasting:
5>	acquire the SI message(s) as defined in sub-clause 5.2.2.3.2;
4>	for the SI message(s) that, according to the si-SchedulingInfo, contain at least one required SIB and for which si-BroadcastStatus is set to notBroadcasting:
5>	trigger a request to acquire the SI message(s) as defined in sub-clause 5.2.2.3.3;
3>	apply the first listed additionalSpectrumEmission which it supports among the values included in NR-NS-PmaxList within frequencyBandList;
3>	if the additionalPmax is present in the same entry of the selected additionalSpectrumEmission within NR-NS-PmaxList:
4>	apply the additionalPmax;
3>	else:
4>	apply the p-Max;
2>	else:
3>	consider the cell as barred in accordance with TS 38.304 [20]; and
3>	perform barring as if intraFreqReselection is set to notAllowed;
Editor's Note: To be further updated when content of the SIB1 has been completed.
5.2.2.4.3	Actions upon reception of SIB2
Upon receiving SIB2, the UE shall:
1>	if in RRC_IDLE, or in RRC_INACTIVE or in RRC_CONNECTED while T311 is running:
2>	if, for the frequency band selected by the UE (from the procedure in Section 5.2.2.4.2) to represent the serving cell's carrier frequency, the frequencyBandList is present in SIB2 and the UE supports at least one additionalSpectrumEmission in the NR-NS-PmaxList within the frequencyBandList:
3>	apply the first listed additionalSpectrumEmission which it supports among the values included in NR-NS-PmaxList within frequencyBandList;
3>	if the additionalPmax is present in the same entry of the selected additionalSpectrumEmission within NR-NS-PmaxList:
4>	apply the additionalPmax;
3>	else:
4>	apply the p-Max;
2>	else:
3>	apply the p-Max;
5.2.2.4.4	Actions upon reception of SIB3
No UE requirements related to the contents of this SIB3 apply other than those specified elsewhere e.g. within procedures using the concerned system information, and/ or within the corresponding field descriptions.
Editor's Note: To be further updated when content of the SIB3 has been completed.
5.2.2.4.5	Actions upon reception of SIB4
Upon receiving SIB4 the UE shall:
1>	if in RRC_IDLE, or in RRC_INACTIVE or in RRC_CONNECTED while T311 is running:
2>	if, for the frequency band selected by the UE to represent a non-serving NR carrier frequency is not a downlink only band:
3>	if, for the selected frequency band, the frequencyBandList is present in SIB4 and the UE supports at least one additionalSpectrumEmission in the NR-NS-PmaxList within the frequencyBandList:
4>	apply the first listed additionalSpectrumEmission which it supports among the values included in NR-NS-PmaxList within frequencyBandList;
4>	if the additionalPmax is present in the same entry of the selected additionalSpectrumEmission within NR-NS-PmaxList:
5>	apply the additionalPmax;
4>	else:
5>	apply the p-Max;
3>	else:
4>	apply the p-Max;
5.2.2.4.6	Actions upon reception of SIB5
No UE requirements related to the contents of this SIB5 apply other than those specified elsewhere e.g. within procedures using the concerned system information, and/ or within the corresponding field descriptions.
Editor's Note: To be updated when content of the SIB5 has been agreed.
5.2.2.4.7	Actions upon reception of SIB6
Upon receiving the SIB6 the UE shall:
1>	forward the received warningType, messageIdentifier and serialNumber to upper layers;	
5.2.2.4.8	Actions upon reception of SIB7
Upon receiving the SIB7 the UE shall:
1>	if there is no current value for messageIdentifier and serialNumber for SIB7; or
1>	if either the received value of messageIdentifier or of serialNumber or of both are different from the current values of messageIdentifier and serialNumber for SIB7:
2>	use the received values of messageIdentifier and serialNumber for SIB7 as the current values of messageIdentifier and serialNumber for SIB7;
2>	discard any previously buffered warningMessageSegment;
2>	if all segments of a warning message have been received:
3>	assemble the warning message from the received warningMessageSegment;
3>	forward the received warning message, messageIdentifier, serialNumber and dataCodingScheme to upper layers;
3>	stop reception of SIB7;
3>	discard the current values of messageIdentifier and serialNumber for SIB7;
2>	else:
3>	store the received warningMessageSegment;
3>	continue reception of SIB7;
1>	else if all segments of a warning message have been received:
2>	assemble the warning message from the received warningMessageSegment;
2>	forward the received complete warning message, messageIdentifier, serialNumber and dataCodingScheme to upper layers;
2>	stop reception of SIB7;
2>	discard the current values of messageIdentifier and serialNumber for SIB7;
1>	else:
2>	store the received warningMessageSegment;
2>	continue reception of SIB7;
The UE should discard any stored warningMessageSegment and the current value of messageIdentifier and serialNumber for SIB7 if the complete warning message has not been assembled within a period of 3 hours.
5.2.2.4.9	Actions upon reception of SIB8
Upon receiving the SIB8 the UE shall:
1>	if the SIB8 contains a complete warning message and the complete geographical area coordinates (if any):
2>	forward the received warning message, messageIdentifier, serialNumber, dataCodingScheme and the geographical area coordinates (if any) to upper layers;
2>	continue reception of SIB8;
1>	else:
2>	if the received values of messageIdentifier and serialNumber are the same (each value is the same) as a pair for which a warning message and the geographical area coordinates (if any) are currently being assembled:
3>	store the received warningMessageSegment;
3>	store the received warningAreaCoordinatesSegment (if any);
3>	if all segments of a warning message and geographical area coordinates (if any) have been received:
4>	assemble the warning message from the received warningMessageSegment;
4>	assemble the geographical area coordinates from the received warningAreaCoordinatesSegment (if any);
4>	forward the received warning message, messageIdentifier, serialNumber, dataCodingScheme and geographical area coordinates (if any) to upper layers;
4>	stop assembling a warning message and geographical area coordinates (if any) for this messageIdentifier and serialNumber and delete all stored information held for it;
3>	continue reception of SIB8;
2>	else if the received values of messageIdentifier and/or serialNumber are not the same as any of the pairs for which a warning message is currently being assembled:
3>	start assembling a warning message for this messageIdentifier and serialNumber pair;
3>	start assembling the geographical area coordinates (if any) for this messageIdentifier and serialNumber pair;
3>	store the received warningMessageSegment;
3>	store the received warningAreaCoordinatesSegment (if any);
3>	continue reception of SIB8;
The UE should discard warningMessageSegment and warningAreaCoordinatesSegment (if any) and the associated values of messageIdentifier and serialNumber for SIB8 if the complete warning message and the geographical area coordinates (if any) have not been assembled within a period of 3 hours.
NOTE:	The number of warning messages that a UE can re-assemble simultaneously is a function of UE implementation.
5.2.2.4.10	Actions upon reception of SIB9
No UE requirements related to the contents of this SIB9 apply other than those specified elsewhere e.g. within procedures using the concerned system information, and/ or within the corresponding field descriptions.
Editor's Note: To be extended with further sub-clauses as more SIBs are defined. FFS_Standalone
5.2.2.5	Essential system information missing
The UE shall:
1>	if in RRC_IDLE or in RRC_INACTIVE or in RRC_CONNECTED while T311 is running:
2>	if the UE is unable to acquire the MIB:
3>	consider the cell as barred in accordance with TS 38.304 [20]; and
3>	perform barring as if intraFreqReselection is set to allowed;
2>	else if the UE is unable to acquire the SIB1:
3>	consider the cell as barred in accordance with TS 38.304 [20].
5.3	Connection control
5.3.1	Introduction
5.3.1.1	RRC connection control
RRC connection establishment involves the establishment of SRB1. The network completes RRC connection establishment prior to completing the establishment of the NG connection, i.e. prior to receiving the UE context information from the 5GC. Consequently, AS security is not activated during the initial phase of the RRC connection. During this initial phase of the RRC connection, the network may configure the UE to perform measurement reporting, but the UE only sends the corresponding measurement reports after successful security activation. However, the UE only accepts a re-configuration with sync message when security has been activated.
Upon receiving the UE context from the 5GC, the RAN activates AS security (both ciphering and integrity protection) using the initial security activation procedure. The RRC messages to activate security (command and successful response) are integrity protected, while ciphering is started only after completion of the procedure. That is, the response to the message used to activate security is not ciphered, while the subsequent messages (e.g. used to establish SRB2 and DRBs) are both integrity protected and ciphered. After having initiated the initial security activation procedure, the network initiates the establishment of SRB2 and DRBs, i.e. the network may do this prior to receiving the confirmation of the initial security activation from the UE. In any case, the network will apply both ciphering and integrity protection for the RRC reconfiguration messages used to establish SRB2 and DRBs. The network should release the RRC connection if the initial security activation and/ or the radio bearer establishment fails.
The release of the RRC connection normally is initiated by the network. The procedure may be used to re-direct the UE to an NR frequency or an EUTRA carrier frequency.
The suspension of the RRC connection is initiated by the network. When the RRC connection is suspended, the UE stores the UE AS context and any configuration received from the network, and transits to RRC_INACTIVE state. The RRC message to suspend the RRC connection is integrity protected and ciphered.
The resumption of a suspended RRC connection is initiated by upper layers when the UE needs to transit from RRC_INACTIVE state to RRC_CONNECTED state or by RRC layer to perform a RNA update or by RAN paging from NG-RAN. When the RRC connection is resumed, network configures the UE according to the RRC connection resume procedure based on the stored UE AS context and any RRC configuration received from the network. The RRC connection resume procedure re-activates security and re-establishes SRB(s) and DRB(s).
In response to a request to resume the RRC connection, the network may resume the suspended RRC connection and send UE to RRC_CONNECTED, or reject the request to resume and send UE to RRC_INACTIVE (with a wait timer), or directly re-suspend the RRC connection and send UE to RRC_INACTIVE, or directly release the RRC connection and send UE to RRC_IDLE, or instruct the UE to discard the stored context and initiate NAS level recovery (in this case the network sends an RRC setup message).
Editor's Note	FFS NE-DC, NR-NR-DC related aspects.
5.3.1.2	Security
AS security comprises of the integrity protection and ciphering of RRC signalling (SRBs) and user data (DRBs).
RRC handles the configuration of the security parameters which are part of the AS configuration: the integrity protection algorithm, the ciphering algorithm, if integrity and/or ciphering is enabled for a DRB and two parameters, namely the keySetChangeIndicator and the nextHopChainingCount, which are used by the UE to determine the AS security keys upon reconfiguration with sync (with key change), connection re-establishment and/or connection resume.
The integrity protection and ciphering algorithm is common for signalling radio bearers SRB1 and SRB2. When not configured with any kind of DC, the ciphering and integrity protection algorithm is common for all radio bearers (i.e. SRB1, SRB2 and DRBs). All DRBs related to the same PDU session have the same security configuration. Neither integrity protection nor ciphering applies for SRB0.
Editor's Note:	FFS NE-DC, NR-NR-DC related security parameters such as SK-counter and S-KgNB.
RRC integrity and ciphering are always activated together, i.e. in one message/procedure. RRC integrity and ciphering for SRBs are never de-activated. However, it is possible to switch to a 'NULL' ciphering algorithm (nea0).
The 'NULL' integrity protection algorithm (nia0) is used only for SRBs and for the UE in limited service mode [11]. In case the 'NULL' integrity protection algorithm is used, 'NULL' ciphering algorithm is also used.
NOTE 1:	Lower layers discard RRC messages for which the integrity check has failed and indicate the integrity verification check failure to RRC.
The AS applies four different security keys: one for the integrity protection of RRC signalling (KRRCint), one for the ciphering of RRC signalling (KRRCenc), one for integrity protection of user data (KUPint) and one for the ciphering of user data (KUPenc). All four AS keys are derived from the KgNB key. The KgNB is based on the KAMF key (as specified in TS 33.501 [11]), which is handled by upper layers.
The integrity and ciphering algorithms can only be changed with reconfiguration with sync. The AS keys (KgNB, KRRCint, KRRCenc, KUPint and KUPenc) change upon reconfiguration with sync (if masterKeyUpdate is included), and upon connection re-establishment and connection resume.
For each radio bearer an independent counter (COUNT, as specified in TS 38.323 [5]) is maintained for each direction. For each radio bearer, the COUNT is used as input for ciphering and integrity protection. It is not allowed to use the same COUNT value more than once for a given security key. In order to limit the signalling overhead, individual messages/ packets include a short sequence number (PDCP SN, as specified in TS 38.323 [5]). In addition, an overflow counter mechanism is used: the hyper frame number (TX_HFN and RX_HFN, as specified in TS 38.323 [5]). The HFN needs to be synchronized between the UE and the network. The network is responsible for avoiding reuse of the COUNT with the same RB identity and with the same key, e.g. due to the transfer of large volumes of data, release and establishment of new RBs. In order to avoid such re-use, the network may e.g. use different RB identities for successive RB establishments, trigger an intra cell reconfiguration with sync, or an RRC_CONNECTED to RRC_IDLE/RRC_INACTIVE and then to RRC_CONNECTED transition.
For each SRB, the value provided by RRC to lower layers to derive the 5-bit BEARER parameter used as input for ciphering and for integrity protection is the value of the corresponding srb-Identity with the MSBs padded with zeroes.
Editor's Note:	FFS Handling of keys in NE-DC and NR-NR-DC.
5.3.2	Paging
5.3.2.1	General

Figure 5.3.2.1-1: Paging
The purpose of this procedure is:
-	to transmit paging information to a UE in RRC_IDLE or RRC_INACTIVE.
5.3.2.2	Initiation
The network initiates the paging procedure by transmitting the Paging message at the UE's paging occasion as specified in TS 38.304 [20]. The network may address multiple UEs within a Paging message by including one PagingRecord for each UE.
5.3.2.3	Reception of the Paging message by the UE
Upon receiving the Paging message, the UE shall:
1>	if in RRC_IDLE, for each of the PagingRecord, if any, included in the Paging message:
2>	if the ue-Identity included in the PagingRecord matches the UE identity allocated by upper layers:
3>	forward the ue-Identity and accessType (if present) to the upper layers;
1>	if in RRC_INACTIVE, for each of the PagingRecord, if any, included in the Paging message:
2>	if the ue-Identity included in the PagingRecord matches the UE's stored I-RNTI:
3>	if the UE is configured by upper layers with access identity 1:
4>	initiate the RRC connection resumption procedure according to 5.3.13 with resumeCause set to MPS-PriorityAccess;
3>	else if the UE is configured by upper layers with access identity 2:
4>	initiate the RRC connection resumption procedure according to 5.3.13 with resumeCause set to MCS-PriorityAccess;
3>	else if the UE is configured by upper layers with one or more access identities equal to 11-15:
4>	initiate the RRC connection resumption procedure according to 5.3.13 with resumeCause set to highPriorityAccess;
3>	else:
4>	initiate the RRC connection resumption procedure according to 5.3.13 with resumeCause set to mt-Access;
2>	else if the ue-Identity included in the PagingRecord matches the UE identity allocated by upper layers:
3>	forward the ue-Identity to upper layers and accessType (if present) to the upper layers;
3>	perform the actions upon going to RRC_IDLE as specified in 5.3.11 with release cause 'CN paging'.
5.3.3	RRC connection establishment
5.3.3.1	General

Figure 5.3.3.1-1: RRC connection establishment, successful

Figure 5.3.3.1-2: RRC connection establishment, network reject
The purpose of this procedure is to establish an RRC connection. RRC connection establishment involves SRB1 establishment. The procedure is also used to transfer the initial NAS dedicated information/ message from the UE to the network.
The network applies the procedure as follows:
-	When establishing an RRC connection;
-	When UE is resuming or re-establishing an RRC connection, and the network is not able to retrieve or verify the UE context. In this case, UE receives RRCSetup and responds with RRCSetupComplete.
5.3.3.2	Initiation
The UE initiates the procedure when upper layers request establishment of an RRC connection while the UE is in RRC_IDLE.
Upon initiation of the procedure, the UE shall:
1>	if the upper layers provide an Access Category and one or more Access Identities upon requesting establishment of an RRC connection:
2>	perform the unified access control procedure as specified in 5.3.14 using the Access Category and Access Identities provided by upper layers;
3>	if the access attempt is barred, the procedure ends;
1>	apply the specified values in corresponding specification for the parameters in Serving Cell configuration except for the parameters for which the values are provided in SIB1;
1>	apply the default MAC Cell Group configuration as specified in 9.2.x1;
1>	apply the CCCH configuration as specified in 9.1.1.x2;
1>	apply the timeAlignmentTimerCommon included in SIB1;
1>	start timer T300;
1>	initiate transmission of the RRCSetupRequest message in accordance with 5.3.3.3;
Editor's Note: FFS Details regarding default L1/L2 configurations (e.g. CCCH, physical channel, MAC, scheduling, etc.).
Editor's Note: FFS Requirements on up to date system information acquisition before connection setup.
5.3.3.3	Actions related to transmission of RRCSetupRequest message
The UE shall set the contents of RRCSetupRequest message as follows:
1>	set the ue-Identity as follows:
2>	if upper layers provide an 5G-S-TMSI:
3>	set the ue-Identity to ng-5G-S-TMSI-Part1;
2>	else:
3>	draw a 39-bit random value in the range 0..239-1 and set the ue-Identity to this value;
NOTE 1:	Upper layers provide the 5G-S-TMSI if the UE is registered in the TA of the current cell.
1>	set the establishmentCause in accordance with the information received from upper layers;
The UE shall submit the RRCSetupRequest message to lower layers for transmission.
The UE shall continue cell re-selection related measurements as well as cell re-selection evaluation. If the conditions for cell re-selection are fulfilled, the UE shall perform cell re-selection as specified in 5.3.3.6.
5.3.3.4	Reception of the RRCSetup by the UE
The UE shall perform the following actions upon reception of the RRCSetup:
1>	if the RRCSetup is received in response to an RRCReestablishmentRequest; or
1>	if the RRCSetup is received in response to an RRCResumeRequest or RRCResumeRequest1:
2>	discard the stored UE AS context, fullI-RNTI and shortI-RNTI;
2>	indicate to upper layers fallback of the RRC connection;
1>	perform the cell group configuration procedure in accordance with the received masterCellGroup and as specified in 5.3.5.5;
1>	perform the radio bearer configuration procedure in accordance with the received radioBearerConfig and as specified in 5.3.5.6;
1>	if stored, discard the cell reselection priority information provided by the cellReselectionPriorities or inherited from another RAT;
1>	stop timer T300, T301 or T319 if running;
Editor's Note: FFS Whether there is a need to define UE actions related to access control timers (equivalent to T302, T303, T305, T306, T308 in LTE). For example, informing upper layers if a given timer is not running.
1>	stop timer T320, if running;
1>	if the RRCSetup is received in response to an RRCResumeRequest or RRCSetupRequest:
2>	enter RRC_CONNECTED;
2>	stop the cell re-selection procedure;
1>	consider the current cell to be the PCell;
1>	set the content of RRCSetupComplete message as follows:
2>	if upper layers provide an 5G-S-TMSI:
3>	if the RRCSetup is received in response to an RRCSetupRequest:
4>	set the ng-5G-S-TMSI-Value to ng-5G-S-TMSI-Part2;
3>	else:
4>	set the ng-5G-S-TMSI-Value to ng-5G-S-TMSI;
2>	set the selectedPLMN-Identity to the PLMN selected by upper layers (TS 24.501 [23]) from the PLMN(s) included in the plmn-IdentityList in SIB1;
2>	if the masterCellGroup contains the reportUplinkTxDirectCurrent:
3>	include the uplinkTxDirectCurrentList;
2>	if upper layers provide the 'Registered AMF':
3>	include and set the registeredAMF as follows:
4>	if the PLMN identity of the 'Registered AMF' is different from the PLMN selected by the upper layers:
5>	include the plmnIdentity in the registeredAMF and set it to the value of the PLMN identity in the 'Registered AMF' received from upper layers;
4>	set the amf-Identifier to the value received from upper layers;
3>	include and set the guami-Type to the value provided by the upper layers;
Editor's Note: FFS Confirm whether the guami-Type is included and set in the abovementioned condition.
2>	if upper layers provide one or more S-NSSAI (see TS 23.003 [20]):
3>	include the s-nssai-List and set the content to the values provided by the upper layers;
2>	set the dedicatedNAS-Message to include the information received from upper layers;
1>	submit the RRCSetupComplete message to lower layers for transmission, upon which the procedure ends
5.3.3.5	Reception of the RRCReject by the UE
The UE shall:
1>	perform the actions as specified in 5.3.15;
5.3.3.6	Cell re-selection while T300 or T302 is running
Editor's Note: FFS Whether cell reselection actions need to be defined for other timers e.g. access control timers equivalent to T303, T305, T306 and T308 in LTE).
The UE shall:
1>	if cell reselection occurs while T300 or T302 is running:
2>	perform the actions upon going to RRC_IDLE as specified in 5.3.11 with release cause RRC connection failure;
5.3.3.7	T300 expiry
The UE shall:
1>	if timer T300 expires:
2>	reset MAC, release the MAC configuration and re-establish RLC for all RBs that are established;
2>	if the T300 has expired a consecutive connEstFailCount times on the same cell for which connectionEstablishmentFailureControl is included in SIB1:
3>	for a period as indicated by connEstFailOffsetValidity:
4>	use connEstFailOffset for the parameter Qoffsettemp for the concerned cell when performing cell selection and reselection according to TS 38.304 [20] and TS 36.304 [27];
NOTE:	When performing cell selection, if no suitable or acceptable cell can be found, it is up to UE implementation whether to stop using connEstFailOffset for the parameter Qoffsettemp during connEstFailOffsetValidity for the concerned cell.
2>	inform upper layers about the failure to establish the RRC connection, upon which the procedure ends;
5.3.3.8	Abortion of RRC connection establishment
If upper layers abort the RRC connection establishment procedure while the UE has not yet entered RRC_CONNECTED, the UE shall:
1>	stop timer T300, if running;
1>	reset MAC, release the MAC configuration and re-establish RLC for all RBs that are established;
Editor's Note: FFS Discuss whether abortion of RRC connection establishment triggered upper layers is needed.
5.3.4	Initial security activation
5.3.4.1	General

Figure 5.3.4.1-1: Security mode command, successful

Figure 5.3.4.1-2: Security mode command, failure
The purpose of this procedure is to activate AS security upon RRC connection establishment.
5.3.4.2	Initiation
The network initiates the security mode command procedure to a UE in RRC_CONNECTED. Moreover, the network applies the procedure as follows:
-	when only SRB1, is established, i.e. prior to establishment of SRB2 and/ or DRBs.
5.3.4.3	Reception of the SecurityModeCommand by the UE
The UE shall:
1>	derive the KgNB key, as specified in TS 33.501 [11];
1>	derive the KRRCint key associated with the integrityProtAlgorithm indicated in the SecurityModeCommand message, as specified in TS 33.501 [11];
1>	request lower layers to verify the integrity protection of the SecurityModeCommand message, using the algorithm indicated by the integrityProtAlgorithm as included in the SecurityModeCommand message and the KRRCint key;
1>	if the SecurityModeCommand message passes the integrity protection check:
2>	derive the KRRCenc key and the KUPenc key associated with the cipheringAlgorithm indicated in the SecurityModeCommand message, as specified in TS 33.501 [11];
2>	derive the KUPint key associated with the integrityProtAlgorithm indicated in the SecurityModeCommand message, as specified in TS 33.501 [11];
2>	configure lower layers to apply SRB integrity protection using the indicated algorithm and the KRRCint key immediately, i.e. integrity protection shall be applied to all subsequent messages received and sent by the UE, including the SecurityModeComplete message;
2>	configure lower layers to apply SRB ciphering using the indicated algorithm, the KRRCenc keyafter completing the procedure, i.e. ciphering shall be applied to all subsequent messages received and sent by the UE, except for the SecurityModeComplete message which is sent unciphered;
2>	consider AS security to be activated;
2>	submit the SecurityModeComplete message to lower layers for transmission, upon which the procedure ends;
1>	else:
2>	continue using the configuration used prior to the reception of the SecurityModeCommand message, i.e. neither apply integrity protection nor ciphering.
2>	submit the SecurityModeFailure message to lower layers for transmission, upon which the procedure ends.
5.3.5	RRC reconfiguration
5.3.5.1	General

Figure 5.3.5.1-1: RRC reconfiguration, successful

Figure 5.3.5.1-2: RRC reconfiguration, failure
The purpose of this procedure is to modify an RRC connection, e.g. to establish/modify/release RBs, to perform reconfiguration with sync, to setup/modify/release measurements, to add/modify/release SCells and cell groups. As part of the procedure, NAS dedicated information may be transferred from the Network to the UE.
In EN-DC, SRB3 can be used for measurement configuration and reporting, to (re-)configure MAC, RLC, physical layer and RLF timers and constants of the SCG configuration, and to reconfigure PDCP for DRBs associated with the S-KgNB or SRB3, provided that the (re-)configuration does not require any MeNB involvement.
5.3.5.2	Initiation
The Network may initiate the RRC reconfiguration procedure to a UE in RRC_CONNECTED. The Network applies the procedure as follows:
-	the establishment of RBs (other than SRB1, that is established during RRC connection establishment) is performed only when AS security has been activated;
-	the addition of Secondary Cell Group and SCells is performed only when AS security has been activated;
-	the reconfigurationWithSync is included in secondaryCellGroup only when at least one DRB is setup in SCG.
5.3.5.3	Reception of an RRCReconfiguration by the UE
The UE shall perform the following actions upon reception of the RRCReconfiguration:
1>	if the RRCReconfiguration includes the fullConfig:
2>	perform the radio configuration procedure as specified in 5.3.5.11;
1>	if the RRCReconfiguration includes the masterCellGroup:
2>	perform the cell group configuration for the received masterCellGroup according to 5.3.5.5;
1>	if the RRCReconfiguration includes the masterKeyUpdate:
2>	perform security key update procedure as specified in 5.3.5.7;
1>	if the RRCReconfiguration includes the secondaryCellGroup:
2>	perform the cell group configuration for the SCG according to 5.3.5.5;
1>	if the RRCReconfiguration message contains the radioBearerConfig:
2>	perform the radio bearer configuration according to 5.3.5.6;
1>	if the RRCReconfiguration message includes the measConfig:
2>	perform the measurement configuration procedure as specified in 5.5.2;
1>	if the RRCReconfiguration message includes the dedicatedSIB1-Delivery:
2>	perform the action upon reception of SIB1 as specified in 5.2.2.4.2;
1>	if the RRCReconfiguration message includes the dedicatedSystemInformationDelivery:
2>	perform the action upon reception of System Information as specified in 5.2.2.4;
1>	set the content of RRCReconfigurationComplete message as follows:
2>	if the RRCReconfiguration includes the masterCellGroup containing the reportUplinkTxDirectCurrent, or;
2>	if the RRCReconfiguration includes the secondaryCellGroup containing the reportUplinkTxDirectCurrent:
3>	include the uplinkTxDirectCurrentList;
1>	if the UE is configured with E-UTRA nr-SecondaryCellGroupConfig (MCG is E-UTRA):
2>	if RRCReconfiguration was received via SRB1:
3>	submit the RRCReconfigurationComplete via the EUTRA MCG embedded in E-UTRA RRC message RRCConnectionReconfigurationComplete as specified in TS 36.331 [10];
3>	if reconfigurationWithSync was included in spCellConfig of an SCG:
4>	initiate the random access procedure on the SpCell, as specified in TS 38.321 [3];
3>	else:
4>	the procedure ends;
NOTE:	The order the UE sends the RRCConnectionReconfigurationComplete message and performs the Random Access procedure towards the SCG is left to UE implementation.
2>	else (RRCReconfiguration was received via SRB3):
3>	submit the RRCReconfigurationComplete message via SRB3 to lower layers for transmission using the new configuration;
NOTE:	For EN-DC, in the case of SRB1, the random access is triggered by RRC layer itself as there is not necessarily other UL transmission. In the case of SRB3, the random access is triggered by the MAC layer due to arrival of RRCReconfigurationComplete.
1>	else:
2>	submit the RRCReconfigurationComplete message via SRB1 to lower layers for transmission using the new configuration;
1>	if reconfigurationWithSync was included in spCellConfig of an MCG or SCG, and when MAC of an NR cell group successfully completes a random access procedure triggered above;
2>	stop timer T304 for that cell group;
2>	apply the parts of the CQI reporting configuration, the scheduling request configuration and the sounding RS configuration that do not require the UE to know the SFN of the respective target SpCell, if any;
2>	apply the parts of the measurement and the radio resource configuration that require the UE to know the SFN of the respective target SpCell (e.g. measurement gaps, periodic CQI reporting, scheduling request configuration, sounding RS configuration), if any, upon acquiring the SFN of that target SpCell;
2>	if the reconfigurationWithSync was included in spCellConfig of an MCG:
3>	if the active downlink BWP, which is indicated by the firstActiveDownlinkBWP-Id for the target SpCell of the MCG, has a common search space configured:
4>	acquire the SIB1 of the target SpCell of the MCG, as specified in 5.2.2.3.1;
2>	the procedure ends.
NOTE:	The UE is only required to acquire broadcasted SIB1 if the UE can acquire it without disrupting unicast data reception, i.e. the broadcast and unicast beams are quasi co-located.
5.3.5.4	Secondary cell group release
The UE shall:
1>	as a result of SCG release triggered by E-UTRA:
2>	reset SCG MAC, if configured;
2>	for each RLC bearer that is part of the SCG configuration:
3>	perform RLC bearer release procedure as specified in 5.3.5.5.3;
2>	release the SCG configuration;
2>	stop timer T310 for the corresponding SpCell, if running;
2>	stop timer T304 for the corresponding SpCell, if running.
NOTE:	Release of cell group means only release of the lower layer configuration of the cell group but the RadioBearerConfig may not be released.
5.3.5.5	Cell Group configuration
5.3.5.5.1	General
The network configures the UE with Master Cell Group (MCG), and zero or one Secondary Cell Group (SCG). For EN-DC, the MCG is configured as specified in TS 36.331 [10]. The network provides the configuration parameters for a cell group in the CellGroupConfig IE.
The UE performs the following actions based on a received CellGroupConfig IE:
1>	if the CellGroupConfig contains the spCellConfig with reconfigurationWithSync:
2>	perform Reconfiguration with sync according to 5.3.5.5.2;
2>	resume all suspended radio bearers and resume SCG transmission for all radio bearers, if suspended;
1>	if the CellGroupConfig contains the rlc-BearerToReleaseList:
2>	perform RLC bearer release as specified in 5.3.5.5.3;
1>	if the CellGroupConfig contains the rlc-BearerToAddModList:
2>	perform the RLC bearer addition/modification as specified in 5.3.5.5.4;
1>	if the CellGroupConfig contains the mac-CellGroupConfig:
2>	configure the MAC entity of this cell group as specified in 5.3.5.5.5;
1>	if the CellGroupConfig contains the sCellToReleaseList:
2>	perform SCell release as specified in 5.3.5.5.8;
1>	if the CellGroupConfig contains the spCellConfig:
2>	configure the SpCell as specified in 5.3.5.5.7;
1>	if the CellGroupConfig contains the sCellToAddModList:
2>	perform SCell addition/modification as specified in 5.3.5.5.9.
5.3.5.5.2	Reconfiguration with sync
The UE shall perform the following actions to execute a reconfiguration with sync.
1>	stop timer T310 for the corresponding SpCell, if running;
1>	start timer T304 for the corresponding SpCell with the timer value set to t304, as included in the reconfigurationWithSync;
1>	if the frequencyInfoDL is included:
2>	consider the target SpCell to be one on the SSB frequency indicated by the frequencyInfoDL with a physical cell identity indicated by the physCellId;
1>	else:
2>	consider the target SpCell to be one on the SSB frequency of the source SpCell with a physical cell identity indicated by the physCellId;
1>	start synchronising to the DL of the target SpCell and acquire the MIB of the target SpCell as specified in 5.2.2.3.1;
NOTE:	The UE should perform the reconfiguration with sync as soon as possible following the reception of the RRC message triggering the reconfiguration with sync, which could be before confirming successful reception (HARQ and ARQ) of this message.
1>	reset the MAC entity of this cell group;
1>	consider the SCell(s) of this cell group, if configured, to be in deactivated state;
1>	apply the value of the newUE-Identity as the C-RNTI for this cell group;
Editor's Note: Verify that this does not configure some common parameters which are later discarded due to e.g. SCell release or due to LCH release.
1>	configure lower layers in accordance with the received spCellConfigCommon;
1>	configure lower layers in accordance with any additional fields, not covered in the previous, if included in the received reconfigurationWithSync.
5.3.5.5.3	RLC bearer release
The UE shall:
1>	for each logicalChannelIdentity value included in the rlc-BearerToReleaseList that is part of the current UE configuration (LCH release); or
1>	for each logicalChannelIdentity value that is to be released as the result of an SCG release according to 5.3.5.4:
2>	release the RLC entity or entities as specified in TS 38.322 [4, section 5.1.3];
2>	release the corresponding logical channel.
5.3.5.5.4	RLC bearer addition/modification
For each RLC-BearerConfig received in the rlc-BearerToAddModList IE the UE shall:
1>	if the UE's current configuration contains a RLC bearer with the received logicalChannelIdentity:
2>	if reestablishRLC is received:
3>	re-establish the RLC entity as specified in TS 38.322 [4];
2>	reconfigure the RLC entity or entities in accordance with the received rlc-Config;
2>	reconfigure the logical channel in accordance with the received mac-LogicalChannelConfig;
NOTE:	The network does not re-associate an already configured logical channel with another radio bearer. Hence servedRadioBearer is not present in this case.
1>	else (a logical channel with the given logicalChannelIdentity was not configured before):
2>	if the logicalChannelIdentity corresponds to an SRB and rlc-Config is not included:
3>	establish an RLC entity in accordance with the default configuration defined in 9.2 for the corresponding SRB;
2>	else:
3>	establish an RLC entity in accordance with the received rlc-Config;
2>	if the logicalChannelIdentity corresponds to an SRB and if mac-LogicalChannelConfig is not included:
3>	configure this MAC entity with a logical channel in accordance to the default configuration defined in 9.2 for the corresponding SRB;
2>	else:
3>	configure this MAC entity with a logical channel in accordance to the received mac-LogicalChannelConfig;
2>	associate this logical channel with the PDCP entity identified by servedRadioBearer.
5.3.5.5.5	MAC entity configuration
The UE shall:
1>	if MCG MAC is not part of the current UE configuration (i.e. MCG establishment):
2>	create an MCG MAC entity;
1>	if SCG MAC is not part of the current UE configuration (i.e. SCG establishment):
2>	create an SCG MAC entity;
1>	reconfigure the MAC main configuration of the cell group in accordance with the received mac-CellGroupConfig other than tag-ToReleaseList and tag-ToAddModList;
1>	if the received mac-CellGroupConfig includes the tag-ToReleaseList:
2>	for each TAG-Id value included in the tag-ToReleaseList that is part of the current UE configuration:
3>	release the TAG indicated by TAG-Id;
1>	if the received mac-CellGroupConfig includes the tag-ToAddModList:
2>	for each tag-Id value included in tag-ToAddModList that is not part of the current UE configuration (TAG addition):
3>	add the TAG, corresponding to the tag-Id, in accordance with the received timeAlignmentTimer;
2>	for each tag-Id value included in tag-ToAddModList that is part of the current UE configuration (TAG modification):
3>	reconfigure the TAG, corresponding to the tag-Id, in accordance with the received timeAlignmentTimer.
5.3.5.5.6	RLF Timers & Constants configuration
The UE shall:
1>	if the received rlf-TimersAndConstants is set to release:
2>	use values for timers T301, T310, T311 and constants N310, N311, as included in ue-TimersAndConstants received in SIB1;
1>	else:
2>	(re-)configure the value of timers and constants in accordance with received rlf-TimersAndConstants.
2>	stop timer T310 for this cell group, if running, and
2>	reset the counters N310 and N311
5.3.5.5.7	SPCell Configuration
The UE shall:
1>	if the SpCellConfig contains the rlf-TimersAndConstants:
2>	configure the RLF timers and constants for this cell group as specified in 5.3.5.5.6.
1>	else if rlf-TimersAndConstants is not configured for this cell group:
2>	use values for timers T301, T310, T311 and constants N310, N311, as included in ue-TimersAndConstants received in SIB1;
1>	if the SpCellConfig contains spCellConfigDedicated:
2>	configure the SpCell in accordance with the spCellConfigDedicated;
2>	consider the bandwidth part indicated in firstActiveUplinkBWP-Id if configured to be the active uplink bandwidth part;
2>	consider the bandwidth part indicated in firstActiveDownlinkBWP-Id if configured to be the active downlink bandwidth part;
2>	if the any of the reference signal(s) that are used for radio link monitoring are reconfigured by the received spCellConfigDedicated:
3>	stop timer T310 for the corresponding SpCell, if running;
3>	reset the counters N310 and N311.
5.3.5.5.8	SCell Release
The UE shall:
1>	if the release is triggered by reception of the sCellToReleaseList:
2>	for each sCellIndex value included in the sCellToReleaseList:
3>	if the current UE configuration includes an SCell with value sCellIndex:
4>	release the SCell.
5.3.5.5.9	SCell Addition/Modification
The UE shall:
1>	for each sCellIndex value included in the sCellToAddModList that is not part of the current UE configuration (SCell addition):
2>	add the SCell, corresponding to the sCellIndex, in accordance with the sCellConfigCommon and sCellConfigDedicated;
2>	configure lower layers to consider the SCell to be in deactivated state;
Editor's Note: FFS Check automatic measurement handling for SCells.
2>	for each measId included in the measIdList within VarMeasConfig:
3>	if SCells are not applicable for the associated measurement; and
3>	if the concerned SCell is included in cellsTriggeredList defined within the VarMeasReportList for this measId:
4>	remove the concerned SCell from cellsTriggeredList defined within the VarMeasReportList for this measId;
1>	for each sCellIndex value included in the sCellToAddModList that is part of the current UE configuration (SCell modification):
2>	modify the SCell configuration in accordance with the sCellConfigDedicated.
5.3.5.6	Radio Bearer configuration
5.3.5.6.1	General
The UE shall perform the following actions based on a received RadioBearerConfig IE:
1>	if the RadioBearerConfig includes the srb3-ToRelease and set to true:
2>	perform the SRB release as specified in 5.3.5.6.2;
1>	if the RadioBearerConfig includes the srb-ToAddModList:
2>	perform the SRB addition or reconfiguration as specified in 5.3.5.6.3;
1>	if the RadioBearerConfig includes the drb-ToReleaseList:
2>	perform DRB release as specified in 5.3.5.6.4;
1>	if the RadioBearerConfig includes the drb-ToAddModList:
2>	perform DRB addition or reconfiguration as specified in 5.3.5.6.5.
1>	release all SDAP entities, if any, that have no associated DRB as specified in TS 37.324 [xx] section 5.1.2.
5.3.5.6.2	SRB release
The UE shall:
1>	release the PDCP entity of the SRB3.
5.3.5.6.3	SRB addition/modification
The UE shall:
1>	for each srb-Identity value included in the srb-ToAddModList that is not part of the current UE configuration (SRB establishment or reconfiguration from E-UTRA PDCP to NR PDCP):
2>	establish a PDCP entity and configure it with the security algorithms according to securityConfig and apply the keys (KRRCenc and KRRCint) associated with the master key (KeNB/ KgNB) or secondary key (S-KgNB) as indicated in keyToUse, if applicable;
2>	if the current UE configuration as configured by E-UTRA in TS 36.331 includes an SRB identified with the same srb-Identity value:
3>	associate the E-UTRA RLC entity and DCCH of this SRB with the NR PDCP entity;
3>	release the E-UTRA PDCP entity of this SRB;
2>	if the pdcp-Config is included:
3>	configure the PDCP entity in accordance with the received pdcp-Config;
2>	else:
3>	configure the PDCP entity in accordance with the default configuration defined in 9.2.1 for the corresponding SRB;
1>	for each srb-Identity value included in the srb-ToAddModList that is part of the current UE configuration:
2>	if the reestablishPDCP is set:
3>	if target RAT is E-UTRA/5GC:
4>	configure the PDCP entity to apply the integrity protection algorithm and KRRCint key configured/derived as specified in TS 36.331 [10, 5.4.2.3], i.e. the integrity protection configuration shall be applied to all subsequent messages received and sent by the UE, including the message used to indicate the successful completion of the procedure;
4>	configure the PDCP entity to apply the ciphering algorithm and KRRCenc key configured/derived as specified in TS 36.331 [10, 5.4.2.3], i.e. the ciphering configuration shall be applied to all subsequent messages received and sent by the UE, including the message used to indicate the successful completion of the procedure;
3>	else:
4>	configure the PDCP entity to apply the integrity protection algorithm and KRRCint key associated with the master key (KeNB/KgNB) or secondary key (S-KgNB), as indicated in keyToUse , i.e. the integrity protection configuration shall be applied to all subsequent messages received and sent by the UE, including the message used to indicate the successful completion of the procedure;
4>	configure the PDCP entity to apply the ciphering algorithm and KRRCenc key associated with the master key (KeNB/KgNB) or secondary key (S-KgNB) as indicated in keyToUse, i.e. the ciphering configuration shall be applied to all subsequent messages received and sent by the UE, including the message used to indicate the successful completion of the procedure;
4>	re-establish the PDCP entity of this SRB as specified in 38.323 [5];
2>	else, if the discardOnPDCP is set:
3>	trigger the PDCP entity to perform SDU discard as specified in TS 38.323 [5];
2>	if the pdcp-Config is included:
3>	reconfigure the PDCP entity in accordance with the received pdcp-Config.
5.3.5.6.4	DRB release
Editor's Note: FFS / TODO: Add handling for the new QoS concept (mapping of flows; configuration of QFI-to-DRB mapping; reflective QoS...) but keep also EPS-Bearer handling for the EN-DC case
The UE shall:
1>	for each drb-Identity value included in the drb-ToReleaseList that is part of the current UE configuration (DRB release):
2>	release the PDCP entity;
2>	if SDAP entity associated with this DRB is configured:
3>	indicate the release of the DRB to SDAP entity associated with this DRB (TS 37.324 [xx] section 5.3.3);
2>	if the UE is operating in EN-DC:
3>	if a new bearer is not added either with NR or E-UTRA with same eps-BearerIdentity:
4>	indicate the release of the DRB and the eps-BearerIdentity of the released DRB to upper layers.
NOTE 1:	The UE does not consider the message as erroneous if the drb-ToReleaseList includes any drb-Identity value that is not part of the current UE configuration.
NOTE 2:	Whether or not the RLC and MAC entities associated with this PDCP entity are reset or released is determined by the CellGroupConfig.
5.3.5.6.5	DRB addition/modification
The UE shall:
1>	for each drb-Identity value included in the drb-ToAddModList that is not part of the current UE configuration (DRB establishment including the case when full configuration option is used):
2>	if an sdap-Config is included:
3>	if an SDAP entity with the received pdu-Session does not exist:
4>	establish an SDAP entity as specified in TS 37.324 [xx] section 5.1.1;
3>	configure the SDAP entity in accordance with the received sdap-Config as specified in TS 37.324 [xx] and associate the DRB with the SDAP entity;
2>	establish a PDCP entity and configure it in accordance with the received pdcp-Config;
2>	if the PDCP entity of this DRB is not configured with cipheringDisabled:
3>	configure the PDCP entity with the ciphering algorithms according to securityConfig and apply the KUPenc key associated with the master key (KeNB/KgNB) or the secondary key (S-KgNB) as indicated in keyToUse;
2>	if the PDCP entity of this DRB is configured with integrityProtection:
3>	configure the PDCP entity with the integrity algorithms according to securityConfig and apply the KUPint key associated with the master (KeNB/KgNB) or the secondary key (S-KgNB) as indicated in keyToUse;
2>	if the UE is operating in EN-DC:
3>if the DRB was configured with the same eps-BearerIdentity either by NR or E-UTRA prior to receiving this reconfiguration:
4>	associate the established DRB with the corresponding eps-BearerIdentity;
3>	else:
4>	indicate the establishment of the DRB(s) and the eps-BearerIdentity of the established DRB(s) to upper layers;
1>	for each drb-Identity value included in the drb-ToAddModList that is part of the current UE configuration:
2>	if an sdap-Config is included, reconfigure the SDAP entity in accordance with the received sdap-Config as specified in TS 37.324 [xx];
2>	if the reestablishPDCP is set:
3>	if target RAT is E-UTRA/5GC:
4>	if the PDCP entity of this DRB is not configured with cipheringDisabled:
5>	configure the PDCP entity with the ciphering algorithm and KUPenc key configured/derived as specified in TS 36.331 [10, 5.4.2.3], i.e. the ciphering configuration shall be applied to all subsequent PDCP PDUs received and sent by the UE;
3>	else:
4>	if the PDCP entity of this DRB is not configured with cipheringDisabled:
5>	configure the PDCP entity with the ciphering algorithm and KUPenc key associated with the master or secondary key (KeNB/S-KgNB/KgNB) as indicated in keyToUse, i.e. the ciphering configuration shall be applied to all subsequent PDCP PDUs received and sent by the UE;
4>	if the PDCP entity of this DRB is configured with integrityProtection:
5>	configure the PDCP entity with the integrity algorithms according to securityConfig and apply the KUPint key associated with the master (KeNB/KgNB) or the secondary key (S-KgNB) as indicated in keyToUse;
3>	re-establish the PDCP entity of this DRB as specified in 38.323 [5], section 5.1.2;
2>	else, if the recoverPDCP is set:
3>	trigger the PDCP entity of this DRB to perform data recovery as specified in 38.323;
2>	if the pdcp-Config is included:
3>	reconfigure the PDCP entity in accordance with the received pdcp-Config.
NOTE 1:	Removal and addition of the same drb-Identity in a single radioResourceConfig is not supported. In case drb-Identity is removed and added due to reconfiguration with sync or re-establishment with the full configuration option, the network can use the same value of drb-Identity.
NOTE 2:	When determining whether a drb-Identity value is part of the current UE configuration, the UE does not distinguish which RadioBearerConfig and DRB-ToAddModList that DRB was originally configured in. To re-associate a DRB with a different key (KeNB to S-KeNB or vice versa), the network provides the drb-Identity value in the (target) drb-ToAddModList and sets the reestablishPDCP flag. The network does not list the drb-Identity in the (source) drb-ToReleaseList.
NOTE 3:	When setting the reestablishPDCP flag for a radio bearer, the network ensures that the RLC receiver entities do not deliver old PDCP PDUs to the re-established PDCP entity. It does that e.g. by triggering a reconfiguration with sync of the cell group hosting the old RLC entity or by releasing the old RLC entity.
NOTE 4:	In this specification, UE configuration refers to the parameters configured by NR RRC unless otherwise stated.
NOTE 5: Ciphering and integrity protection can be enabled or disabled for a DRB. The enabling/disabling of ciphering or integrity protection can be changed only by releasing and adding the DRB.
5.3.5.7	Security key update
The UE shall:
1>	if the UE is operating in EN-DC:
2>	upon reception of sk-Counter as specified in TS 36.331 [10]:
3>	update the S-KgNB key based on the KeNB key and using the received sk-Counter value, as specified in TS 33.401 [11];
3>	derive KRRCenc and KUPenc key as specified in TS 33.401 [11];
3>	derive the KRRCint and KUPint key as specified in TS 33.401 [11].
1>	else:
2>	if the nas-Container is included in the received masterKeyUpdate:
3>	forward the nas-Container to the upper layers;
2>	if the keySetChangeIndicator is set to TRUE:
3>	derive or update the KgNB key based on the KAMF key, as specified in TS 33.501 [11];
2>	else:
3>	derive or update the KgNB key based on the current KgNB or the NH, using the nextHopChainingCount value indicated in the received masterKeyUpdate, as specified in TS 33.501 [11];
2>	store the nextHopChainingCount value;
2>	derive the keys associated with KgNB as follows:
2>	if the securityAlgorithmConfig is included in SecurityConfig:
3>	derive KRRCenc and KUPenc key associated with the cipheringAlgorithm indicated in the securityAlgorithmConfig, as specified in TS 33.501 [11];
3>	derive the KRRCint and KUPint key associated with the integrityProtAlgorithm indicated in the securityAlgorithmConfig, as specified in TS 33.501 [11];
2>	else:
3>	derive KRRCenc and KUPenc key associated with the current cipheringAlgorithm, as specified in TS 33.501 [11];
3>	derive the KRRCint and KUPint key associated with the current integrityProtAlgorithm, as specified in TS 33.501 [11].
NOTE:	Ciphering and integrity protection are optional to configure for the DRBs.
5.3.5.8	Reconfiguration failure
5.3.5.8.1	Integrity check failure
Editor's Note: Removed "SIB3" from heading so that this sub-section can easily be expanded to stand-alone case (if considered necessary). FFS_Standalone
The UE shall:
1>	upon integrity check failure indication from NR lower layers for SRB3:
2>	initiate the SCG failure information procedure as specified in subclause 5.7.3 to report SRB3 integrity check failure.
5.3.5.8.2	Inability to comply with RRCReconfiguration
The UE shall:
1>	if the UE is operating in EN-DC:
2>	if the UE is unable to comply with (part of) the configuration included in the RRCReconfiguration message received over SRB3;
3>	continue using the configuration used prior to the reception of RRCReconfiguration message;
3>	initiate the SCG failure information procedure as specified in subclause 5.7.3 to report SCG reconfiguration error, upon which the connection reconfiguration procedure ends;
2>	else, if the UE is unable to comply with (part of) the configuration included in the RRCReconfiguration message received over MCG SRB1;
3>	continue using the configuration used prior to the reception of RRCReconfiguration message;
3>	initiate the connection re-establishment procedure as specified in TS 36.331 [10, 5.3.7], upon which the connection reconfiguration procedure ends.
1>	else if RRCReconfiguration is received via NR:
2>	if the UE is unable to comply with (part of) the configuration included in the RRCReconfiguration message;
3>	continue using the configuration used prior to the reception of RRCReconfiguration message;
3>	if security has not been activated:
4>	perform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause other;
3>	else:
4>	initiate the connection re-establishment procedure as specified in 5.3.7, upon which the reconfiguration procedure ends;
1>	else if RRCReconfiguration is received via other RAT (HO to NR failure):
2>	if the UE is unable to comply with any part of the configuration included in the RRCReconfiguration message:
3>	perform the actions defined for this failure case as defined in the specifications applicable for the other RAT.
NOTE 1:	The UE may apply above failure handling also in case the RRCReconfiguration message causes a protocol error for which the generic error handling as defined in 10 specifies that the UE shall ignore the message.
NOTE 2:	If the UE is unable to comply with part of the configuration, it does not apply any part of the configuration, i.e. there is no partial success/failure.
5.3.5.8.3	T304 expiry (Reconfiguration with sync Failure)
The UE shall:
1>	if T304 of the MCG expires:
2>	release dedicated preambles provided in rach-ConfigDedicated if configured;
2>	revert back to the UE configuration used in the source PCell;
2>	initiate the connection re-establishment procedure as specified in subclause 5.3.7.
NOTE 1:	In the context above, "the UE configuration" includes state variables and parameters of each radio bearer.
1>	else if T304 of a secondary cell group expires:
2>	release dedicated preambles provided in rach-ConfigDedicated, if configured;
2>	initiate the SCG failure information procedure as specified in subclause 5.7.3 to report SCG reconfiguration with sync failure, upon which the RRC reconfiguration procedure ends;
1>	else if T304 expires when RRCReconfiguration is received via other RAT (HO to NR failure):
2>	reset MAC;
2>	perform the actions defined for this failure case as defined in the specifications applicable for the other RAT.
5.3.5.9	Other configuration
The UE shall:
1>	if the received otherConfig includes the delayBudgetReportingConfig:
2>	if delayBudgetReportingConfig is set to setup:
3>	consider itself to be configured to send delay budget reports in accordance with 5.7.4;
2>	else:
3>	consider itself not to be configured to send delay budget reports and stop timer T3xx, if running.
5.3.5.10	EN-DC release
The UE shall:
1>	as a result of EN-DC release triggered by E-UTRA:
2>	release SRB3 (configured according to radioBearerConfig), if present;
2>	release measConfig;
2>	release the SCG configuration as specified in section 5.3.5.4.
5.3.5.11	Full configuration
The UE shall:
1>	release/ clear all current dedicated radio configurations except the MCG C-RNTI and the security configurations associated with the master key;
NOTE 1:	Radio configuration is not just the resource configuration but includes other configurations like MeasConfig.
1>	if the spCellConfig in the masterCellGroup includes the reconfigurationWithSync (handover):
2>	release/ clear all current common radio configurations;
2>	use the default values specified in 9.2.x for timer T310, T311 and constant N310, N311;
1>	else (full configuration after re-establishment):
2>	use values for timers T301, T310, T311 and constants N310, N311, as included in ue-TimersAndConstants received in SIB1
1>	apply the default physical channel configuration as specified in 9.2.x;
1>	apply the default semi-persistent scheduling/configured grant configuration as specified in 9.2.x;
1>	apply the default MAC main configuration as specified in 9.2.x;
1>	for each srb-Identity value included in the srb-ToAddModList (SRB reconfiguration):
2>	apply the specified configuration defined in 9.1.2 for the corresponding SRB;
2>	apply the corresponding default PDCP configuration for the SRB specified in 9.2.1.1 for SRB1 or in 9.2.1.2 for SRB2;
2>	apply the corresponding default RLC configuration for the SRB specified in 9.2.1.1 for SRB1 or in 9.2.1.2 for SRB2;
2>	apply the corresponding default logical channel configuration for the SRB as specified in 9.2.1.1 for SRB1 or in 9.2.1.2 for SRB2.
NOTE 2:	This is to get the SRBs (SRB1 and SRB2 for handover and SRB2 for reconfiguration after re-establishment) to a known state from which the reconfiguration message can do further configuration.
5.3.6	Counter check
5.3.6.1	General

Figure 5.3.6.1-1: Counter check procedure
The counter check procedure is used by the network to request the UE to verify the amount of data sent/ received on each DRB. More specifically, the UE is requested to check if, for each DRB, the most significant bits of the COUNT match with the values indicated by the network.
NOTE:	The procedure enables the network to detect packet insertion by an intruder (a 'man in the middle').
5.3.6.2	Initiation
The network initiates the procedure by sending a CounterCheck message.
 NOTE:	The network may initiate the procedure when any of the COUNT values reaches a specific value.
5.3.6.3	Reception of the CounterCheck message by the UE
Upon receiving the CounterCheck message, the UE shall:
1>	for each DRB that is established:
2>	if no COUNT exists for a given direction (uplink or downlink) because it is a uni-directional bearer configured only for the other direction:
3>	assume the COUNT value to be 0 for the unused direction;
2>	if the drb-Identity is not included in the drb-CountMSB-InfoList:
3>	include the DRB in the drb-CountInfoList in the CounterCheckResponse message by including the drb-Identity, the count-Uplink and the count-Downlink set to the value of the corresponding COUNT;
2>	else if, for at least one direction, the most significant bits of the COUNT are different from the value indicated in the drb-CountMSB-InfoList:
3>	include the DRB in the drb-CountInfoList in the CounterCheckResponse message by including the drb-Identity, the count-Uplink and the count-Downlink set to the value of the corresponding COUNT;
1>	for each DRB that is included in the drb-CountMSB-InfoList in the CounterCheck message that is not established:
2>	include the DRB in the drb-CountInfoList in the CounterCheckResponse message by including the drb-Identity, the count-Uplink and the count-Downlink with the most significant bits set identical to the corresponding values in the drb-CountMSB-InfoList and the least significant bits set to zero;
1>	submit the CounterCheckResponse message to lower layers for transmission upon which the procedure ends.
5.3.7	RRC connection re-establishment
5.3.7.1	General
	
Figure 5.3.7.1-1: RRC connection re-establishment, successful
	

Figure 5.3.7.1-2: RRC re-establishment, fallback to RRC establishment, successful
The purpose of this procedure is to re-establish the RRC connection. A UE in RRC_CONNECTED, for which security has been activated, may initiate the procedure in order to continue the RRC connection. The connection re-establishment succeeds if the network is able to find and verify a valid UE context or, if the UE context cannot be retrieved, and the network responds with an RRCSetup according to section 5.3.3.4. If AS security has not been activated, the UE does not initiate the procedure but instead moves to RRC_IDLE directly.
The network applies the procedure as follows:
-	When AS security has been activated and the network retrieves or verifies the UE context:
-	to re-activate AS security without changing algorithms;
-	to re-establish and resume the SRB1;
-	When UE is re-establishing an RRC connection, and the network is not able to retrieve or verify the UE context:
-	to discard the stored AS Context and release all RB;
-	fallback to establish a new RRC connection.
5.3.7.2	Initiation
The UE initiates the procedure when one of the following conditions is met:
1>	upon detecting radio link failure of the MCG, in accordance with 5.3.10; or
1>	upon re-configuration with sync failure of the MCG, in accordance with sub-clause 5.3.5.8.3; or
1>	upon mobility from NR failure, in accordance with sub-clause 5.4.3.5; or
1>	upon integrity check failure indication from lower layers concerning SRB1 or SRB2; or
1>	upon an RRC connection reconfiguration failure, in accordance with sub-clause 5.3.5.8.2.
Upon initiation of the procedure, the UE shall:
1>	stop timer T310, if running;
1>	stop timer T304, if running;
1>	start timer T311;
1>	suspend all RBs, except SRB0;
1>	reset MAC;
1>	release the MCG SCell(s), if configured, in accordance with sub-clause 5.3.5.5.8;
1>	release the current dedicated ServingCell configuration and apply the specified values in corresponding specification except for the parameters for which values are provided in SIB1;
1>	release delayBudgetReportingConfig, if configured, and stop timer T3xx, if running;
1>	apply the default MAC Cell Group configuration as specified in 9.2.x1;
1>	perform cell selection in accordance with the cell selection process as specified in TS 38.304 [21].
5.3.7.3	Actions following cell selection while T311 is running
Upon selecting a suitable NR cell, the UE shall:
1>	stop timer T311;
1>	start timer T301;
1>	apply the timeAlignmentTimerCommon included in SIB1;
1>	initiate transmission of the RRCReestablishmentRequest message in accordance with 5.3.7.4;
NOTE:	This procedure applies also if the UE returns to the source PCell.
Upon selecting an inter-RAT cell, the UE shall:
1>	perform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'RRC connection failure'.
5.3.7.4	Actions related to transmission of RRCReestablishmentRequest message
The UE shall set the contents of RRCReestablishmentRequest message as follows:
1>	set the ue-Identity as follows:
2>	set the c-RNTI to the C-RNTI used in the source PCell (reconfiguration with sync or mobility from NR failure) or used in the PCell in which the trigger for the re-establishment occurred (other cases);
2>	set the physCellId to the physical cell identity of the source PCell (reconfiguration with sync or mobility from NR failure) or of the PCell in which the trigger for the re-establishment occurred (other cases);
2>	set the shortMAC-I to the 16 least significant bits of the MAC-I calculated:
3>	over the ASN.1 encoded as per section 8 (i.e., a multiple of 8 bits) VarShortMAC-Input;
3>	with the KRRCint key and integrity protection algorithm that was used in the source PCell (reconfiguration with sync or mobility from NR failure) or of the PCell in which the trigger for the re-establishment occurred (other cases); and
3>	with all input bits for COUNT, BEARER and DIRECTION set to binary ones;
1>	set the reestablishmentCause as follows:
2>	if the re-establishment procedure was initiated due to reconfiguration failure as specified in 5.3.5.8.2:
3>	set the reestablishmentCause to the value reconfigurationFailure;
2>	else if the re-establishment procedure was initiated due to reconfiguration with sync failure as specified in 5.3.5.8.3 (intra-NR handover failure) or 5.4.3.5 (inter-RAT mobility from NR failure):
3>	set the reestablishmentCause to the value handoverFailure;
2>	else:
3>	set the reestablishmentCause to the value otherFailure;
1>	restore the RRC configuration and security context from the stored UE AS context;
1>	restore the PDCP state and re-establish PDCP for SRB1;
1>	re-establish RLC for SRB1;
1>	resume SRB1;
1>	The UE shall submit the RRCReestablishmentRequest message to lower layers for transmission.
5.3.7.5	Reception of the RRCReestablishment by the UE
The UE shall:
1>	stop timer T301;
1>	consider the current cell to be the PCell;
1>	store the nextHopChainingCount value indicated in the RRCReestablishment message;
1>	update the KgNB key based on the current KgNB or the NH, using the stored nextHopChainingCount value, as specified in TS 33.501 [11];
1>	derive the KRRCenc key, the KRRCint, the KUPint key and the KUPenc key associated with the previously configured ciphering algorithm, as specified in TS 33.501 [11];
1>	request lower layers to verify the integrity protection of the RRCReestablishment message, using the previously configured algorithm and the KRRCint key;
1>	if the integrity protection check of the RRCReestablishment message fails:
2>	perform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'other', upon which the procedure ends;
1>	configure lower layers to activate integrity protection using the previously configured algorithm and the KRRCint key immediately, i.e., integrity protection shall be applied to all subsequent messages received and sent by the UE, including the message used to indicate the successful completion of the procedure;
1>	configure lower layers to apply ciphering using the previously configured algorithm, the KRRCenc key and the KUPenc key immediately, i.e., ciphering shall be applied to all subsequent messages received and sent by the UE, including the message used to indicate the successful completion of the procedure;
1>	submit the RRCReestablishmentComplete message to lower layers for transmission;
1>	the procedure ends.
5.3.7.6	T311 expiry
Upon T311 expiry, the UE shall:
1>	perform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'RRC connection failure'.
5.3.7.7	T301 expiry or selected cell no longer suitable
The UE shall:
1>	if timer T301 expires; or
1>	if the selected cell becomes no longer suitable according to the cell selection criteria as specified in TS 38.304 [21]:
2>	perform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'RRC connection failure'.
5.3.7.8	Reception of the RRCSetup by the UE
The UE shall:
1>	perform the RRC connection establishment procedure as specified in 5.3.3.4.
5.3.8	RRC connection release
5.3.8.1	General

Figure 5.3.8.1-1: RRC connection release, successful
The purpose of this procedure is:
-	to release the RRC connection, which includes the release of the established radio bearers as well as all radio resources; or
-	to suspend the RRC connection, which includes the suspension of the established radio bearers.
5.3.8.2	Initiation
The network initiates the RRC connection release procedure to transit a UE in RRC_CONNECTED to RRC_IDLE; or to transit a UE in RRC_CONNECTED to RRC_INACTIVE; or to transit a UE in RRC_INACTIVE back to RRC_INACTIVE when the UE tries to resume; or to transit a UE in RRC_INACTIVE to RRC_IDLE when the UE tries to resume. The procedure can also be used to release and redirect a UE to another frequency.
5.3.8.3	Reception of the RRCRelease by the UE
The UE shall:
1>	delay the following actions defined in this sub-clause 60ms from the moment the RRCRelease message was received or optionally when lower layers indicate that the receipt of the RRCRelease message has been successfully acknowledged, whichever is earlier;
1>	stop timer T320, if running;
1>	if the RRCRelease message includes redirectedCarrierInfo indicating redirection to eutra:
2>	if cnType is included:
3>	the received cnType is provided to upper layers;
NOTE:	Handling the case if the E-UTRA cell selected after the redirection does not support the core network type specified by the cnType, is up to UE implementation.
1>	if the RRCRelease message includes the cellReselectionPriorities:
2>	store the cell reselection priority information provided by the cellReselectionPriorities;
2>	if the t320 is included:
3>	start timer T320, with the timer value set according to the value of t320;
1>	else:
2>	apply the cell reselection priority information broadcast in the system information;
1>	if deprioritisationReq is included:
2>	start or restart timer T325 with the timer value set to the deprioritisationTimer signalled;
2>	store the deprioritisationReq until T325 expiry;
1>	if the RRCRelease includes suspendConfig:
2>	apply the received suspendConfig;
2>	store fullI-RNTI, shortI-RNTI, nextHopChainingCount, t380 and ran-PagingCycle provided in suspendConfig;
2>	reset MAC;
2>	re-establish RLC entities for SRB1;
2>	if the RRCRelease message with suspendConfig was received in response to an RRCResumeRequest or an RRCResumeRequest1:
3>	stop the timer T319 if running;
3>	replace any previously stored security context with newly received security context in the suspendConfig;
3>	replace the previously stored C-RNTI with the temporary C-RNTI in the cell the UE has received the RRCRelease message;
3>	replace the previously stored cellIdentity with the cellIdentity of the cell the UE has received the RRCRelease message;
3>	replace the previously stored physical cell identity with the physical cell identity of the cell the UE has received the RRCRelease message;
2>	else:
3>	store the UE AS Context including the current RRC configuration, the current security context, the PDCP state including ROHC state, SDAP configuration, C-RNTI used in the source PCell, the cellIdentity and the physical cell identity of the source PCell;
2>	suspend all SRB(s) and DRB(s), except SRB0;
2>	start timer T380, with the timer value set to t380;
2>	indicate the suspension of the RRC connection to upper layers;
2>	enter RRC_INACTIVE and perform procedures as specified in TS 38.304 [21]
1>	else
2>	perform the actions upon going to RRC_IDLE as specified in 5.3.11, with the release cause 'other'.
Editor's Note: FFS Whether there needs to be different release causes and actions associated.
5.3.8.4	T320 expiry
The UE shall:
1>	if T320 expires:
2>	if stored, discard the cell reselection priority information provided by the cellReselectionPriorities or inherited from another RAT;
2>	apply the cell reselection priority information broadcast in the system information.
5.3.8.5	UE actions upon the expiry of DataInactivityTimer
Upon receiving the expiry of DataInactivityTimer from lower layers while in RRC_CONNECTED, the UE shall:
1>	perform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'RRC connection failure'.
5.3.9	RRC connection release requested by upper layers
5.3.9.1	General
The purpose of this procedure is to release the RRC connection. Access to the current PCell may be barred as a result of this procedure.
NOTE:	Upper layers invoke the procedure, e.g. upon determining that the network has failed an authentication check, see TS 24.501 [23].
5.3.9.2	Initiation
The UE initiates the procedure when upper layers request the release of the RRC connection. The UE shall not initiate the procedure for power saving purposes.
The UE shall:
1>	if the upper layers indicate barring of the PCell:
2>	treat the PCell used prior to entering RRC_IDLE as barred according to TS 38.304 [20];
1>	perform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'other'.
5.3.10	Radio link failure related actions
5.3.10.1	Detection of physical layer problems in RRC_CONNECTED
The UE shall:
1>	upon receiving N310 consecutive "out-of-sync" indications for the SpCell from lower layers while neither T300, T301, T304, T319 not T311 is running:
2>	start timer T310 for the corresponding SpCell.
5.3.10.2	Recovery of physical layer problems
Upon receiving N311 consecutive "in-sync" indications for the SpCell from lower layers while T310 is running, the UE shall:
1>	stop timer T310 for the corresponding SpCell.
NOTE 1:	In this case, the UE maintains the RRC connection without explicit signalling, i.e. the UE maintains the entire radio resource configuration.
NOTE 2:	Periods in time where neither "in-sync" nor "out-of-sync" is reported by layer 1 do not affect the evaluation of the number of consecutive "in-sync" or "out-of-sync" indications.
5.3.10.3	Detection of radio link failure
The UE shall:
1>	upon T310 expiry in PCell; or
1>	upon random access problem indication from MCG MAC while neither T300, T301, T304 nor T311 is running; or
1>	upon indication from MCG RLC that the maximum number of retransmissions has been reached:
2>	consider radio link failure to be detected for the MCG i.e. RLF;
Editor's Note: FFS: How to handle RLC failure in CA duplication for MCG DRB and SRB.
2>	if AS security has not been activated:
3>	perform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'other';
2>	else:
3>	initiate the connection re-establishment procedure as specified in 5.3.7.
The UE shall:
1>	upon T310 expiry in PSCell; or
1>	upon random access problem indication from SCG MAC; or
1>	upon indication from SCG RLC that the maximum number of retransmissions has been reached:
2>	consider radio link failure to be detected for the SCG i.e. SCG-RLF;
Editor's Note: FFS: How to handle RLC failure in CA duplication for SCG DRB and SRB.
2>	initiate the SCG failure information procedure as specified in 5.7.3 to report SCG radio link failure.
5.3.11	UE actions upon going to RRC_IDLE
UE shall:
1>	reset MAC;
1>	stop all timers that are running except T320 and T325;
1>	discard any stored AS context, fullI-RNTI, shortI-RNTI-Value, ran-PagingCycle and ran-NotificationAreaInfo;
1>	discard the AS security context including the KRRCenc key, the KRRCint, the KUPint key and the KUPenc key, if stored;
1>	release all radio resources, including release of the RLC entity, the MAC configuration and the associated PDCP entity and SDAP for all established RBs;
1>	indicate the release of the RRC connection to upper layers together with the release cause;
1>	enter RRC_IDLE and perform procedures as specified in TS 38.304 [21], except if going to RRC_IDLE was triggered by reception of the MobilityFromNRCommand message or by selecting an inter-RAT cell while T311 was running.
5.3.12	UE actions upon PUCCH/SRS release request
Upon receiving a PUCCH release request from lower layers, for all bandwidth parts of an indicated serving cell the UE shall:
1>	release PUCCH-CSI-Resources configured in CSI-ReportConfig;
1>	release SchedulingRequestResourceConfig instances configured in PUCCH-Config.
Upon receiving an SRS release request from lower layers, for all bandwidth parts of an indicated serving cell the UE shall:
1>	release SRS-Resource instances configured in SRS-Config.
5.3.13	RRC connection resume
5.3.13.1	General

Figure 5.3.13.1-1: RRC connection resume, successful

Figure 5.3.13.1-2: RRC connection resume fallback to RRC connection establishment, successful

Figure 5.3.13.1-3: RRC connection resume followed by network release, successful

Figure 5.3.13.1-4: RRC connection resume followed by network suspend, successful

Figure 5.3.13.1-5: RRC connection resume, network reject
The purpose of this procedure is to resume a suspended RRC connection, including resuming SRB(s) and DRB(s) or perform an RNA update.
5.3.13.2	Initiation
The UE initiates the procedure when upper layers or AS (when responding to NG-RAN paging or upon triggering RNA updates while the UE is in RRC_INACTIVE) requests the resume of a suspended RRC connection.
Upon initiation of the procedure, the UE shall:
Editor's Note: FFS Whether SCG configuration should be released or whether that should be treated as any other configuration (i.e. with delta signalling).
1>	if the upper layers provide an Access Category and one or more Access Identities upon requesting the resumption of an RRC connection:
2>	perform the unified access control procedure as specified in 5.3.14 using the Access Category and Access Identities provided by upper layers;
3>	if the access attempt is barred, the procedure ends;
1>	if the resumption of the RRC connection is triggered due to an RNA update:
2>	if an emergency service is ongoing:
NOTE:	How the RRC layer in the UE is aware of an ongoing emergency service is up to UE implementation.
3>	select '2' as the Access Category;
2>	else:
3>	select [the standardised RAN specific access category] as the Access Category;
Editor's note: Which value to use for the standardised RAN specific access category needs to be confirmed by SA1.
2>	perform the unified access control procedure as specified in 5.3.14 using the selected Access Category and one or more Access Identities provided by upper layers;
3>	if the access attempt is barred:
4>	set the variable pendingRnaUpdate to 'TRUE';
4>	the procedure ends;
1>	if the resumption of the RRC connection is triggered by response to NG-RAN paging:
2>	select '0' as the Access Category;
2>	perform the unified access control procedure as specified in 5.3.14 using the selected Access Category and one or more Access Identities provided by upper layers;
3>	if the access attempt is barred, the procedure ends;
1>	release the current dedicated Serving Cell configuration and apply the specified values in corresponding specification except for the parameters for which values are provided in SIB1;
1>	apply the default MAC Cell Group configuration as specified in 9.2.x1;
1>	release delayBudgetReportingConfig, if configured and stop timer T3xx, if running;
1>	apply the CCCH configuration as specified in 9.1.1.x2;
1>	apply the timeAlignmentTimerCommon included in SIB1;
1>	start timer T319;
1>	stop timer T380, if running;
1>	initiate transmission of the RRCResumeRequest message or RRCResumeRequest1 in accordance with 5.3.13.3.
Editor's Note: FFS Requirements on up to date system information acquisition before connection resumption.
5.3.13.3	Actions related to transmission of RRCResumeRequest or RRCResumeRequest1 message
The UE shall set the contents of RRCResumeRequest or RRCResumeRequest1 message as follows:
1>	if field useFullResumeID is signalled in SIB1:
2>	select RRCResumeRequest1 as the message to use;
2>	set the resumeIdentity to the stored fullI-RNTI value;
1>	else:
2>	select RRCResumeRequest as the message to use;
2>	set the shortResumeIdentity to the stored shortI-RNTI value;
1>	set the resumeCause in accordance with the information received from upper layers or from AS layer;
1>	set the resumeMAC-I to the 16 least significant bits of the MAC-I calculated:
2>	over the ASN.1 encoded as per section 8 (i.e., a multiple of 8 bits) VarResumeMAC-Input;
2>	with the KRRCint key and the previously configured integrity protection algorithm; and
2>	with all input bits for COUNT, BEARER and DIRECTION set to binary ones;
Editor's Note: FFS Additional input to VarResumeMAC-Input (replay attacks mitigation).
1>	restore the RRC configuration and security context from the stored UE AS context except the cellGroupConfig;
1>	update the KgNB key based on the current KgNB or the NH, using the stored nextHopChainingCount value, as specified in TS 33.501 [11];
1>	derive the KRRCenc key, the KRRCint, the KUPint key and the KUPenc key;
1>	configure lower layers to apply integrity protection for all radio bearers except SRB0 using the previously configured algorithm and the KRRCint key and KUPint key immediately, i.e., integrity protection shall be applied to all subsequent messages received and sent by the UE;
NOTE 1:	Only DRBs with previously configured UP integrity protection shall resume integrity protection.
1>	configure lower layers to apply ciphering for all radio bearers except SRB0 and to apply the previously configured ciphering algorithm, the KRRCenc key and the KUPenc key, i.e. the ciphering configuration shall be applied to all subsequent messages received and sent by the UE;
1>	restore the PDCP state and re-establish PDCP entities for SRB1;
1>	resume SRB1;
1>	submit the selected message RRCResumeRequest or RRCResumeRequest1 for transmission to lower layers.
NOTE 2:	Only DRBs with previously configured UP ciphering shall resume ciphering.
If lower layers indicate an integrity check failure while T319 is running, perform actions specified in 5.3.13.5.
The UE shall continue cell re-selection related measurements as well as cell re-selection evaluation. If the conditions for cell re-selection are fulfilled, the UE shall perform cell re-selection as specified in 5.3.13.6.
5.3.13.4	Reception of the RRCResume by the UE
The UE shall:
1>	stop timer T319;
1>	if the RRCResume includes the fullConfig:
2>	perform the full configuration procedure as specified in 5.3.5.11;
1>	else:
2>	restore the PDCP state and reset COUNT value for SRB2 and all DRBs;
2>	restore the cellGroupConfig from the stored UE AS context;
2>	indicate to lower layers that stored UE AS context is used;
1>	discard the fullI-RNTI, shortI-RNTI and the stored UE AS context, except ran-NotificationAreaInfo;
1>	if the RRCResume includes the masterCellGroup:
2>	perform the cell group configuration for the received masterCellGroup according to 5.3.5.5;
Editor's Note: FFS Whether it is supported to configure secondaryCellGroup at Resume.
1>	if the RRCResume includes the radioBearerConfig:
2>	perform the radio bearer configuration according to 5.3.5.6;
Editor's Note: FFS Whether there needs to be a second radioBearerConfig.
1>	resume SRB2 and all DRBs;
1>	if stored, discard the cell reselection priority information provided by the cellReselectionPriorities or inherited from another RAT;
1>	stop timer T320, if running;
1>	if the RRCResume message includes the measConfig:
2>	perform the measurement configuration procedure as specified in 5.5.2;
1>	resume measurements if suspended;
Editor's Note: FFS Whether there is a need to define UE actions related to access control timers (equivalent to T302, T303, T305, T306, T308 in LTE). For example, informing upper layers if a given timer is not running.
1>	enter RRC_CONNECTED;
1>	indicate to upper layers that the suspended RRC connection has been resumed;
1>	stop the cell re-selection procedure;
1>	consider the current cell to be the PCell;
1>	set the content of the of RRCResumeComplete message as follows:
2>	if the upper layer provides NAS PDU, set the dedicatedNAS-Message to include the information received from upper layers;
2>	if the upper layer provides a PLMN, set the selectedPLMN-Identity to PLMN selected by upper layers (TS 24.501 [23]) from the PLMN(s) included in the plmn-IdentityList in SIB1;
2>	if the masterCellGroup contains the reportUplinkTxDirectCurrent:
3>	include the uplinkTxDirectCurrentList;
1>	submit the RRCResumeComplete message to lower layers for transmission;
1>	the procedure ends.
5.3.13.5	T319 expiry or Integrity check failure from lower layers while T319 is running
The UE shall:
1>	if timer T319 expires or upon receiving Integrity check failure indication from lower layers while T319 is running:
2>	perform the actions upon going to RRC_IDLE as specified in 5.3.11 with release cause 'RRC Resume failure'.
5.3.13.6	Cell re-selection while T319 or T302 is running
The UE shall:
1>	if cell reselection occurs while T319 or T302 is running:
2>	set the variable pendingRnaUpdate to 'FALSE', if that is set to TRUE;
2>	perform the actions upon going to RRC_IDLE as specified in 5.3.11 with release cause 'RRC Resume failure'.
5.3.13.7	Reception of the RRCSetup by the UE
The UE shall:
1>	set the variable pendingRnaUpdate to 'FALSE';
1>	perform the RRC connection setup procedure as specified in 5.3.3.4.
5.3.13.8	RNA update
Upon entering RRC_INACTIVE state, the UE shall:
1>	if T380 expires; or
1>	if upon cell reselection the UE enters an RNA not belonging to the configured ran-NotificationAreaInfo:
2>	if upper layers request resumption of an RRC connection;
3>	initiate RRC connection resume procedure in 5.3.13.2 with cause value set in accordance with the information received from upper layers;
2>	else:
3>	initiate RRC connection resume procedure in 5.3.13.2 with cause value set to 'rna-Update';
Editor's Note: FFS How to handle simultaneous NAS triggered events and AS triggered events (except TAU and RNAU, which has been explicitly agreed).
1>	if barring is alleviated for Access Category [the standardised RAN specific access category], as specified in 5.3.14.4:
Editor's Note: Which value to use for the standardised RAN specific access category needs to be confirmed by SA1.
2>	if upper layers do not request RRC the resumption of an RRC connection, and
2>	if the variable pendingRnaUpdate is set to 'TRUE':
3>	set the variable pendingRnaUpdate to 'FALSE';
3>	initiate RRC connection resume procedure in 5.3.13.2 with cause value set to 'rna-Update'.
5.3.13.9	Reception of the RRCRelease by the UE
The UE shall:
1>	perform the actions as specified in 5.3.8.
5.3.13.10	Reception of the RRCReject by the UE
The UE shall:
1>	perform the actions as specified in 5.3.15.
5.3.14	Unified Access Control
5.3.14.1	General
The purpose of this procedure is to perform access barring check for an access attempt associated with a given Access Category and one or more Access Identities upon request from upper layers according to TS 24.501 [23] or the RRC layer.
5.3.14.2	Initiation
Upon initiation of the procedure, the UE shall:
1>	if timer T390 is running for the Access Category:
2>	consider the access attempt as barred;
1>	if timer T302 is running and the Access Category is neither '2' nor '0':
2>	consider the access attempt as barred;
1>	else:
Editor's Note: FFS whether indication/selection of the Access Category for RRC Resume is described in this section or not.
2>	if the Access Category is '0':
3>	consider the access attempt as allowed;
2>	else:
3>	if SIB1 includes uac-BarringPerPLMN-List and the uac-BarringPerPLMN-List contains an UAC-BarringPerPLMN entry with the plmn-IdentityIndex corresponding to the PLMN selected by upper layers (see TS 24.501 [23]):
4>	select the UAC-BarringPerPLMN entry with the plmn-IdentityIndex corresponding to the PLMN selected by upper layers;
4>	in the remainder of this procedure, use the selected UAC-BarringPerPLMN entry (i.e. presence or absence of access barring parameters in this entry) irrespective of the uac-BarringForCommon included in SIB1;
3>	else if SIB1 includes uac-BarringForCommon:
4>	in the remainder of this procedure use the uac-BarringForCommon (i.e. presence or absence of these parameters) included in SIB1;
3>	else:
4>	consider the access attempt as allowed;
3>	if uac-BarringForCommon is applicable or the uac-ACBarringListType indicated that uac-ExplicitACBarringList is used:
4>	if the corresponding UAC-BarringPerCatList contains a UAC-BarringPerCat entry corresponding to the Access Category:
5>	select the UAC-BarringPerCat entry;
5>	if the uac-BarringInfoSetList contain a UAC-BarringInfoSet entry corresponding to the selected uac-barringInfoSetIndex in the UAC-BarringPerCat:
6>	select the UAC-BarringInfoSet entry;
6>	perform access barring check for the Access Category as specified in 5.3.14.5, using the selected UAC-BarringInfoSet as "UAC barring parameter";
5>	else:
6>	consider the access attempt as allowed;
4>	else:
5>	consider the access attempt as allowed;
3>	else if the uac-ACBarringListType indicated that uac-ImplicitACBarringList is used:
4>	if the uac-BarringInfoSetList contain a UAC-BarringInfoSet entry corresponding to the uac-barringInfoSetIndex in the UAC-BarringPerCat:
5>	select the UAC-BarringInfoSet entry;
5>	perform access barring check for the Access Category as specified in 5.3.14.5, using the selected UAC-BarringInfoSet as "UAC barring parameter";
4>	else:
5>	consider the access attempt as allowed;
3>	else:
4>	consider the access attempt as allowed;
1>	if the access barring check was requested by upper layers:
2>	if the access attempt is considered as barred:
3>	inform upper layers that the access attempt for the Access Category is barred, upon which the procedure ends;
2>	else:
3>	inform upper layers that the access attempt for the Access Category is allowed, upon which the procedure ends;
1>	else:
2>	the procedure ends.
5.3.14.3	Conditions for stopping of barring timers T390
The UE shall:
1>	if cell reselection occurs; or
1>	if cell selection occurs; or
1>	if a state change to RRC_CONNECTED occurs; or
1>	if a change of PCell occurs while in RRC_CONNECTED; or
1>	upon reception of a MobilityFromNRCommand message:
2>	if T390 is running:
3>	stop timer T390 for all access categories;
3>	perform the actions as specified in 5.3.14.4.
5.3.14.4	Barring alleviation
The UE shall:
1>	if timer T302 expires or is stopped, and if timer T390 corresponding to an Access Category is not running; or
1>	if timer T390 corresponding to an Access Category expires or is stopped, and if timer T302 is not running:
2>	consider the barring for this Access Category to be alleviated;
1>	When barring for an access category is considered being alleviated:
2>	if the Access Category was provided upon access barring check requested by upper layers:
3>	inform upper layers about barring alleviation for the Access Category.
5.3.14.5	Access barring check
The UE shall:
1>	if one or more Access Identities are indicated by upper layers according to TS 24.501 [23] or obtained by the RRC layer, and
1>	if for at least one of these Access Identities the corresponding bit in the uac-BarringForAccessIdentity contained in "UAC barring parameter" is set to zero:
2>	consider the access attempt as allowed;
1>	else:
2>	draw a random number 'rand' uniformly distributed in the range: 0 ≤ rand < 1;
2>	if 'rand' is lower than the value indicated by uac-BarringFactor included in "UAC barring parameter":
3>	consider the access attempt as allowed;
2>	else:
3>	consider the access attempt as barred;
1>	if the access attempt is considered as barred:
2>	draw a random number 'rand' that is uniformly distributed in the range 0 ≤ rand < 1;
2>	start timer T390 for the Access Category with the timer value calculated as follows, using the uac-BarringTime included in "AC barring parameter":
	T390 = (0.7+ 0.6 * rand) * uac-BarringTime.
5.3.15	RRC connection reject
5.3.15.1	Initiation
The UE initiates the procedure upon the reception of RRCReject when the UE tries to establish or resume an RRC connection.
5.3.15.2	Reception of the RRCReject by the UE
The UE shall:
1>	stop timer T300, if running;
1>	stop timer T319, if running;
1>	reset MAC and release the MAC configuration;
1>	start timer T302, with the timer value set to the waitTime;
1>	set the variable pendingRnaUpdate to 'FALSE';
1>	if RRCReject is received in response to a request from upper layers:
2>	inform the upper layer that access barring is applicable for all access categories except categories '0'and '2';
1>	if RRCReject is received in response to an RRCSetupRequest:
2>	inform upper layers about the failure to setup the RRC connection, upon which the procedure ends;
1>	if RRCReject is received in response to an RRCResumeRequest or an RRCResumeRequest1:
2>	if resume is triggered by upper layers: or
2>	inform upper layers about the failure to resume the RRC connection;
Editor's Note: FFS In which cases upper layers are informed that a resume failure occurred upon the reception of RRC Reject.
2>	if resume is triggered by RRC:
3>	set the variable pendingRnaUpdate to 'TRUE';
2>	discard the security context including the KRRCenc key, the KRRCint, the KUPint key and the KUPenc key;
2>	suspend SRB1, upon which the procedure ends;
Editor's Note: FFS Handling of timer T380 upon Reject e.g. stop, re-start, etc.
The RRC_INACTIVE UE shall continue to monitor paging while the timer T302 is running.
5.4	Inter-RAT mobility
5.4.1	Introduction
NR support network controlled inter-RAT mobility between NR and E-UTRA which can be connected to either EPC or 5GC.
5.4.2	Handover to NR
5.4.2.1	General

Figure 5.4.2.1-1: Handover to NR, successful
The purpose of this procedure is to, under the control of the network, transfer a connection between the UE and another Radio Access Network (e.g. E-UTRAN) to NR.
The handover to NR procedure applies when SRBs, possibly in combination with DRBs, are established in another RAT. Handover from E-UTRA to NR applies only after integrity has been activated in E-UTRA.
5.4.2.2	Initiation
The RAN using another RAT initiates the handover to NR procedure, in accordance with the specifications applicable for the other RAT, by sending the RRCReconfiguration message via the radio access technology from which the inter-RAT handover is performed.
The network applies the procedure as follows:
-	to activate ciphering, possibly using NULL algorithm, if not yet activated in the other RAT;
-	to re-establish SRBs and one or more DRBs;
5.4.2.3	Reception of the RRCReconfiguration by the UE
The UE shall:
1>	perform RRC reconfiguration procedure as specified in 5.3.5;
NOTE:	In the case that UE is connected to 5GC of the source E-UTRA cell, the delta configuration can be carried in RRCReconfiguration, e.g. PDCP-config IE and SDAP-config IE can be absent, which means the PDCP entity and SDAP entity established with source cell of the DRBs is maintained for the source cell and admitted by target cell during the handover. After the inter-RAT handover is completed the PDCP and SDAP entity is maintained for the target cell of the target RAT. As a result, in-sequence and lossless handover can be achieved during intra-system inter-RAT handover.

5.4.3	Mobility from NR
5.4.3.1	General

Figure 5.4.3.1-1: Mobility from NR, successful

Figure 5.4.3.1-2: Mobility from NR, failure
The purpose of this procedure is to move a UE in RRC_CONNECTED to a cell using other RAT, e.g. E-UTRA. The mobility from NR procedure covers the following type of mobility:
-	handover, i.e. the MobilityFromNRCommand message includes radio resources that have been allocated for the UE in the target cell;
5.4.3.2	Initiation
The network initiates the mobility from NR procedure to a UE in RRC_CONNECTED, possibly in response to a MeasurementReport message, by sending a MobilityFromNRCommand message. The network applies the procedure as follows:
-	the procedure is initiated only when AS-security has been activated, and SRB2 with at least one DRB are setup and not suspended.
5.4.3.3	Reception of the MobilityFromNR by the UE
The UE shall:
1>	if the targetRAT-Type is set to eutra:
2>	consider inter-RAT mobility as initiated towards E-UTRA;
1>	access the target cell indicated in the inter-RAT message in accordance with the specifications of the target RAT.
5.4.3.4	Successful completion of the mobility from NR
Upon successfully completing the handover, the UE shall:
1>	perform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'other'.
5.4.3.5	Mobility from NR failure
The UE shall:
1>	if the UE does not succeed in establishing the connection to the target radio access technology; or
1>	if the UE is unable to comply with any part of the configuration included in the MobilityFromNRCommand message; or
1>	if there is a protocol error in the inter RAT information included in the MobilityFromNRCommand message, causing the UE to fail the procedure according to the specifications applicable for the target RAT:
2>	revert back to the configuration used in the source PCell;
2>	initiate the connection re-establishment procedure as specified in subclause 5.3.7.
5.5	Measurements
5.5.1	Introduction
The network may configure an RRC_CONNECTED UE to perform measurements and report them in accordance with the measurement configuration. The measurement configuration is provided by means of dedicated signalling i.e. using the RRCReconfiguration.
The network may configure the UE to perform the following types of measurements:
-	NR measurements;
-	Inter-RAT measurements of E-UTRA frequencies.
The network may configure the UE to report the following measurement information based on SS/PBCH block(s):
-	Measurement results per SS/PBCH block;
-	Measurement results per cell based on SS/PBCH block(s);
-	SS/PBCH block(s) indexes.
The network may configure the UE to report the following measurement information based on CSI-RS resources:
-	Measurement results per CSI-RS resource;
-	Measurement results per cell based on CSI-RS resource(s);
-	CSI-RS resource measurement identifiers.
The measurement configuration includes the following parameters:
1.	Measurement objects: A list of objects on which the UE shall perform the measurements.
-	For intra-frequency and inter-frequency measurements a measurement object indicates the frequency/time location and subcarrier spacing of reference signals to be measured. Associated with this measurement object, the network may configure a list of cell specific offsets, a list of 'blacklisted' cells and a list of 'whitelisted' cells. Blacklisted cells are not applicable in event evaluation or measurement reporting. Whitelisted cells are the only ones applicable in event evaluation or measurement reporting.
-	The measObjectIdof the MO which corresponds to each serving cell is indicated by servingCellMO within the serving cell configuration.
-	For inter-RAT E-UTRA measurements a measurement object is a single EUTRA carrier frequency. Associated with this E-UTRA carrier frequency, the network can configure a list of cell specific offsets, a list of 'blacklisted' cells and a list of 'whitelisted' cells. Blacklisted cells are not applicable in event evaluation or measurement reporting. Whitelisted cells are the only ones applicable in event evaluation or measurement reporting.
2.	Reporting configurations: A list of reporting configurations where there can be one or multiple reporting configurations per measurement object. Each reporting configuration consists of the following:
-	Reporting criterion: The criterion that triggers the UE to send a measurement report. This can either be periodical or a single event description.
-	RS type: The RS that the UE uses for beam and cell measurement results (SS/PBCH block or CSI-RS).
-	Reporting format: The quantities per cell and per beam that the UE includes in the measurement report (e.g. RSRP) and other associated information such as the maximum number of cells and the maximum number beams per cell to report.
3.	Measurement identities: A list of measurement identities where each measurement identity links one measurement object with one reporting configuration. By configuring multiple measurement identities, it is possible to link more than one measurement object to the same reporting configuration, as well as to link more than one reporting configuration to the same measurement object. The measurement identity is also included in the measurement report that triggered the reporting, serving as a reference to the network.
4.	Quantity configurations: The quantity configuration defines the measurement filtering configuration used for all event evaluation and related reporting, and for periodical reporting of that measurement. For NR measurements, the network may configure up to 2 quantity configurations with a reference in the NR measurement object to the configuration that is to be used. In each configuration, different filter coefficients can be configured for different measurement quantities, for different RS types, and for measurements per cell and per beam.
5.	Measurement gaps: Periods that the UE may use to perform measurements, i.e. no (UL, DL) transmissions are scheduled.
A UE in RRC_CONNECTED maintains a measurement object list, a reporting configuration list, and a measurement identities list according to signalling and procedures in this specification. The measurement object list possibly includes NR measurement object(s) and inter-RAT objects. Similarly, the reporting configuration list includes NR and inter-RAT reporting configurations. Any measurement object can be linked to any reporting configuration of the same RAT type. Some reporting configurations may not be linked to a measurement object. Likewise, some measurement objects may not be linked to a reporting configuration.
The measurement procedures distinguish the following types of cells:
1.	The NR serving cell(s) - these are the SpCell and one or more SCells.
2.	Listed cells - these are cells listed within the measurement object(s).
3.	Detected cells - these are cells that are not listed within the measurement object(s) but are detected by the UE on the SSB frequency(ies) and subcarrier spacing(s) indicated by the measurement object(s).
For NR measurement object(s), the UE measures and reports on the serving cell(s), listed cells and/or detected cells. For inter-RAT measurements object(s) of E-UTRA, the UE measures and reports on listed cells and detected cells.
Whenever the procedural specification, other than contained in sub-clause 5.5.2, refers to a field it concerns a field included in the VarMeasConfig unless explicitly stated otherwise i.e. only the measurement configuration procedure covers the direct UE action related to the received measConfig.
5.5.2	Measurement configuration
5.5.2.1	General
The network applies the procedure as follows:
-	to ensure that, whenever the UE has a measConfig, it includes a measObject for the SpCell and for each NR SCell to be measured;
-	to configure at most one measurement identity using a reporting configuration with the reportType set to reportCGI;
-	to ensure that, for all SSB based reporting configurations have at most one measurement object with the same ssbFrequency and ssbSubcarrierSpacing;
The UE shall:
1>	if the received measConfig includes the measObjectToRemoveList:
2>	perform the measurement object removal procedure as specified in 5.5.2.4;
1>	if the received measConfig includes the measObjectToAddModList:
2>	perform the measurement object addition/modification procedure as specified in 5.5.2.5;
1>	if the received measConfig includes the reportConfigToRemoveList:
2>	perform the reporting configuration removal procedure as specified in 5.5.2.6;
1>	if the received measConfig includes the reportConfigToAddModList:
2>	perform the reporting configuration addition/modification procedure as specified in 5.5.2.7;
1>	if the received measConfig includes the quantityConfig:
2>	perform the quantity configuration procedure as specified in 5.5.2.8;
1>	if the received measConfig includes the measIdToRemoveList:
2>	perform the measurement identity removal procedure as specified in 5.5.2.2;
1>	if the received measConfig includes the measIdToAddModList:
2>	perform the measurement identity addition/modification procedure as specified in 5.5.2.3;
1>	if the received measConfig includes the measGapConfig:
2>	perform the measurement gap configuration procedure as specified in 5.5.2.9;
1>	if the received measConfig includes the measGapSharingConfig:
2>	perform the measurement gap sharing configuration procedure as specified in 5.5.2.11;
1>	if the received measConfig includes the s-MeasureConfig:
2>	if s-MeasureConfig is set to ssb-RSRP, set parameter ssb-RSRP of s-MeasureConfig within VarMeasConfig to the lowest value of the RSRP ranges indicated by the received value of s-MeasureConfig;
2>	else, set parameter csi-RSRP of s-MeasureConfig within VarMeasConfig to the lowest value of the RSRP ranges indicated by the received value of s-MeasureConfig.
5.5.2.2	Measurement identity removal
The UE shall:
1>	for each measId included in the received measIdToRemoveList that is part of the current UE configuration in VarMeasConfig:
2>	remove the entry with the matching measId from the measIdList within the VarMeasConfig;
2>	remove the measurement reporting entry for this measId from the VarMeasReportList, if included;
2>	stop the periodical reporting timer if running and reset the associated information (e.g. timeToTrigger) for this measId.
NOTE:	The UE does not consider the message as erroneous if the measIdToRemoveList includes any measId value that is not part of the current UE configuration.
5.5.2.3	Measurement identity addition/modification
The network applies the procedure as follows:
-	configure a measId only if the corresponding measurement object, the corresponding reporting configuration and the corresponding quantity configuration, are configured.
The UE shall:
1>	for each measId included in the received measIdToAddModList:
2>	if an entry with the matching measId exists in the measIdList within the VarMeasConfig:
3>	replace the entry with the value received for this measId;
2>	else:
3>	add a new entry for this measId within the VarMeasConfig;
2>	remove the measurement reporting entry for this measId from the VarMeasReportList, if included;
2>	stop the periodical reporting timer and reset the associated information (e.g. timeToTrigger) for this measId.
2>	if the reportType is set to reportCGI in the reportConfig associated with this measId;
3>	if the measObject associated with this measId concerns E-UTRA:
4>	start timer T321 with the timer value set to X seconds for this measId;
3>	if the measObject associated with this measId concerns NR:
4>	start timer T321 with the timer value set to Y seconds for this measId;
5.5.2.4	Measurement object removal
The UE shall:
1>	for each measObjectId included in the received measObjectToRemoveList that is part of measObjectList in VarMeasConfig:
2>	remove the entry with the matching measObjectId from the measObjectList within the VarMeasConfig;
2>	remove all measId associated with this measObjectId from the measIdList within the VarMeasConfig, if any;
2>	if a measId is removed from the measIdList:
3>	remove the measurement reporting entry for this measId from the VarMeasReportList, if included;
3>	stop the periodical reporting timer and reset the associated information (e.g. timeToTrigger) for this measId.
NOTE:	The UE does not consider the message as erroneous if the measObjectToRemoveList includes any measObjectId value that is not part of the current UE configuration.
5.5.2.5	Measurement object addition/modification
The UE shall:
1>	for each measObjectId included in the received measObjectToAddModList:
2>	if an entry with the matching measObjectId exists in the measObjectList within the VarMeasConfig, for this entry:
3>	reconfigure the entry with the value received for this measObject, except for the fields cellsToAddModList, blackCellsToAddModList, whiteCellsToAddModList, cellsToRemoveList, blackCellsToRemoveList and whiteCellsToRemoveList;
3>	if the received measObject includes the cellsToRemoveList:
4>	for each physCellId included in the cellsToRemoveList:
5>	remove the entry with the matching physCellId from the cellsToAddModList;
3>	if the received measObject includes the cellsToAddModList:
4>	for each physCellId value included in the cellsToAddModList:
5>	if an entry with the matching physCellId exists in the cellsToAddModList:
6>	replace the entry with the value received for this physCellId;
5>	else:
6>	add a new entry for the received physCellId to the cellsToAddModList;
3>	if the received measObject includes the blackCellsToRemoveList:
4>	for each pci-RangeIndex included in the blackCellsToRemoveList:
5>	remove the entry with the matching pci-RangeIndex from the blackCellsToAddModList;
NOTE:	For each pci-RangeIndex included in the blackCellsToRemoveList that concerns overlapping ranges of cells, a cell is removed from the black list of cells only if all cell indexes containing it are removed.
3>	if the received measObject includes the blackCellsToAddModList:
4>	for each pci-RangeIndex included in the blackCellsToAddModList:
5>	if an entry with the matching pci-RangeIndex is included in the blackCellsToAddModList:
6>	replace the entry with the value received for this pci-RangeIndex;
5>	else:
6>	add a new entry for the received pci-RangeIndex to the blackCellsToAddModList;
3>	if the received measObject includes the whiteCellsToRemoveList:
4>	for each pci-RangeIndex included in the whiteCellsToRemoveList:
5>	remove the entry with the matching pci-RangeIndex from the whiteCellsToAddModList;
3>	if the received measObject includes the whiteCellsToAddModList:
4>	for each pci-RangeIndex included in the whiteCellsToAddModList:
5>	if an entry with the matching pci-RangeIndex is included in the whiteCellsToAddModList:
6>	replace the entry with the value received for this pci-RangeIndex;
5>	else:
6>	add a new entry for the received pci-RangeIndex to the whiteCellsToAddModList;
3>	for each measId associated with this measObjectId in the measIdList within the VarMeasConfig, if any:
4>	remove the measurement reporting entry for this measId from the VarMeasReportList, if included;
4>	stop the periodical reporting timer and reset the associated information (e.g. timeToTrigger) for this measId;
2>	else:
3>	add a new entry for the received measObject to the measObjectList within VarMeasConfig.
5.5.2.6	Reporting configuration removal
The UE shall:
1>	for each reportConfigId included in the received reportConfigToRemoveList that is part of the current UE configuration in VarMeasConfig:
2>	remove the entry with the matching reportConfigId from the reportConfigList within the VarMeasConfig;
2>	remove all measId associated with the reportConfigId from the measIdList within the VarMeasConfig, if any;
2>	if a measId is removed from the measIdList:
3>	remove the measurement reporting entry for this measId from the VarMeasReportList, if included;
3>	stop the periodical reporting timer and reset the associated information (e.g. timeToTrigger) for this measId.
NOTE:	The UE does not consider the message as erroneous if the reportConfigToRemoveList includes any reportConfigId value that is not part of the current UE configuration.
5.5.2.7	Reporting configuration addition/modification
The UE shall:
1>	for each reportConfigId included in the received reportConfigToAddModList:
2>	if an entry with the matching reportConfigId exists in the reportConfigList within the VarMeasConfig, for this entry:
3>	reconfigure the entry with the value received for this reportConfig;
3>	for each measId associated with this reportConfigId included in the measIdList within the VarMeasConfig, if any:
4>	remove the measurement reporting entry for this measId from the VarMeasReportList, if included;
4>	stop the periodical reporting timer and reset the associated information (e.g. timeToTrigger) for this measId;
2>	else:
3>	add a new entry for the received reportConfig to the reportConfigList within the VarMeasConfig.
5.5.2.8	Quantity configuration
The UE shall:
1>	for each RAT for which the received quantityConfig includes parameter(s):
2>	set the corresponding parameter(s) in quantityConfig within VarMeasConfig to the value of the received quantityConfig parameter(s);
1>	for each measId included in the measIdList within VarMeasConfig:
2>	remove the measurement reporting entry for this measId from the VarMeasReportList, if included;
2>	stop the periodical reporting timer and reset the associated information (e.g. timeToTrigger) for this measId.
5.5.2.9	Measurement gap configuration
The UE shall:
1>	if gapFR1 is set to setup:
2>	if an FR1 measurement gap configuration is already setup, release the FR1 measurement gap configuration;
2>	setup the FR1 measurement gap configuration indicated by the measGapConfig in accordance with the received gapOffset, i.e., the first subframe of each gap occurs at an SFN and subframe meeting the following condition:
SFN mod T = FLOOR(gapOffset/10);
subframe = gapOffset mod 10;
with T = MGRP/10 as defined in TS 38.133 [14];
2>	if mgta is configured, apply the specified timing advance to the gap occurrences calculated above (i.e. the UE starts the measurement mgta ms before the gap subframe occurrences);
1>	else if gapFR1 is set to release:
2>	release the FR1 measurement gap configuration;
1>	if gapFR2 is set to setup:
2>	if an FR2 measurement gap configuration is already setup, release the FR2 measurement gap configuration;
2>	setup the FR2 measurement gap configuration indicated by the measGapConfig in accordance with the received gapOffset, i.e., the first subframe of each gap occurs at an SFN and subframe meeting the following condition:
SFN mod T = FLOOR(gapOffset/10);
subframe = gapOffset mod 10;
with T = MGRP/10 as defined in TS 38.133 [14];
2>	if mgta is configured, apply the specified timing advance to the gap occurrences calculated above (i.e. the UE starts the measurement mgta ms before the gap subframe occurrences);
1>	else if gapFR2 is set to release:
2>	release the FR2 measurement gap configuration;
1>	if gapUE is set to setup:	
2>	if a per UE measurement gap configuration is already setup, release the per UE measurement gap configuration;
2>	setup the per UE measurement gap configuration indicated by the measGapConfig in accordance with the received gapOffset, i.e., the first subframe of each gap occurs at an SFN and subframe meeting the following condition:
SFN mod T = FLOOR(gapOffset/10);
subframe = gapOffset mod 10;
with T = MGRP/10 as defined in TS 38.133 [14];
2>	if mgta is configured, apply the specified timing advance to the gap occurrences calculated above (i.e. the UE starts the measurement mgta ms before the gap subframe occurrences);
1>	else if gapUE is set to release:
2>	release the per UE measurement gap configuration.
NOTE 1: For gapFR2 configuration, the SFN and subframe of a serving cell on FR2 frequency is used in the gap calculation
NOTE 2: For gapFR1 or gapUE configuration, the SFN and subframe of the PCell is used in the gap calculation.
5.5.2.10	Reference signal measurement timing configuration
The UE shall setup the first SS/PBCH block measurement timing configuration (SMTC) in accordance with the received periodicityAndOffset parameter (providing Periodicity and Offset value for the following condition) in the smtc1 configuration. The first subframe of each SMTC occasion occurs at an SFN and subframe of the NR SpCell meeting the following condition:
SFN mod T = (FLOOR (Offset/10));
if the Periodicity is larger than sf5:
subframe = Offset mod 10;
else:
subframe = Offset or (Offset +5);
with T = CEIL(Periodicity/10).
If smtc2 is present, for cells indicated in the pci-List parameter in smtc2 in the same MeasObjectNR, the UE shall setup an additional SS/PBCH block measurement timing configuration (SMTC) in accordance with the received periodicity parameter in the smtc2 configuration and use the Offset (derived from parameter periodicityAndOffset) and duration parameter from the smtc1 configuration. The first subframe of each SMTC occasion occurs at an SFN and subframe of the NR SpCell meeting the above condition:
On the indicated ssbFrequency, the UE shall not consider SS/PBCH block transmission in subframes outside the SMTC occasion for RRM measurements based on SS/PBCH blocks and for RRM measurements based on CSI-RS.
5.5.2.11	Measurement gap sharing configuration
The UE shall:
1>	if gapSharingFR1 is set to setup:
2>	if an FR1 measurement gap sharing configuration is already setup, release the measurement gap sharing configuration;
2>	setup the FR1 measurement gap sharing configuration indicated by the measGapSharingConfig in accordance with the received measGapSharingScheme as defined in TS 38.133 [14];
1>	else if gapSharingFR1 is set to release:
2>	release the FR1 measurement gap sharing configuration;
1>	if gapSharingFR2 is set to setup:
2>	if an FR2 measurement gap sharing configuration is already setup, release the measurement gap sharing configuration;
2>	setup the FR2 measurement gap sharing configuration indicated by the measGapSharingConfig in accordance with the received measGapSharingScheme as defined in TS 38.133 [14];
1>	else if gapSharingFR2 is set to release:
2>	release the FR2 measurement gap sharing configuration.
1>	if gapSharingUE is set to setup:
2>	if a per UE measurement gap sharing configuration is already setup, release the per UE measurement gap sharing configuration;
2>	setup the per UE measurement gap sharing configuration indicated by the measGapSharingConfig in accordance with the received measGapSharingScheme as defined in TS 38.133 [14];
1>	else if gapSharingUE is set to release:
2>	release the per UE measurement gap sharing configuration.
5.5.3	Performing measurements
5.5.3.1	General
An RRC_CONNECTED UE shall derive cell measurement results by measuring one or multiple beams associated per cell as configured by the network, as described in 5.5.3.3. For all cell measurement results in RRC_CONNECTED the UE applies the layer 3 filtering as specified in 5.5.3.2, before using the measured results for evaluation of reporting criteria and measurement reporting. For cell measurements, the network can configure RSRP, RSRQ or SINR as trigger quantity. Reporting quantities can be the same as trigger quantity or combinations of quantities (i.e. RSRP and RSRQ; RSRP and SINR; RSRQ and SINR; RSRP, RSRQ and SINR).
The network may also configure the UE to report measurement information per beam (which can either be measurement results per beam with respective beam identifier(s) or only beam identifier(s)), derived as described in 5.5.3.3a. If beam measurement information is configured to be included in measurement reports, the UE applies the layer 3 beam filtering as specified in 5.5.3.2. On the other hand, the exact layer 1 filtering of beam measurements used to derive cell measurement results is implementation dependent.
The UE shall:
1>	whenever the UE has a measConfig, perform RSRP and RSRQ measurements for each serving cell for which servingCellMO is configured as follows:
2>	if at least one measId included in the measIdList within VarMeasConfig contains an rsType set to ssb:
3>	if at least one measId included in the measIdList within VarMeasConfig contains a reportQuantityRsIndexes and maxNrofRSIndexesToReport:
4>	derive layer 3 filtered RSRP and RSRQ per beam for the serving cell based on SS/PBCH block, as described in 5.5.3.3a;
3>	derive serving cell measurement results based on SS/PBCH block, as described in 5.5.3.3;
2>	if at least one measId included in the measIdList within VarMeasConfig contains an rsType set to csi-rs:
3>	if at least one measId included in the measIdList within VarMeasConfig contains a reportQuantityRsIndexes and maxNrofRSIndexesToReport:
4>	derive layer 3 filtered RSRP and RSRQ per beam for the serving cell based on CSI-RS, as described in 5.5.3.3a;
3>	derive serving cell measurement results based on CSI-RS, as described in 5.5.3.3;
1>	if at least one measId included in the measIdList within VarMeasConfig contains SINR as trigger quantity and/or reporting quantity:
2>	if the associated reportConfig contains rsType set to ssb:
3>	if the measId contains a reportQuantityRsIndexes and maxNrofRSIndexesToReport:
4>	derive layer 3 filtered SINR per beam for the serving cell based on SS/PBCH block, as described in 5.5.3.3a;
3>	derive serving cell SINR based on SS/PBCH block, as described in 5.5.3.3;
2>	if the associated reportConfig contains rsType set to csi-rs:
3>	if the measId contains a reportQuantityRsIndexes and maxNrofRSIndexesToReport:
4>	derive layer 3 filtered SINR per beam for the serving cell based on CSI-RS, as described in 5.5.3.3a;
3>	derive serving cell SINR based on CSI-RS, as described in 5.5.3.3;
1>	for each measId included in the measIdList within VarMeasConfig:
2>	if the reportType for the associated reportConfig is set to reportCGI:
3>	perform the corresponding measurements on the frequency and RAT indicated in the associated measObject using available idle periods;
3>	if the cell indicated by reportCGI field for the associated measObject is an NR cell and that indicated cell is broadcasting SIB1 (see TS 38.213 [13], section 13):
4>	try to acquire SIB1 in the concerned cell;
3>	if the cell indicated by reportCGI field is an EUTRA cell:
4>	try to acquire SystemInformationBlockType1 in the concerned cell;
2>	if the reportType for the associated reportConfig is periodical or eventTriggered:
3>	if a measurement gap configuration is setup, or
3>	if the UE does not require measurement gaps to perform the concerned measurements:
4>	if s-MeasureConfig is not configured, or
4>	if s-MeasureConfig is set to ssb-RSRP and the NR SpCell RSRP based on SS/PBCH block, after layer 3 filtering, is lower than ssb-RSRP, or
4>	if s-MeasureConfig is set to csi-RSRP and the NR SpCell RSRP based on CSI-RS, after layer 3 filtering, is lower than csi-RSRP:
5>	if the measObject is associated to NR and the rsType is set to csi-rs:
6>	if reportQuantityRsIndexes and maxNrofRSIndexesToReport for the associated reportConfig are configured:
7>	derive layer 3 filtered beam measurements only based on CSI-RS for each measurement quantity indicated in reportQuantityRsIndexes, as described in 5.5.3.3a;
6>	derive cell measurement results based on CSI-RS for each trigger quantity and each measurement quantity indicated in reportQuantityCell using parameters from the associated measObject, as described in 5.5.3.3;
5>	if the measObject is associated to NR and the rsType is set to ssb:
6>	if reportQuantityRsIndexes and maxNrofRSIndexesToReport for the associated reportConfig are configured:
7>	derive layer 3 beam measurements only based on SS/PBCH block for each measurement quantity indicated in reportQuantityRsIndexes, as described in 5.5.3.3a;
6>	derive cell measurement results based on SS/PBCH block for each trigger quantity and each measurement quantity indicated in reportQuantityCell using parameters from the associated measObject, as described in 5.5.3.3;
5>	if the measObject is associated to E-UTRA:
6>	perform the corresponding measurements associated to neighbouring cells on the frequencies indicated in the concerned measObject;
2>	perform the evaluation of reporting criteria as specified in 5.5.4.
5.5.3.2	Layer 3 filtering
The UE shall:
1>	for each cell measurement quantity and for each beam measurement quantity that the UE performs measurements according to 5.5.3.1:
2>	filter the measured result, before using for evaluation of reporting criteria or for measurement reporting, by the following formula:
	Fn = (1 – a)*Fn-1 + a*Mn
	where
Mn is the latest received measurement result from the physical layer;
Fn is the updated filtered measurement result, that is used for evaluation of reporting criteria or for measurement reporting;
Fn-1 is the old filtered measurement result, where F0is set to M1 when the first measurement result from the physical layer is received; anda = 1/2(ki/4), where ki is the filterCoefficient for the corresponding measurement quantity of the i:th QuantityConfigNR in quantityConfigNR-List, and i is indicated by quantityConfigIndex in MeasObjectNR;
2>	adapt the filter such that the time characteristics of the filter are preserved at different input rates, observing that the filterCoefficient k assumes a sample rate equal to X ms; The value of X is equivalent to one intra-frequency L1 measurement period as defined in 38.133 [14] assuming non-DRX operation, and depends on frequency range.
NOTE 1:	If k is set to 0, no layer 3 filtering is applicable.
NOTE 2:	The filtering is performed in the same domain as used for evaluation of reporting criteria or for measurement reporting, i.e., logarithmic filtering for logarithmic measurements.
NOTE 3:	The filter input rate is implementation dependent, to fulfil the performance requirements set in TS 38.133[14]. For further details about the physical layer measurements, see TS 38.133 [14].
5.5.3.3	Derivation of cell measurement results
The network may configure the UE to derive RSRP, RSRQ and SINR measurement results per cell associated to NR measurement objects based on parameters configured in the measObject (e.g. maximum number of beams to be averaged and beam consolidation thresholds) and in the reportConfig (rsType to be measured, SS/PBCH block or CSI-RS).
The UE shall:
1>	for each cell measurement quantity to be derived based on SS/PBCH block:
2>	if nrofSS-BlocksToAverage in the associated measObject is not configured; or
2>	if absThreshSS-BlocksConsolidation in the associated measObject is not configured; or
2>	if the highest beam measurement quantity value is below or equal to absThreshSS-BlocksConsolidation:
3>	derive each cell measurement quantity based on SS/PBCH block as the highest beam measurement quantity value, where each beam measurement quantity is described in TS 38.215 [9];
2>	else:
3>	derive each cell measurement quantity based on SS/PBCH block as the linear power scale average of the highest beam measurement quantity values above absThreshSS-BlocksConsolidation where the total number of averaged beams shall not exceed nrofSS-BlocksToAverage;
2>	apply layer 3 cell filtering as described in 5.5.3.2;
1>	for each cell measurement quantity to be derived based on CSI-RS:
2>	consider a CSI-RS resource to be applicable for deriving cell measurements when the concerned CSI-RS resource is included in the csi-rs-CellMobilityincludingthe physCellId of the cell in theCSI-RS-ResourceConfigMobility in the associated measObject;
2>	if nrofCSI-RS-ResourcesToAverage in the associated measObject is not configured; or
2>	if absThreshCSI-RS-Consolidation in the associated measObject is not configured; or
2>	if the highest beam measurement quantity value is below or equal to absThreshCSI-RS-Consolidation:
3>	derive each cell measurement quantity based on applicable CSI-RS resources for the cell as the highest beam measurement quantity value, where each beam measurement quantity is described in TS 38.215 [9];
2>	else:
3>	derive each cell measurement quantity based on CSI-RS as the linear power scale average of the highest beam measurement quantity values above absThreshCSI-RS-Consolidation where the total number of averaged beams shall not exceed nrofCSI-RS-ResourcesToAverage;
2>	apply layer 3 cell filtering as described in 5.5.3.2.
5.5.3.3a	Derivation of layer 3 beam filtered measurement
The UE shall:
1>	for each layer 3 beam filtered measurement quantity to be derived based on SS/PBCH block;
2>	derive each configured beam measurement quantity based on SS/PBCH block as described in TS 38.215[9], and apply layer 3 beam filtering as described in 5.5.3.2;
1>	for each layer 3 beam filtered measurement quantity to be derived based on CSI-RS;
2>	derive each configured beam measurement quantity based on CSI-RS as described in TS 38.215 [9], and apply layer 3 beam filtering as described in 5.5.3.2.
5.5.4	Measurement report triggering
5.5.4.1	General
If security has been activated successfully, the UE shall:
1>	for each measId included in the measIdList within VarMeasConfig:
2>	if the corresponding reportConfigincludes a reportType set to eventTriggered or periodical;
3>	if the corresponding measObject concerns NR;
4>	if the eventA1 or eventA2 is configured in the corresponding reportConfig:
5>	consider only the serving cell to be applicable;
4>	else:
5>	for events involving a serving cell associated with a measObjectNRand neighbours associated with another measObjectNR, consider any serving cell associated with the other measObjectNR to be a neighbouring cell as well;
5>	if useWhiteCellList is set to TRUE:
6>	consider any neighbouring cell detected based on parameters in the associated measObjectNRto be applicable when the concerned cell is included in the whiteCellsToAddModList defined within the VarMeasConfig for this measId;
5>	else:
6>	consider any neighbouring cell detected based on parameters in the associated measObjectNRto be applicable when the concerned cell is not included in the blackCellsToAddModList defined within the VarMeasConfig for this measId;
3>	else if the corresponding measObject concerns E-UTRA;
4>	consider any neighbouring cell detected on the associated frequency to be applicable when the concerned cell is not included in the blackCellsToAddModListEUTRAN defined within the VarMeasConfig for this measId;
2>	if the corresponding reportConfig includes a reportType set to reportCGI:
3>	consider the cell detected on the associated measObject which has a physical cell identity matching the value of the cellForWhichToReportCGI included in the corresponding reportConfig within the VarMeasConfig to be applicable;
2>	if the reportType is set to eventTriggered and if the entry condition applicable for this event, i.e. the event corresponding with the eventId of the corresponding reportConfig within VarMeasConfig, is fulfilled for one or more applicable cells for all measurements after layer 3 filtering taken during timeToTrigger defined for this event within the VarMeasConfig, while the VarMeasReportList does not include a measurement reporting entry for this measId (a first cell triggers the event):
3>	include a measurement reporting entry within the VarMeasReportList for this measId;
3>	set the numberOfReportsSent defined within the VarMeasReportList for this measId to 0;
3>	include the concerned cell(s) in the cellsTriggeredList defined within the VarMeasReportList for this measId;
3>	initiate the measurement reporting procedure, as specified in 5.5.5;
2>	if the reportType is set to eventTriggered and if the entry condition applicable for this event, i.e. the event corresponding with the eventId of the corresponding reportConfig within VarMeasConfig, is fulfilled for one or more applicable cells not included in the cellsTriggeredList for all measurements after layer 3 filtering taken during timeToTrigger defined for this event within the VarMeasConfig (a subsequent cell triggers the event):
3>	set the numberOfReportsSent defined within the VarMeasReportList for this measId to 0;
3>	include the concerned cell(s) in the cellsTriggeredList defined within the VarMeasReportList for this measId;
3>	initiate the measurement reporting procedure, as specified in 5.5.5;
2>	if the reportType is set to eventTriggered and if the leaving condition applicable for this event is fulfilled for one or more of the cells included in the cellsTriggeredList defined within the VarMeasReportList for this measId for all measurements after layer 3 filtering taken during timeToTrigger defined within the VarMeasConfig for this event:
3>	remove the concerned cell(s) in the cellsTriggeredList defined within the VarMeasReportList for this measId;
3>	if reportOnLeave is set to TRUE for the corresponding reporting configuration:
4>	initiate the measurement reporting procedure, as specified in 5.5.5;
3>	if the cellsTriggeredList defined within the VarMeasReportList for this measId is empty:
4>	remove the measurement reporting entry within the VarMeasReportList for this measId;
4>	stop the periodical reporting timer for this measId, if running;
2>	if reportType is set to periodical and if a (first) measurement result is available:
3>	include a measurement reporting entry within the VarMeasReportList for this measId;
3>	set the numberOfReportsSent defined within the VarMeasReportList for this measId to 0;
4>	if the reportAmount exceeds 1:
5>	initiate the measurement reporting procedure, as specified in 5.5.5, immediately after the quantity to be reported becomes available for the NR SpCell;
4>	else (i.e. the reportAmount is equal to 1):
5>	initiate the measurement reporting procedure, as specified in 5.5.5, immediately after the quantity to be reported becomes available for the NR SpCell and for the strongest cell among the applicable cells;
2>	upon expiry of the periodical reporting timer for this measId:
3>	initiate the measurement reporting procedure, as specified in 5.5.5.
2>	if reportType is set to reportCGI;
3>	if the UE acquired the SIB1 or SystemInformationBlockType1 for the requested cell; or
3>	if the UE detects that the requested NR cell is not transmitting SIB1 (see TS 38.213 [13], section 13):
4>	stop timer T321;
4>	include a measurement reporting entry within the VarMeasReportList for this measId;
4>	set the numberOfReportsSent defined within the VarMeasReportList for this measId to 0;
4>	initiate the measurement reporting procedure, as specified in 5.5.5;
2>	upon the expiry of T321 for this measId:
3>	include a measurement reporting entry within the VarMeasReportList for this measId;
3>	set the numberOfReportsSent defined within the VarMeasReportList for this measId to 0;
3>	initiate the measurement reporting procedure, as specified in 5.5.5.
5.5.4.2	Event A1 (Serving becomes better than threshold)
The UE shall:
1>	consider the entering condition for this event to be satisfied when condition A1-1, as specified below, is fulfilled;
1>	consider the leaving condition for this event to be satisfied when condition A1-2, as specified below, is fulfilled;
1>	for this measurement, consider the NR serving cell corresponding to the associated measObjectNR associated with this event.
Inequality A1-1 (Entering condition)
Ms – Hys > Thresh
Inequality A1-2 (Leaving condition)
Ms + Hys < Thresh
The variables in the formula are defined as follows:
Ms is the measurement result of the serving cell, not taking into account any offsets.
Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigNR for this event).
Thresh is the threshold parameter for this event (i.e. a1-Threshold as defined within reportConfigNR for this event).
Ms is expressed in dBm in case of RSRP, or in dB in case of RSRQ and RS-SINR.
Hys is expressed in dB.
Thresh is expressed in the same unit as Ms.
5.5.4.3	Event A2 (Serving becomes worse than threshold)
The UE shall:
1>	consider the entering condition for this event to be satisfied when condition A2-1, as specified below, is fulfilled;
1>	consider the leaving condition for this event to be satisfied when condition A2-2, as specified below, is fulfilled;
1>	for this measurement, consider the serving cell indicated by the measObjectNR associated to this event.
Inequality A2-1 (Entering condition)
Ms + Hys < Thresh
Inequality A2-2 (Leaving condition)
Ms – Hys > Thresh
The variables in the formula are defined as follows:
Ms is the measurement result of the serving cell, not taking into account any offsets.
Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigNR for this event).
Thresh is the threshold parameter for this event (i.e. a2-Threshold as defined within reportConfigNR for this event).
Ms is expressed in dBm in case of RSRP, or in dB in case of RSRQ and RS-SINR.
Hys is expressed in dB.
Thresh is expressed in the same unit as Ms.
5.5.4.4	Event A3 (Neighbour becomes offset better than SpCell)
The UE shall:
1>	consider the entering condition for this event to be satisfied when condition A3-1, as specified below, is fulfilled;
1>	consider the leaving condition for this event to be satisfied when condition A3-2, as specified below, is fulfilled;
1>	use the SpCell for Mp, Ofp and Ocp.
NOTE	The cell(s) that triggers the event has reference signals indicated in the measObjectNR associated to this event which may be different from the NR SpCellmeasObjectNR.
Inequality A3-1 (Entering condition)
Mn + Ofn + Ocn – Hys > Mp + Ofp + Ocp + Off
Inequality A3-2 (Leaving condition)
Mn + Ofn + Ocn + Hys < Mp + Ofp + Ocp + Off
The variables in the formula are defined as follows:
Mn is the measurement result of the neighbouring cell, not taking into account any offsets.
Ofn is the measurement object specific offset of the reference signal of the neighbour cell (i.e. offsetMO as defined within measObjectNR corresponding to the neighbour cell).
Ocn is the cell specific offset of the neighbour cell (i.e. cellIndividualOffset as defined within measObjectNR corresponding to the frequency of the neighbour cell), and set to zero if not configured for the neighbour cell.
Mp is the measurement result of the SpCell, not taking into account any offsets.
Ofp is the measurement object specific offset of the SpCell (i.e. offsetMO as defined within measObjectNR corresponding to the SpCell).
Ocp is the cell specific offset of the SpCell (i.e. cellIndividualOffset as defined within measObjectNR corresponding to the SpCell), and is set to zero if not configured for the SpCell.
Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigNR for this event).
Off is the offset parameter for this event (i.e. a3-Offset as defined within reportConfigNR for this event).
Mn, Mp are expressed in dBm in case of RSRP, or in dB in case of RSRQ and RS-SINR.
Ofn, Ocn, Ofp, Ocp, Hys, Off are expressed in dB.
5.5.4.5	Event A4 (Neighbour becomes better than threshold)
The UE shall:
1>	consider the entering condition for this event to be satisfied when condition A4-1, as specified below, is fulfilled;
1>	consider the leaving condition for this event to be satisfied when condition A4-2, as specified below, is fulfilled.
Inequality A4-1 (Entering condition)
Mn + Ofn + Ocn – Hys > Thresh
Inequality A4-2 (Leaving condition)
Mn + Ofn + Ocn + Hys < Thresh
The variables in the formula are defined as follows:
Mn is the measurement result of the neighbouring cell, not taking into account any offsets.
Ofn is the measurement object specific offset of the neighbour cell (i.e. offsetMO as defined within measObjectNR corresponding to the neighbour cell).
Ocn is the measurement object specific offset of the neighbour cell (i.e. cellIndividualOffset as defined within measObjectNR corresponding to the neighbour cell), and set to zero if not configured for the neighbour cell.
Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigNR for this event).
Thresh is the threshold parameter for this event (i.e. a4-Threshold as defined within reportConfigNR for this event).
Mn is expressed in dBm in case of RSRP, or in dB in case of RSRQ and RS-SINR.
Ofn, Ocn, Hys are expressed in dB.
Thresh is expressed in the same unit as Mn.
5.5.4.6	Event A5 (SpCell becomes worse than threshold1 and neighbour/SCell becomes better than threshold2)
The UE shall:
1>	consider the entering condition for this event to be satisfied when both condition A5-1 and condition A5-2, as specified below, are fulfilled;
1>	consider the leaving condition for this event to be satisfied when condition A5-3 or condition A5-4, i.e. at least one of the two, as specified below, is fulfilled;
1>	use the SpCell for Mp.
NOTE:	The parameters of the reference signal(s) of the cell(s) that triggers the event are indicated in the measObjectNR associated to the event which may be different from the measObjectNR of the NR SpCell.
Inequality A5-1 (Entering condition 1)
Mp + Hys < Thresh1
Inequality A5-2 (Entering condition 2)
Mn + Ofn + Ocn – Hys > Thresh2
Inequality A5-3 (Leaving condition 1)
Mp – Hys > Thresh1
Inequality A5-4 (Leaving condition 2)
Mn + Ofn + Ocn + Hys < Thresh2
The variables in the formula are defined as follows:
Mp is the measurement result of the NR SpCell, not taking into account any offsets.
Mn is the measurement result of the neighbouring cell/SCell, not taking into account any offsets.
Ofn is the measurement object specific offset of the neighbour/SCell cell (i.e. offsetMO as defined within measObjectNR corresponding to the neighbour cell/SCell).
Ocn is the cell specific offset of the neighbour cell/SCell (i.e. cellIndividualOffset as defined within measObjectNR corresponding to the neighbour cell/SCell), and set to zero if not configured for the neighbour cell.
Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigNR for this event).
Thresh1 is the threshold parameter for this event (i.e. a5-Threshold1 as defined within reportConfigNR for this event).
Thresh2 is the threshold parameter for this event (i.e. a5-Threshold2 as defined within reportConfigNR for this event).
Mn, Mp are expressed in dBm in case of RSRP, or in dB in case of RSRQ and RS-SINR.
Ofn, Ocn, Hys are expressed in dB.
Thresh1is expressed in the same unit as Mp.
Thresh2 is expressed in the same unit as Mn.
5.5.4.7	Event A6 (Neighbour becomes offset better than SCell)
The UE shall:
1>	consider the entering condition for this event to be satisfied when condition A6-1, as specified below, is fulfilled;
1>	consider the leaving condition for this event to be satisfied when condition A6-2, as specified below, is fulfilled;
1>	for this measurement, consider the (secondary) cell corresponding to the measObjectNR associated to this event to be the serving cell.
NOTE:	The reference signal(s) of the neighbour(s) and the reference signal(s) of the SCell are both indicated in the associated measObjectNR.
Inequality A6-1 (Entering condition)
Mn + Ocn – Hys > Ms + Ocs + Off
Inequality A6-2 (Leaving condition)
Mn + Ocn + Hys < Ms + Ocs + Off
The variables in the formula are defined as follows:
Mn is the measurement result of the neighbouring cell, not taking into account any offsets.
Ocn is the cell specific offset of the neighbour cell (i.e. cellIndividualOffset as defined within the associated measObjectNR), and set to zero if not configured for the neighbour cell.
Ms is the measurement result of the serving cell, not taking into account any offsets.
Ocs is the cell specific offset of the serving cell (i.e. cellIndividualOffset as defined within the associated measObjectNR), and is set to zero if not configured for the serving cell.
Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigNR for this event).
Off is the offset parameter for this event (i.e. a6-Offset as defined within reportConfigNR for this event).
Mn, Ms are expressed in dBm in case of RSRP, or in dB in case of RSRQ and RS-SINR.
Ocn, Ocs, Hys, Off are expressed in dB.
5.5.4.8	Event B1 (Inter RAT neighbour becomes better than threshold)
The UE shall:
1>	consider the entering condition for this event to be satisfied when condition B1-1, as specified below, is fulfilled;
1>	consider the leaving condition for this event to be satisfied when condition B1-2, as specified below, is fulfilled;
Inequality B1-1 (Entering condition)
Mn + Ofn + Ocn – Hys > Thresh
Inequality B1-2 (Leaving condition)
Mn + Ofn + Ocn + Hys < Thresh
The variables in the formula are defined as follows:
Mn is the measurement result of the inter-RAT neighbour cell, not taking into account any offsets.
Ofn is the measurement object specific offset of the frequency of the inter-RAT neighbour cell (i.e. eutra-Q-OffsetRange as defined within the measObjectEUTRA corresponding to the frequency of the neighbour inter-RAT cell).
Ocn is the cell specific offset of the inter-RAT neighbour cell (i.e. cellIndividualOffset as defined within the measObjectEUTRA corresponding to the neighbour inter-RAT cell), and set to zero if not configured for the neighbour cell.
Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigInterRAT for this event).
Thresh is the threshold parameter for this event (i.e. b1-ThresholdEUTRA as defined within reportConfigInterRAT for this event).
Mn is expressed in dBm or in dB, depending on the measurement quantity of the inter-RAT neighbour cell.
Ofn, Ocn, Hys are expressed in dB.
Thresh is expressed in the same unit as Mn.
5.5.4.9	Event B2 (PCell becomes worse than threshold1 and inter RAT neighbour becomes better than threshold2)
The UE shall:
1>	consider the entering condition for this event to be satisfied when both condition B2-1 and condition B2-2, as specified below, are fulfilled;
1>	consider the leaving condition for this event to be satisfied when condition B2-3 or condition B2-4, i.e. at least one of the two, as specified below, is fulfilled;
Inequality B2-1 (Entering condition 1)
Mp + Hys < Thresh1
Inequality B2-2 (Entering condition 2)
Mn + Ofn + Ocn – Hys > Thresh2
Inequality B2-3 (Leaving condition 1)
Mp – Hys > Thresh1
Inequality B2-4 (Leaving condition 2)
Mn + Ofn + Ocn + Hys < Thresh2
The variables in the formula are defined as follows:
Mp is the measurement result of the PCell, not taking into account any offsets.
Mn is the measurement result of the inter-RAT neighbour cell, not taking into account any offsets.
Ofn is the measurement object specific offset of the frequency of the inter-RAT neighbour cell (i.e. eutra-Q-OffsetRange as defined within the measObjectEUTRA corresponding to the frequency of the inter-RAT neighbour cell).
Ocn is the cell specific offset of the inter-RAT neighbour cell (i.e. cellIndividualOffset as defined within the measObjectEUTRA corresponding to the neighbour inter-RAT cell), and set to zero if not configured for the neighbour cell.
Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigInterRAT for this event).
Thresh1 is the threshold parameter for this event (i.e. b2-Threshold1 as defined within reportConfigInterRAT for this event).
Thresh2 is the threshold parameter for this event (i.e. b2-Threshold2EUTRA as defined within reportConfigInterRAT for this event).
Mp is expressed in dBm in case of RSRP, or in dB in case of RSRQ and SINR.
Mn is expressed in dBm or dB, depending on the measurement quantity of the inter-RAT neighbour cell.
Ofn, Ocn, Hys are expressed in dB.
Thresh1 is expressed in the same unit as Mp.
Thresh2 is expressed in the same unit as Mn.
5.5.5	Measurement reporting
5.5.5.1	General

Figure 5.5.5.1-1: Measurement reporting
The purpose of this procedure is to transfer measurement results from the UE to the network. The UE shall initiate this procedure only after successful security activation.
For the measId for which the measurement reporting procedure was triggered, the UE shall set the measResults within the MeasurementReport message as follows:
1>	set the measId to the measurement identity that triggered the measurement reporting;
1>	set the measResultServingCell within measResultServingMOList to include RSRP, RSRQ and the available SINR for each configured serving cell derived based on the rsType indicated in the associated reportConfig;
1>	set the measResultServingCell within measResultServingMOList to include for each NR serving cell that is configured with servingCellMO, if any, the servCellId;
1>	if the reportConfig associated with the measId that triggered the measurement reporting includes reportQuantityRsIndexes and maxNrofRSIndexesToReport:
2>	for each serving cell configured with servingCellMO, include beam measurement information according to the associated reportConfig as described in 5.5.5.2;
1>	if the reportConfig associated with the measId that triggered the measurement reporting includes reportAddNeighMeas:
2>for each serving cell measObjectId referenced in the measIdList, other than the measObjectIdcorresponding with the measId that triggered the measurement reporting:
3>	set the measResultBestNeighCell within measResultServingMOList to include the physCellId and the available measurement quantities based on the reportQuantityCelland rsTypeindicated in reportConfig of the non-serving cell corresponding to the concerned measObjectNRwith the highest measured RSRP if RSRP measurement results are available for cells corresponding to this measObjectNR, otherwise with the highest measured RSRQ if RSRQ measurement results are available for cells corresponding to this measObjectNR, otherwise with the highest measured SINR;
3>	if the reportConfig associated with the measId that triggered the measurement reporting includes reportQuantityRsIndexes and maxNrofRSIndexesToReport:
4>	for each best non-serving cell included in the measurement report:
5>include beam measurement information according to the associated reportConfig as described in 5.5.5.2;
1>	if there is at least one applicable neighbouring cell to report:
2>	set the measResultNeighCells to include the best neighbouring cells up to maxReportCells in accordance with the following:
3>	if the reportType is set to eventTriggered:
4>	include the cells included in the cellsTriggeredList as defined within the VarMeasReportList for this measId;
3>	else:
4>	include the applicable cells for which the new measurement results became available since the last periodical reporting or since the measurement was initiated or reset;
4>	if reportQuantityRsIndexesand maxNrofRSIndexesToReport are configured, include beam measurement information as described in 5.5.5.2;
3>	for each cell that is included in the measResultNeighCells, include the physCellId;
3>	if the reportType is set to eventTriggered:
4>	for each included cell, include the layer 3 filtered measured results in accordance with the reportConfig for this measId, ordered as follows:
5>	if the measObject associated with this measId concerns NR:
6>	if rsType in the associated reportConfig is set to ssb:
7>	set resultsSSB-Cell within the measResult to include the SS/PBCH block based quantity(ies) indicated in the reportQuantityCell within the concerned reportConfig, in order of decreasing trigger quantity, i.e. the best cell is included first:
8>	if reportQuantityRsIndexesand maxNrofRSIndexesToReport are configured, include beam measurement information as described in 5.5.5.2;
6>	else if rsType in the associated reportConfig is set to csi-rs:
7>	set resultsCSI-RS-Cell within the measResult to include the CSI-RS based quantity(ies) indicated in the reportQuantityCell within the concerned reportConfig, in order of decreasing trigger quantity, i.e. the best cell is included first:
8>	if reportQuantityRsIndexesand maxNrofRSIndexesToReport are, include beam measurement information as described in 5.5.5.2;
5>	if the measObject associated with this measId concerns E-UTRA:
6>	set the measResult to include the quantity(ies) indicated in the reportQuantity within the concerned reportConfigInterRAT in order of decreasing E-UTRA trigger quantity, i.e. the best cell is included first;
3>	if the reportType is set to periodical:
4>	if a single reporting quantity is set to TRUE in reportQuantityRsIndexes;
5>	consider the configured single quantity as the sorting quantity;
4>	else:
5>	if rsrp is set to TRUE;
6>	consider RSRP as the sorting quantity;
5>	else:
6>	consider RSRQ as the sorting quantity;
3>	if the reportType is set to reportCGI:
4>	if the cell indicated by cellForWhichToReportCGI is an NR cell:
5>	if all mandatory fields of the cgi-Info for the concerned cell have been obtained:
6>	include the plmn-IdentityInfoList including plmn-IdentityList, trackingAreaCode (if available), ranac (if available) and cellIdentity for each entry of the plmn-IdentityInfoList;
6>	include frequencyBandList if available;
5>	else if MIB indicates the SIB1 is not broadcast:
6>	include the noSIB1 including the ssb-SubcarrierOffset and pdcch-ConfigSIB1 obtained from MIB of the concerned cell;
4>	if the cell indicated by cellForWhichToReportCGI is an EUTRA cell:
5>	if all mandatory fields of the cgi-Info-EPC for the concerned cell have been obtained:
6>	include in the cgi-Info-EPC the fields broadcasted in EUTRA SystemInformationBlockType1 associated to EPC;
5>	if UE is E-UTRA/5GC capable and all mandatory fields of the cgi-Info-5GC for the concerned cell have been obtained:
6>	include in the cgi-Info-5GC the fields broadcasted in EUTRA SystemInformationBlockType1 associated to 5GC;
5>	include the freqBandIndicator;
5>	if the cell broadcasts the multiBandInfoList, include the multiBandInfoList;
5>	if the cell broadcasts the freqBandIndicatorPriority, include the freqBandIndicatorPriority;
1>	increment the numberOfReportsSent as defined within the VarMeasReportList for this measId by 1;
1>	stop the periodical reporting timer, if running;
1>	if the numberOfReportsSent as defined within the VarMeasReportList for this measId is less than the reportAmount as defined within the corresponding reportConfig for this measId:
2>	start the periodical reporting timer with the value of reportInterval as defined within the corresponding reportConfig for this measId;
1>	else:
2>	if the reportType is set to periodical:
3>	remove the entry within the VarMeasReportList for this measId;
3>	remove this measId from the measIdList within VarMeasConfig;
1>	if the UE is configured with EN-DC:
2>	if SRB3 is configured:
3>	submit the MeasurementReport message via SRB3 to lower layers for transmission, upon which the procedure ends;
2>	else:
3>	submit the MeasurementReport message via the EUTRA MCG embedded in E-UTRA RRC message ULInformationTransferMRDC as specified in TS 36.331 [10].
1>	else:
2>	submit the MeasurementReport message to lower layers for transmission, upon which the procedure ends.
5.5.5.2	Reporting of beam measurement information
For beam measurement information to be included in a measurement report the UE shall:
1>	if reportType is set to eventTriggered:
2>	consider the trigger quantity as the sorting quantity;
1>	if reportType is set to periodical:
2>	if a single reporting quantity is set to TRUE in reportQuantityRsIndexes;
3>	consider the configured single quantity as the sorting quantity;
2>	else:
3>	if rsrp is set to TRUE;
4>	consider RSRP as the sorting quantity;
3>	else:
4>	consider RSRQ as the sorting quantity;
1>	set rsIndexResults to include up to maxNrofRsIndexesToReportSS/PBCH block indexes or CSI-RS indexes in order of decreasing sorting quantity as follows:
2>	if the measurement information to be included is based on SS/PBCH block:
3>	include within resultsSSB-Indexes the index associated to the best beam for that SS/PBCH block sorting quantity and if absThreshSS-BlocksConsolidationis included in the VarMeasConfig for the corresponding measObject, the remaining beams whose sorting quantity is above absThreshSS-BlocksConsolidation defined in the VarMeasConfig for the corresponding measObject;
3>	if includeBeamMeasurements is configured, include the SS/PBCH based measurement results for the quantities in reportQuantityRsIndexes set to TRUE for each SS/PBCH blockindex;
2>	else if the beam measurement information to be included is based on CSI-RS:
3>	include within resultsCSI-RS-Indexes the index associated to the best beam for that CSI-RS sorting quantity and, if absThreshCSI-RS-Consolidation is included in the VarMeasConfig for the corresponding measObject, the remaining beams whose sorting quantity is above absThreshCSI-RS-Consolidation defined in the VarMeasConfig for the corresponding measObject;
3>	if includeBeamMeasurementsis configured, include the CSI-RS based measurement results for the quantities in reportQuantityRsIndexes set to TRUE for each CSI-RS index.
5.5.6	Location measurement indication
5.5.6.1	General

Figure 5.5.5.1-1: Location measurement indication
The purpose of this procedure is to indicate to the network that the UE is going to start/stop location related measurements which require measurement gaps.
NOTE:	It is a network decision to configure the measurement gap.
5.5.6.2	Initiation
The UE shall:
1>	if and only if upper layers indicate to start performing location measurements and the UE requires measurement gaps for these measurements while measurement gaps are either not configured or not sufficient:
2>	initiate the procedure to indicate start;
NOTE 1:	The UE verifies the measurement gap situation only upon receiving the indication from upper layers. If at this point in time sufficient gaps are available, the UE does not initiate the procedure. Unless it receives a new indication from upper layers, the UE is only allowed to further repeat the procedure in the same PCell once per frequency of the target RAT if the provided measurement gaps are insufficient.
1>	if and only if upper layers indicate to stop performing location measurements:
2>	initiate the procedure to indicate stop.
NOTE 2:	The UE may initiate the procedure to indicate stop even if it did not previously initiate the procedure to indicate start.
5.5.6.3	Actions related to transmission of LocationMeasurementIndication message
The UE shall set the contents of LocationMeasurementIndication message as follows:
1>	set the measurementIndication as follows:
2>	if the procedure is initiated to indicate start of location related measurements:
3>	set the measurementIndication to setup LocationmeasurementInfo;
3>	if the procedure is initiated for RSTD measurements towards E-UTRA:
4>	set the locationMeasurementInfoto the value eutra-RSTDaccording to the information received from upper layers;
Editor's Note: Initiation of the procedure to start measurements other than RSTD measurements towards E-UTRA is FFS.
2>	else if the procedure is initiated to indicate stop of location related measurements:
3>	set the measurementIndication to release;
1>	submit the LocationMeasurementIndication message to lower layers for transmission, upon which the procedure ends.
5.6	UE capabilities
5.6.1	UE capability transfer
5.6.1.1	General

Figure 5.6.1.1-1: UE capability transfer
5.6.1.2	Initiation
The network initiates the procedure to a UE in RRC_CONNECTED when it needs (additional) UE radio access capability information.
5.6.1.3	Reception of the UECapabilityEnquiry by the UE
The UE shall set the contents of UECapabilityInformation message as follows:
1>	if the ue-CapabilityRequest includes nr:
2>	include the UE-NR-Capability within a ue-CapabilityRAT-Container and with the rat-Type set to nr;
2>	include band combinations supported by the UE into supportedBandCombination as specified in 5.6.1.4;
1>	if the ue-CapabilityRequest includes eutra and if the UE supports EUTRA:
2>	include the UE-EUTRA-Capability within a ue-CapabilityRAT-Container and with the rat-Type set to eutra;
1>	submit the UECapabilityInformation message to lower layers for transmission, upon which the procedure ends.
Editor's Note: FFS whether NR UECapabilityEnquiry is also used for EN-DC.
5.6.1.4	Compilation of band combinations supported by the UE
The UE shall:
1>	if FreqBandList is received:
2>	if the received FreqBandList contains at least one of maxBandwidthRequestedDL, maxBandwidthRequestedUL, maxCarriersRequestedDL or maxCarriersRequestedUL for at least one of the bands:
3>	compile a list of band combinations, candidate for inclusion in the UECapabilityInformation message, only consisting of bands included in FreqBandList, where for each band in the band combination, the parameters of the band do not exceed the corresponding parameters provided by the IEs maxBandwidthRequestedDL, maxBandwidthRequestedUL, maxCarriersRequestedDL, maxCarriersRequested, ca-BandwidthClassDL-EUTRA or ca-BandwidthClassUL-EUTRA, whichever are recevied.
2>	else:
3>	compile a list of band combinations, candidate for inclusion in the UECapabilityInformation message, only consisting of bands included in FreqBandList, and prioritized in the order of FreqBandList, (i.e. first include remaining band combinations containing the first-listed band, then include remaining band combinations containing the second-listed band, and so on);
2>	for each band combination included in the candidate list:
3>	if it is regarded as a fallback band combination with the same capabilities of another band combination included in the list of candidates as specified in TS 38.306 [xx]:
4>	remove the band combination from the list of candidates;
2>	include all band combinations in the candidate list into supportedBandCombination;
2>	include the received FreqBandList in the field appliedFreqBandListFilter of the requested UE capability;
1>	else:
2>	include all band combinations supported by the UE into supportedBandCombination, excluding fallback band combinations with the same capabilities of another band combination included in the list of band combinations supported by the UE;
1>	if the requested rat-Type is nr:
2>	include the featureSets for the supportedBandCombinations included above;
2>	include the featureSetCombinations corresponding to the supportedBandCombinations and for the featureSets included above;
1>	if the requested rat-Type is eutra-nr:
2>	include the featureSetCombinations corresponding to the supportedBandCombinations included above and to the featureSets included in a corresponding capability request for rat-Type set to nr.
NOTE:	For EN-DC, the network needs the capabilities for RAT types nr and eutra-nr and it uses the featureSets in the UE-NR-Capabilities together with the featureSetCombinations in the UE-MRDC-Capabilities to determine the UE capabilities for the supported MRDC band combinations. Hence, the IDs used in the featureSets must match to the IDs referred to in featureSetCombinations.
5.6.1.5	Void
5.7	Other
5.7.1	DL information transfer
5.7.1.1	General

Figure 5.7.1.1-1: DL information transfer
The purpose of this procedure is to transfer NAS dedicated information from NG-RAN to a UE in RRC_CONNECTED.
5.7.1.2	Initiation
The network initiates the DL information transfer procedure whenever there is a need to transfer NAS dedicated information. The network initiates the DL information transfer procedure by sending the DLInformationTransfer message.
5.7.1.3	Reception of the DLInformationTransfer by the UE
Upon receiving DLInformationTransfer message, the UE shall:
1>	if dedicatedNAS-Message is included:
2>	forward dedicatedNAS-Message to upper layers.
5.7.2	UL information transfer
Editor's Note: It is assumed that NAS triggers the Unified Access Control specified in 5.3.x before initiating this procedure. UE performs this procedure if the access attempt is allowed according to 5.3.14.
5.7.2.1	General

Figure 5.7.2.1-1: UL information transfer
The purpose of this procedure is to transfer NAS dedicated information from the UE to the network.
5.7.2.2	Initiation
A UE in RRC_CONNECTED initiates the UL information transfer procedure whenever there is a need to transfer NAS dedicated information. The UE initiates the UL information transfer procedure by sending the ULInformationTransfer message.
5.7.2.3	Actions related to transmission of ULInformationTransfer message
The UE shall set the contents of the ULInformationTransfer message as follows:
1>	if the upper layer provides NAS PDU:
2>	set the dedicatedNAS-Message to include the information received from upper layers
1>	submit the ULInformationTransfer message to lower layers for transmission, upon which the procedure ends.
5.7.2.4	Failure to deliver ULInformationTransfer message
The UE shall:
1>	if AS security is not started and radio link failure occurs before the successful delivery of ULInformationTransfer messages has been confirmed by lower layers; or
1>	if mobility (i.e. handover, RRC connection re-establishment) occurs before the successful delivery of ULInformationTransfer messages has been confirmed by lower layers:
2>	inform upper layers about the possible failure to deliver the information contained in the concerned ULInformationTransfer messages.
5.7.3	SCG failure information
5.7.3.1	General

Figure 5.7.3.1-1: SCG failure information
The purpose of this procedure is to inform EUTRAN or NR MN about an SCG failure the UE has experienced i.e. SCG radio link failure, failure of SCG reconfiguration with sync, SCG configuration failure for RRC message on SRB3, SCG integrity check failure and exceeding the maximum uplink transmission timing difference.
Editor's Note: SCG failure considers the case of exceeding the maximum uplink transmission timing difference if RAN1 decides that EN-DC supports the synchronised operation case. FFS how to capture
Editor's Note: FFS whether to include the handling of SCell Failure in CA duplication case in SCGfailureinformation procedure and whether to rename SCGfailureinformation.
5.7.3.2	Initiation
A UE initiates the procedure to report SCG failures when SCG transmission is not suspended and when one of the following conditions is met:
1>	upon detecting radio link failure for the SCG, in accordance with subclause 5.3.10.3;
1>	upon reconfiguration with sync failure of the SCG, in accordance with subclause 5.3.5.8.3;
1>	upon SCG configuration failure, in accordance with subclause 5.3.5.8.2;
1>	upon integrity check failure indication from SCG lower layers, in accordance with subclause 5.3.5.8.1.
Upon initiating the procedure, the UE shall:
1>	suspend SCG transmission for all SRBs and DRBs;
1>	reset SCG-MAC;
1>	stop T304, if running;
1>	if the UE is operating in EN-DC:
2>	initiate transmission of the SCGFailureInformationNR message as specified in TS 36.331 [10, 5.6.13a].
Editor's Note: The section for transmission of SCGFailureInformation in NR RRC entity for SA is FFS_Standalone.
5.7.3.3	Failure type determination
Editor's Note: FFS / TODO: Either use this section also for NR-DC or change section title (add "for EN-DC").
The UE shall set the SCG failure type as follows:
1>	if the UE initiates transmission of the SCGFailureInformationNR message due to T310 expiry:
2>	set the failureType as t310-Expiry;
1>	else if the UE initiates transmission of the SCGFailureInformationNR message to provide reconfiguration with sync failure information for an SCG:
2>	set the failureType as scg-ChangeFailure;
Editor's Note: FFS whether to change scg-ChangeFailure to synchronousReconfigurationFailure-SCG.
1>	else if the UE initiates transmission of the SCGFailureInformationNR message to provide random access problem indication from SCG MAC:
2>	set the failureType as randomAccessProblem;
1>	else if the UE initiates transmission of the SCGFailureInformationNR message to provide indication from SCG RLC that the maximum number of retransmissions has been reached:
2>	set the failureType as rlc-MaxNumRetx;
1>	else, if the UE initiates transmission of the SCGFailureInformationNR message due to SRB3 IP check failure:
2>	set the failureType as srb3-IntegrityFailure;
1>	else, if the UE initiates transmission of the SCGFailureInformationNR message due to Reconfiguration failure of NR RRC reconfiguration message:
2>	set the failureType as scg-reconfigFailure.
Editor's Note: FFS: whether to include rrc-TransactionIdentifier information.
5.7.3.4	Setting the contents of MeasResultSCG-Failure
The UE shall set the contents of the MeasResultSCG-Failureas follows:
1>	for each MeasOjectNR for which a measId is configured and measurement results are available;
2>	include an entry in measResultsPerMOList;
2>	if there is a measId configured with the MeasObjectNR and a reportConfig which has rsType set to ssb:
3>	set ssbFrequency to the value indicated by ssbFrequency as included in the MeasObjectNR;
2>	if there is a measId configured with the MeasObjectNR and a reportConfig which has rsType set to csi-rs:
3>	set refFreqCSI-RS to the value indicated by refFreqCSI-RS as included in the associated measurement object;
2>	if a serving cell is associated with the MeasObjectNR:
3>	set measResultServingCellto include the available quantities of the concerned cell and in accordance with the performance requirements in [FFS_Ref];
2>	set the measResultNeighCellList to include the best measured cells, ordered such that the best cell is listed first, and based on measurements collected up to the moment the UE detected the failure, and set its fields as follows;
3>	ordering the cells with sorting as follows:
4>	based on SS/PBCH block if SS/PBCH block measurement results are available and otherwise based on CSI-RS,
4>	using RSRP if RSRP measurement results are available, otherwise using RSRQ if RSRQ measurement results are available, otherwise using SINR,
3>	for each neighbour cell included:
4>	include the optional fields that are available.
NOTE:	The measured quantities are filtered by the L3 filter as configured in the mobility measurement configuration. The measurements are based on the time domain measurement resource restriction, if configured. Blacklisted cells are not required to be reported.
5.7.4	UE Assistance Information
5.7.4.1	General

Figure 5.7.4.1-1: UE Assistance Information
The purpose of this procedure is to inform the NETWORK of the UE's delay budget report carrying desired increment/decrement in the Uu air interface delay or connected mode DRX cycle length.
5.7.4.2	Initiation
A UE capable of providing delay budget report in RRC_CONNECTED may initiate the procedure in several cases, including upon being configured to provide delay budget report and upon change of delay budget preference.
Upon initiating the procedure, the UE shall:
1>	if configured to provide delay budget report:
2>	if the UE did not transmit a UEAssistanceInformation message with delayBudgetReport since it was configured to provide delay budget report; or
2>	if the current delay budget is different from the one indicated in the last transmission of the UEAssistanceInformation message and timer T3xx is not running:
3>	initiate transmission of the UEAssistanceInformation message in accordance with 5.7.4.3;
5.7.4.3	Actions related to transmission of UEAssistanceInformation message
The UE shall set the contents of the UEAssistanceInformation message for delay budget report as follows:
1>	if configured to provide delay budget report:
2>	if the UE prefers an adjustment in the connected mode DRX cycle length:
3>	set delayBudgetReport to type1 according to a desired value;
2>	start or restart timer T3xx with the timer value set to the delayBudgetReportingProhibitTimer.
6	Protocol data units, formats and parameters (ASN.1)
6.1	General
6.1.1	Introduction
The contents of each RRC message is specified in sub-clause 6.2 using ASN.1 to specify the message syntax and using tables when needed to provide further detailed information about the fields specified in the message syntax. The syntax of the information elements that are defined as stand-alone abstract types is further specified in a similar manner in sub-clause 6.3.
6.1.2	Need codes and conditions for optional downlink fields
The need for fields to be present in a message or an abstract type, i.e., the ASN.1 fields that are specified as OPTIONAL in the abstract notation (ASN.1), is specified by means of comment text tags attached to the OPTIONAL statement in the abstract syntax. All comment text tags are available for use in the downlink direction only. The meaning of each tag is specified in table 6.1.2-1.
If conditions are used, a conditional presence table is provided for the message or information element specifying the need of the field for each condition case. The table also specifies whether UE maintains or releases the value in case the field is not present. The conditions clarify what the UE may expect regarding the setting of the message by the network. Violation of conditions is regarded as invalid network behaviour, which the UE is not required to cope with. Hence the general error handling defined in 10.4 does not apply in case a field is absent although it is mandatory according to the CondC or CondM condition.
For guidelines on the use of need codes and conditions, see Annex A.6 and A.7.
Table 6.1.2-1: Meaning of abbreviations used to specify the need for fields to be present
Abbreviation
Meaning
CondC conditionTag
Configuration condition
Presence of the field is conditional to other configuration settings.
CondM conditionTag
Message condition
Presence of the field is conditional to other fields included in the message.
Need S
Specified
Used for (configuration) fields, whose field description or procedure specifies the UE behavior performed upon receiving a message with the field absent (and not if field description or procedure specifies the UE behavior when field is not configured).
Need M
Maintain
Used for (configuration) fields that are stored by the UE i.e. not one-shot. Upon receiving a message with the field absent, the UE maintains the current value.
Need N
No action (one-shot configuration that is not maintained)
Used for (configuration) fields that are not stored and whose presence causes a one-time action by the UE. Upon receiving message with the field absent, the UE takes no action.
Need R
Release
Used for (configuration) fields that are stored by the UE i.e. not one-shot. Upon receiving a message with the field absent, the UE releases the current value.

6.2	RRC messages
6.2.1	General message structure
–	NR-RRC-Definitions
This ASN.1 segment is the start of the NR RRC PDU definitions.
-- ASN1START
-- TAG-NR-RRC-DEFINITIONS-START

NR-RRC-Definitions DEFINITIONS AUTOMATIC TAGS ::=

BEGIN

-- TAG-NR-RRC-DEFINITIONS-STOP
-- ASN1STOP

–	BCCH-BCH-Message
The BCCH-BCH-Message class is the set of RRC messages that may be sent from the network to the UE via BCH on the BCCH logical channel.
-- ASN1START
-- TAG-BCCH-BCH-MESSAGE-START

BCCH-BCH-Message ::=            SEQUENCE {
    message                         BCCH-BCH-MessageType
}

BCCH-BCH-MessageType ::=        CHOICE {
    mib                             MIB,
    messageClassExtension           SEQUENCE {}
}

-- TAG-BCCH-BCH-MESSAGE-STOP
-- ASN1STOP

–	BCCH-DL-SCH-Message
The BCCH-DL-SCH-Message class is the set of RRC messages that may be sent from the network to the UE via DL-SCH on the BCCH logical channel.
-- ASN1START
-- TAG-BCCH-DL-SCH-MESSAGE-START

BCCH-DL-SCH-Message ::=         SEQUENCE {
    message                         BCCH-DL-SCH-MessageType
}

BCCH-DL-SCH-MessageType ::=     CHOICE {
    c1                              CHOICE {
        systemInformation               SystemInformation,
        systemInformationBlockType1     SIB1
    },
    messageClassExtension           SEQUENCE {}
}

-- TAG-BCCH-DL-SCH-MESSAGE-STOP
-- ASN1STOP

–	DL-CCCH-Message
The DL-CCCH-Message class is the set of RRC messages that may be sent from the Network to the UE on the downlink CCCH logical channel.
-- ASN1START
-- TAG-DL-CCCH-MESSAGE-START


DL-CCCH-Message ::=             SEQUENCE {
    message                         DL-CCCH-MessageType
}

DL-CCCH-MessageType ::=         CHOICE {
    c1                              CHOICE {
        rrcReject                       RRCReject,
        rrcSetup                        RRCSetup,
        spare2                          NULL,
        spare1                          NULL
    },
    messageClassExtension           SEQUENCE {}
}

-- TAG-DL-CCCH-MESSAGE-STOP
-- ASN1STOP

–	DL-DCCH-Message
The DL-DCCH-Message class is the set of RRC messages that may be sent from the network to the UE on the downlink DCCH logical channel.
-- ASN1START
-- TAG-DL-DCCH-MESSAGE-START

DL-DCCH-Message ::=              SEQUENCE {
    message                         DL-DCCH-MessageType
}

DL-DCCH-MessageType ::=         CHOICE {
    c1                              CHOICE {
        rrcReconfiguration              RRCReconfiguration,
        rrcResume                       RRCResume,
        rrcRelease                      RRCRelease,
        rrcReestablishment              RRCReestablishment,
        securityModeCommand             SecurityModeCommand,
        dlInformationTransfer           DLInformationTransfer,
        ueCapabilityEnquiry             UECapabilityEnquiry,
        counterCheck                    CounterCheck,
        mobilityFromNRCommand           MobilityFromNRCommand,
        spare7 NULL,
        spare6 NULL, spare5 NULL, spare4 NULL,
        spare3 NULL, spare2 NULL, spare1 NULL
    },
    messageClassExtension   SEQUENCE {}
}

-- TAG-DL-DCCH-MESSAGE-STOP
-- ASN1STOP

–	PCCH-Message
The PCCH-Message class is the set of RRC messages that may be sent from the Network to the UE on the PCCH logical channel.
-- ASN1START
-- TAG-PCCH-PCH-MESSAGE-START

PCCH-Message ::=                SEQUENCE {
    message                         PCCH-MessageType
}

PCCH-MessageType ::=            CHOICE {
    c1                              CHOICE {
        paging                          Paging,
        spare1  NULL
    },
    messageClassExtension       SEQUENCE {}
}

-- TAG-PCCH-PCH-MESSAGE-STOP
-- ASN1STOP

–	UL-CCCH-Message
The UL-CCCH-Message class is the set of 48bit RRC messages that may be sent from the UE to the Network on the uplink CCCH logical channel.
-- ASN1START
-- TAG-UL-CCCH-MESSAGE-START


UL-CCCH-Message ::=             SEQUENCE {
    message                         UL-CCCH-MessageType
}

UL-CCCH-MessageType ::=         CHOICE {
    c1                              CHOICE {
        rrcSetupRequest                 RRCSetupRequest,
        rrcResumeRequest                RRCResumeRequest,
        rrcReestablishmentRequest       RRCReestablishmentRequest,
        rrcSystemInfoRequest            RRCSystemInfoRequest
    },
    messageClassExtension           SEQUENCE {}
}

-- TAG-UL-CCCH-MESSAGE-STOP
-- ASN1STOP

–	UL-CCCH1-Message
The UL-CCCH1-Message class is the set of 64bit RRC messages that may be sent from the UE to the Network on the uplink CCCH1 logical channel.
-- ASN1START
-- TAG-UL-CCCH1-MESSAGE-START


UL-CCCH1-Message ::=            SEQUENCE {
    message                         UL-CCCH1-MessageType
}

UL-CCCH1-MessageType ::=        CHOICE {
    c1                              CHOICE {
        rrcResumeRequest1               RRCResumeRequest1,
        spare3 NULL,
        spare2 NULL,
        spare1 NULL

    },
    messageClassExtension SEQUENCE {}
}

-- TAG-UL-CCCH1-MESSAGE-STOP
-- ASN1STOP

–	UL-DCCH-Message
The UL-DCCH-Message class is the set of RRC messages that may be sent from the UE to the network on the uplink DCCH logical channel.
-- ASN1START
-- TAG-UL-DCCH-MESSAGE-START

UL-DCCH-Message ::=             SEQUENCE {
    message                         UL-DCCH-MessageType
}

UL-DCCH-MessageType ::=         CHOICE {
    c1                              CHOICE {
        measurementReport               MeasurementReport,
        rrcReconfigurationComplete      RRCReconfigurationComplete,
        rrcSetupComplete                RRCSetupComplete,
        rrcReestablishmentComplete      RRCReestablishmentComplete,
        rrcResumeComplete               RRCResumeComplete,
        securityModeComplete            SecurityModeComplete,
        securityModeFailure             SecurityModeFailure,
        ulInformationTransfer           ULInformationTransfer,
        locationMeasurementIndication   LocationMeasurementIndication,
        ueCapabilityInformation         UECapabilityInformation,
        counterCheckResponse            CounterCheckResponse,
        ueAssistanceInformation         UEAssistanceInformation,
        spare4 NULL, spare3 NULL,
        spare2 NULL, spare1 NULL
    },
    messageClassExtension           SEQUENCE {}
}

-- TAG-UL-DCCH-MESSAGE-STOP
-- ASN1STOP

6.2.2	Message definitions
–	CounterCheck
The CounterCheck message is used by the network to indicate the current COUNT MSB values associated to each DRB and to request the UE to compare these to its COUNT MSB values and to report the comparison results to the network.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: Network to UE
CounterCheck message
-- ASN1START
-- TAG-COUNTERCHECK-START


CounterCheck ::=                SEQUENCE {
    rrc-TransactionIdentifier       RRC-TransactionIdentifier,
    criticalExtensions              CHOICE {
        counterCheck                    CounterCheck-IEs,
        criticalExtensionsFuture        SEQUENCE {}
    }
}

CounterCheck-IEs ::=            SEQUENCE {
    drb-CountMSB-InfoList           DRB-CountMSB-InfoList,
    lateNonCriticalExtension        OCTET STRING                        OPTIONAL,
    nonCriticalExtension            SEQUENCE {}                         OPTIONAL
}

DRB-CountMSB-InfoList ::=       SEQUENCE (SIZE (1..maxDRB)) OF DRB-CountMSB-Info

DRB-CountMSB-Info ::=           SEQUENCE {
    drb-Identity                    DRB-Identity,
    countMSB-Uplink                 INTEGER(0..33554431),
    countMSB-Downlink               INTEGER(0..33554431)
}

-- TAG-COUNTERCHECK-STOP
-- ASN1STOP

CounterCheck-IEs field descriptions
drb-CountMSB-InfoList
Indicates the MSBs of the COUNT values of the DRBs.

DRB-CountMSB-Info field descriptions
countMSB-Downlink
Indicates the value of 25 MSBs from downlink COUNT associated to this DRB.
countMSB-Uplink
Indicates the value of 25 MSBs from uplink COUNT associated to this DRB.

–	CounterCheckResponse
The CounterCheckResponse message is used by the UE to respond to a CounterCheck message.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
CounterCheckResponse message
-- ASN1START
-- TAG-COUNTERCHECKRESPONSE-START

CounterCheckResponse ::=        SEQUENCE {
    rrc-TransactionIdentifier       RRC-TransactionIdentifier,
    criticalExtensions              CHOICE {
        counterCheckResponse            CounterCheckResponse-IEs,
        criticalExtensionsFuture        SEQUENCE {}
    }
}

CounterCheckResponse-IEs ::=    SEQUENCE {
    drb-CountInfoList               DRB-CountInfoList,
    lateNonCriticalExtension        OCTET STRING                        OPTIONAL,
    nonCriticalExtension            SEQUENCE {}                         OPTIONAL

}

DRB-CountInfoList ::=           SEQUENCE (SIZE (0..maxDRB)) OF DRB-CountInfo

DRB-CountInfo ::=               SEQUENCE {
    drb-Identity                    DRB-Identity,
    count-Uplink                    INTEGER(0..4294967295),
    count-Downlink                  INTEGER(0..4294967295)
}

-- TAG-COUNTERCHECKRESPONSE-STOP
-- ASN1STOP

CounterCheckResponse-IEs field descriptions
drb-CountInfoList
Indicates the COUNT values of the DRBs.

DRB-CountInfo field descriptions
count-Downlink
Indicates the value of downlink COUNT associated to this DRB.
count-Uplink
Indicates the value of uplink COUNT associated to this DRB.

–	DLInformationTransfer
The DLInformationTransfer message is used for the downlink transfer of NAS dedicated information.
Signalling radio bearer: SRB2 or SRB1 (only if SRB2 not established yet. If SRB2 is suspended, the network does not send this message until SRB2 is resumed.)
RLC-SAP: AM
Logical channel: DCCH
Direction: Network to UE
DLInformationTransfer message
-- ASN1START
-- TAG-DLINFORMATIONTRANSFER-START

DLInformationTransfer ::=           SEQUENCE {
    rrc-TransactionIdentifier           RRC-TransactionIdentifier,
    criticalExtensions                  CHOICE {
        dlInformationTransfer           DLInformationTransfer-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

DLInformationTransfer-IEs ::=   SEQUENCE {
    dedicatedNAS-Message                DedicatedNAS-Message                OPTIONAL,   -- Need N
    lateNonCriticalExtension            OCTET STRING                        OPTIONAL,
    nonCriticalExtension                SEQUENCE {} OPTIONAL
}

-- TAG-DLINFORMATIONTRANSFER-STOP
-- ASN1STOP

–	LocationMeasurementIndication
The LocationMeasurementIndication message is used to indicate that the UE is going to either start or stop location related measurement which requires measurement gaps.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
LocationMeasurementIndication message
-- ASN1START
-- TAG-LOCATIONMEASUREMENTINDICATION-START

LocationMeasurementIndication ::=   SEQUENCE {
    criticalExtensions                      CHOICE {
        locationMeasurementIndication               LocationMeasurementIndication-IEs,
        criticalExtensionsFuture                    SEQUENCE {}
    }
}

LocationMeasurementIndication-IEs ::=       SEQUENCE {
    measurementIndication       SetupRelease { LocationMeasurementInfo},

    lateNonCriticalExtension                OCTET STRING                                                            OPTIONAL,
    nonCriticalExtension                    SEQUENCE{}                                                              OPTIONAL
}

-- TAG-LOCATIONMEASUREMENTINDICATION-STOP
-- ASN1STOP

–	MIB
The MIB includes the system information transmitted on BCH.
Signalling radio bearer: N/A
RLC-SAP: TM
Logical channel: BCCH
Direction: Network to UE
MIB
-- ASN1START
-- TAG-MIB-START

MIB ::=                             SEQUENCE {
    systemFrameNumber                   BIT STRING (SIZE (6)),
    subCarrierSpacingCommon             ENUMERATED {scs15or60, scs30or120},
    ssb-SubcarrierOffset                INTEGER (0..15),
    dmrs-TypeA-Position                 ENUMERATED {pos2, pos3},
    pdcch-ConfigSIB1                    PDCCH-ConfigSIB1,
    cellBarred                          ENUMERATED {barred, notBarred},
    intraFreqReselection                ENUMERATED {allowed, notAllowed},
    spare                               BIT STRING (SIZE (1))
}

-- TAG-MIB-STOP
-- ASN1STOP

MIB field descriptions
cellBarred
barred means the cell is barred, as defined in TS 38.304 [20]. 
dmrs-TypeA-Position
Position of (first) DM-RS for downlink (see 38.211, section 7.4.1.1.1) and uplink (see 38.211, section 6.4.1.1.3).
intraFreqReselection
Controls cell selection/reselection to intra-frequency cells when the highest ranked cell is barred, or treated as barred by the UE, as specified in TS 38.304 [20}.
pdcch-ConfigSIB1
See TS 38.213 [13].  Determines a common ControlResourceSet (CORESET) a common search space and necessary PDCCH parameters. If the field ssb-SubcarrierOffset  indicates that SIB1 is not present, the field pdcch-ConfigSIB1 indicate the frequency positions where the UE may find SS/PBCH block with SIB1 or the frequency range where the network does not provide SS/PBCH block with SIB1 (see TS 38.213 [13], section 13).
ssb-SubcarrierOffset
Corresponds to kSSB (see TS 38.213 [13]), which is the frequency domain offset between SSB and the overall resource block grid in number of subcarriers. (See 38.211).
The value range of this field may be extended by an additional most significant bit encoded within PBCH as specified in 38.213 [13].
This field may indicate that this beam does not provide SIB1 and that there is hence no common CORESET (see TS 38.213 [13], section 13). In this case, the field pdcch-ConfigSIB1 may indicate the frequency positions where the UE may (not) find a SS/PBCH with a control resource set and search space for SIB1 (see 38.213 [13], section 13).
subCarrierSpacingCommon
Subcarrier spacing for SIB1, Msg.2/4 for initial access and broadcast SI-messages. If the UE acquires this MIB on a carrier frequency <6GHz, the value scs15or60 corresponds to 15 Khz and the value scs30or120 corresponds to 30 kHz. If the UE acquires this MIB on a carrier frequency >6GHz, the value scs15or60 corresponds to 60 Khz and the value scs30or120 corresponds to 120 kHz.
systemFrameNumber
The 6 most significant bit (MSB) of the 10-bit System Frame Number. The 4 LSB of the SFN are conveyed in the PBCH transport block as part of channel coding (i.e. outside the MIB encoding).

–	MeasurementReport
The MeasurementReport message is used for the indication of measurement results.
Signalling radio bearer: SRB1, SRB3
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
MeasurementReport message
-- ASN1START
-- TAG-MEASUREMENTREPORT-START

MeasurementReport ::=               SEQUENCE {
    criticalExtensions                  CHOICE {
        measurementReport                   MeasurementReport-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

MeasurementReport-IEs ::=           SEQUENCE {
    measResults                         MeasResults,

    lateNonCriticalExtension                OCTET STRING                                                            OPTIONAL,
    nonCriticalExtension                    SEQUENCE{}                                                              OPTIONAL
}

-- TAG-MEASUREMENTREPORT-STOP
-- ASN1STOP

–	MobilityFromNRCommand
The MobilityFromNRCommand message is used to command handover from NR to E-UTRA (connected to EPC or 5GC).
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: Network to UE
MobilityFromNRCommand message
-- ASN1START
-- TAG-MOBILITYFROMNRCOMMAND-START

MobilityFromNRCommand ::=       SEQUENCE {
    rrc-TransactionIdentifier           RRC-TransactionIdentifier,
    criticalExtensions                  CHOICE {
            mobilityFromNRCommand               MobilityFromNRCommand-IEs,
            criticalExtensionsFuture                SEQUENCE {}
    }
}

MobilityFromNRCommand-IEs ::=   SEQUENCE {
    targetRAT-Type                          ENUMERATED { eutra, spare3, spare2, spare1, ...},
    targetRAT-MessageContainer              OCTET STRING,
    nas-SecurityParamFromNR                 OCTET STRING                                OPTIONAL,   -- Cond HO-ToEPC
    lateNonCriticalExtension                OCTET STRING                                OPTIONAL,
    nonCriticalExtension                    SEQUENCE {}                                 OPTIONAL
}

-- TAG-MOBILITYFROMNRCOMMAND-STOP
-- ASN1STOP

MobilityFromNRCommand-IEs field descriptions
nas-SecurityParamFromNR
This field is used to deliver the key synchronisation and Key freshness for the NR to LTE/EPC handovers as specified in TS 33.501 [11] and the content of the parameter is currently FFS
targetRAT-MessageContainer
The field contains a message specified in another standard, as indicated by the targetRAT-Type, and carries information about the target cell identifier(s) and radio parameters relevant for the target radio access technology. NOTE 1. A complete message is included, as specified in the other standard.
targetRAT-Type
Indicates the target RAT type.

NOTE 1:	The correspondence between the value of the targetRAT-Type, the standard to apply, and the message contained within the targetRAT-MessageContainer is shown in the table below:
targetRAT-Type
Standard to apply
targetRAT-MessageContainer
eutra
3GPP TS 36.331 (clause 5.4.2)
RRCConnectionReconfiguration

Conditional Presence
Explanation
HO-ToEPC
This field is mandatory present in case of inter system handover. Otherwise it is absent.

–	Paging
The Paging message is used for the notification of one or more UEs.
Signalling radio bearer: N/A
RLC-SAP: TM
Logical channel: PCCH
Direction: Network to UE
Paging message
-- ASN1START
-- TAG-PAGING-START

Paging ::=                          SEQUENCE {
    pagingRecordList                        PagingRecordList                                                        OPTIONAL, -- Need N
    lateNonCriticalExtension                OCTET STRING                                                            OPTIONAL,
    nonCriticalExtension                    SEQUENCE{}                                                              OPTIONAL
}

PagingRecordList ::=                SEQUENCE (SIZE(1..maxNrofPageRec)) OF PagingRecord

PagingRecord ::=                    SEQUENCE {
    ue-Identity                         PagingUE-Identity,
    accessType                          ENUMERATED {non3GPP}    OPTIONAL,   -- Need N
    ...
}

PagingUE-Identity ::=               CHOICE {
    ng-5G-S-TMSI                        NG-5G-S-TMSI,
    i-RNTI                              I-RNTI-Value,
    ...
}

-- TAG-PAGING-STOP
-- ASN1STOP

PagingRecord field descriptions
accessType
It indicates whether Paging is originated due to the PDU sessions from the non-3GPP access.

–	RRCReestablishment
The RRCReestablishment message is used to re-establish SRB1.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: Network to UE
RRCReestablishment message
-- ASN1START
-- TAG-RRCREESTABLISHMENT-START

RRCReestablishment ::=              SEQUENCE {
    rrc-TransactionIdentifier           RRC-TransactionIdentifier,
    criticalExtensions                  CHOICE {
        rrcReestablishment                  RRCReestablishment-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

RRCReestablishment-IEs ::=          SEQUENCE {
    nextHopChainingCount                NextHopChainingCount,
    lateNonCriticalExtension            OCTET STRING                        OPTIONAL,
    nonCriticalExtension                SEQUENCE {}                         OPTIONAL
}

-- TAG-RRCREESTABLISHMENT-STOP
-- ASN1STOP

–	RRCReestablishmentComplete
The RRCReestablishmentComplete message is used to confirm the successful completion of an RRC connection re-establishment.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
RRCReestablishmentComplete message
-- ASN1START
-- TAG-RRCREESTABLISHMENTCOMPLETE-START

RRCReestablishmentComplete ::=      SEQUENCE {
    rrc-TransactionIdentifier           RRC-TransactionIdentifier,
    criticalExtensions                  CHOICE {
        rrcReestablishmentComplete          RRCReestablishmentComplete-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

RRCReestablishmentComplete-IEs ::=  SEQUENCE {
    lateNonCriticalExtension            OCTET STRING                    OPTIONAL,
    nonCriticalExtension                SEQUENCE {}                     OPTIONAL
}

-- TAG-RRCREESTABLISHMENTCOMPLETE-STOP
-- ASN1STOP

–	RRCReestablishmentRequest
The RRCReestablishmentRequest message is used to request the reestablishment of an RRC connection.
Signalling radio bearer: SRB0
RLC-SAP: TM
Logical channel: CCCH
Direction: UE to Network
RRCReestablishmentRequest message
-- ASN1START
-- TAG-RRCREESTABLISHMENTREQUEST-START


RRCReestablishmentRequest ::=       SEQUENCE {
    rrcReestablishmentRequest           RRCReestablishmentRequest-IEs
}

RRCReestablishmentRequest-IEs ::=   SEQUENCE {
    ue-Identity                         ReestabUE-Identity,
    reestablishmentCause                ReestablishmentCause,
    spare                               BIT STRING (SIZE (1))
}

ReestabUE-Identity ::=              SEQUENCE {
    c-RNTI                              RNTI-Value,
    physCellId                          PhysCellId,
    shortMAC-I                          ShortMAC-I
}

ReestablishmentCause ::=            ENUMERATED {reconfigurationFailure, handoverFailure, otherFailure, spare1}

-- TAG-RRCREESTABLISHMENTREQUEST-STOP
-- ASN1STOP

ReestabUE-Identity field descriptions
physCellId
The Physical Cell Identity of the PCell the UE was connected to prior to the failure.

RRCReestablishmentRequest-IEs field descriptions
reestablishmentCause
Indicates the failure cause that triggered the re-establishment procedure. gNB is not expected to reject a RRCReestablishmentRequest due to unknown cause value being used by the UE.
ue-Identity
UE identity included to retrieve UE context and to facilitate contention resolution by lower layers.

–	RRCReconfiguration
The RRCReconfiguration message is the command to modify an RRC connection. It may convey information for measurement configuration, mobility control, radio resource configuration (including RBs, MAC main configuration and physical channel configuration) including and security configuration.
Signalling radio bearer: SRB1 or SRB3
RLC-SAP: AM
Logical channel: DCCH
Direction: Network to UE
RRCReconfiguration message
-- ASN1START
-- TAG-RRCRECONFIGURATION-START

RRCReconfiguration ::=              SEQUENCE {
    rrc-TransactionIdentifier           RRC-TransactionIdentifier,
    criticalExtensions                  CHOICE {
        rrcReconfiguration                  RRCReconfiguration-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

RRCReconfiguration-IEs ::=          SEQUENCE {
    radioBearerConfig                       RadioBearerConfig                                                      OPTIONAL, -- Need M
    secondaryCellGroup                      OCTET STRING (CONTAINING CellGroupConfig)                              OPTIONAL, -- Need M
    measConfig                              MeasConfig                                                             OPTIONAL, -- Need M
    lateNonCriticalExtension                OCTET STRING                                                           OPTIONAL,
    nonCriticalExtension                    RRCReconfiguration-v1530-IEs                                           OPTIONAL
}

RRCReconfiguration-v1530-IEs ::=            SEQUENCE {
    masterCellGroup                         OCTET STRING (CONTAINING CellGroupConfig)                              OPTIONAL, -- Need M
    fullConfig                              ENUMERATED {true}                                                      OPTIONAL, -- Cond FullConfig
    dedicatedNAS-MessageList                SEQUENCE (SIZE(1..maxDRB)) OF DedicatedNAS-Message                     OPTIONAL, -- Cond nonHO
    masterKeyUpdate                         MasterKeyUpdate                                                        OPTIONAL, -- Cond MasterKeyChange
    dedicatedSIB1-Delivery                  OCTET STRING (CONTAINING SIB1)                                         OPTIONAL, -- Need N
    dedicatedSystemInformationDelivery      OCTET STRING (CONTAINING SystemInformation)                            OPTIONAL, -- Need N
    otherConfig                             OtherConfig                                                           OPTIONAL,   -- Need N
    nonCriticalExtension                    SEQUENCE {}                                                           OPTIONAL
}

MasterKeyUpdate ::=                 SEQUENCE {
    keySetChangeIndicator           BOOLEAN,
    nextHopChainingCount            NextHopChainingCount,
    nas-Container                   OCTET STRING                                                    			OPTIONAL,    -- Cond securityNASC
    ...
}

-- TAG-RRCRECONFIGURATION-STOP
-- ASN1STOP

RRCReconfiguration-IEs field descriptions
dedicatedNAS-MessageList
This field is used to transfer UE specific NAS layer information between the network and the UE. The RRC layer is transparent for each PDU in the list. 
fullConfig
Indicates that the full configuration option is applicable for the RRCReconfiguration message.
keySetChangeIndicator
True is used in an intra-cell handover when a KgNB key is derived from a KAMF key taken into use through the latest successful NAS SMC procedure, or N2 handover procedure with KAMF change, as described in TS 33.501 [11] for KgNB re-keying. False is used in an intra-NR handover when the new KgNB key is obtained from the current KgNB key or from the NH as described in TS 33.501 [11].
masterCellGroup
Configuration of master cell group.
nas-Container
This field is used to transfer UE specific NAS layer information between the network and the UE. The RRC layer is transparent for this field, although it affects activation of AS- security after inter-system handover to NR. The content is defined in TS 24.501.
nextHopChainingCount
Parameter NCC: See TS 33.501 [11]
radioBearerConfig
Configuration of Radio Bearers (DRBs, SRBs) including SDAP/PDCP. In EN-DC this field may only be present if the RRCReconfiguration is transmitted over SRB3.
secondaryCellGroup
Configuration of secondary cell group (EN-DC).

Conditional Presence
Explanation
nonHO
The field is not present in case of reconfiguration with sync within NR or to NR; otherwise it is optionally present, need N.
securityNASC
This field is mandatory present in case of inter system handover. Otherwise the field is optionally present, need N.
MasterKeyChange
This field is mandatory present in case the security algorithms are modified (as indicated in SecurityAlgorithmConfig in SecurityConfig, included in the received RadioBearerConfig). Else if ReconfigurationWithSync is included, this field is optionally present, need N, otherwise the field is absent.
FullConfig
It is optionally present, Need N, during reconfiguration with sync and also in first reconfiguration after reestablishment. It is not present otherwise.

–	RRCReconfigurationComplete
The RRCReconfigurationComplete message is used to confirm the successful completion of an RRC connection reconfiguration.
Signalling radio bearer: SRB1 or SRB3
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
RRCReconfigurationComplete message
-- ASN1START
-- TAG-RRCRECONFIGURATIONCOMPLETE-START

RRCReconfigurationComplete ::=              SEQUENCE {
    rrc-TransactionIdentifier                   RRC-TransactionIdentifier,
    criticalExtensions                          CHOICE {
        rrcReconfigurationComplete                  RRCReconfigurationComplete-IEs,
        criticalExtensionsFuture                    SEQUENCE {}
    }
}

RRCReconfigurationComplete-IEs ::=          SEQUENCE {
    lateNonCriticalExtension                    OCTET STRING                                                            OPTIONAL,
    nonCriticalExtension                        RRCReconfigurationComplete-v1530-IEs                                    OPTIONAL
}

RRCReconfigurationComplete-v1530-IEs ::=    SEQUENCE {
    uplinkTxDirectCurrentList                   UplinkTxDirectCurrentList                                               OPTIONAL,
    nonCriticalExtension                        SEQUENCE {}                                                             OPTIONAL
}

-- TAG-RRCRECONFIGURATIONCOMPLETE-STOP
-- ASN1STOP

RRCReconfigurationComplete-v1530-IEs field descriptions
uplinkTxDirectCurrentList
The Tx Direct Current locations for the configured serving cells and BWPs if requested by the NW (see reportUplinkTxDirectCurrent).

–	RRCReject
The RRCReject message is used to reject an RRC connection establishment or an RRC connection resumption.
Signalling radio bearer: SRB0
RLC-SAP: TM
Logical channel: CCCH
Direction: Network to UE
RRCReject message
-- ASN1START
-- TAG-RRCREJECT-START

RRCReject ::=                       SEQUENCE {
    criticalExtensions                  CHOICE {
        rrcReject                           RRCReject-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

RRCReject-IEs ::=                   SEQUENCE {
    waitTime                            RejectWaitTime                                                          OPTIONAL,   -- Need N

    lateNonCriticalExtension            OCTET STRING                                                            OPTIONAL,
    nonCriticalExtension                SEQUENCE{}                                                              OPTIONAL
}

RejectWaitTime ::=                  INTEGER (1..16)

-- TAG-RRCREJECT-STOP
-- ASN1STOP

RRCReject-IEs field descriptions
waitTime
Wait time value in seconds. The field is included in case of resume or initial setup.

–	RRCRelease
The RRCRelease message is used to command the release of an RRC connection or the suspension of the RRC connection.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: Network to UE
RRCRelease message
-- ASN1START
-- TAG-RRCRELEASE-START

RRCRelease ::=                      SEQUENCE {
    rrc-TransactionIdentifier           RRC-TransactionIdentifier,
    criticalExtensions                  CHOICE {
        rrcRelease                          RRCRelease-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

RRCRelease-IEs ::=                  SEQUENCE {
    redirectedCarrierInfo               RedirectedCarrierInfo                                                   OPTIONAL,   -- Need N
    cellReselectionPriorities           CellReselectionPriorities                                               OPTIONAL,   -- Need R
    suspendConfig                       SuspendConfig                                                           OPTIONAL,   -- Need R
    deprioritisationReq                 SEQUENCE {
        deprioritisationType                ENUMERATED {frequency, nr},
        deprioritisationTimer               ENUMERATED {min5, min10, min15, min30}
    }                                                                                                           OPTIONAL,   -- Need N
    lateNonCriticalExtension                OCTET STRING                                                        OPTIONAL,
    nonCriticalExtension                    SEQUENCE{}                                                          OPTIONAL

}

RedirectedCarrierInfo ::=           CHOICE {
    nr                                  CarrierInfoNR,
    eutra                               RedirectedCarrierInfo-EUTRA,
    ...
}

RedirectedCarrierInfo-EUTRA ::=     SEQUENCE {
    eutraFrequency                          ARFCN-ValueEUTRA,
    cnType-r15                              ENUMERATED {epc,fiveGC}                                             OPTIONAL
}

CarrierInfoNR ::=                   SEQUENCE {
    carrierFreq                         ARFCN-ValueNR,
    ssbSubcarrierSpacing                SubcarrierSpacing,
    smtc                                SSB-MTC                                                                 OPTIONAL,      -- Need S
    ...
}

SuspendConfig ::=                   SEQUENCE {
    fullI-RNTI                          I-RNTI-Value,
    shortI-RNTI                         ShortI-RNTI-Value,
    ran-PagingCycle                     PagingCycle,
    ran-NotificationAreaInfo            RAN-NotificationAreaInfo                                                OPTIONAL,   -- Need M
    t380                                PeriodicRNAU-TimerValue                                                 OPTIONAL,   -- Need R
    nextHopChainingCount                NextHopChainingCount,
    ...
}


PeriodicRNAU-TimerValue ::=         ENUMERATED { min5, min10, min20, min30, min60, min120, min360, min720}


CellReselectionPriorities ::=       SEQUENCE {
    freqPriorityListEUTRA               FreqPriorityListEUTRA                                                   OPTIONAL,       -- Need M
    freqPriorityListNR                  FreqPriorityListNR                                                      OPTIONAL,       -- Need M
    t320                                ENUMERATED {min5, min10, min20, min30, min60, min120, min180, spare1}   OPTIONAL,       -- Need R
    ...
}

PagingCycle ::=                     ENUMERATED {rf32, rf64, rf128, rf256}

FreqPriorityListEUTRA ::=           SEQUENCE (SIZE (1..maxFreq)) OF FreqPriorityEUTRA

FreqPriorityListNR ::=              SEQUENCE (SIZE (1..maxFreq)) OF FreqPriorityNR

FreqPriorityEUTRA ::=               SEQUENCE {
    carrierFreq                         ARFCN-ValueEUTRA,
    cellReselectionPriority             CellReselectionPriority,
    cellReselectionSubPriority          CellReselectionSubPriority                                              OPTIONAL        -- Need R
}

FreqPriorityNR ::=                  SEQUENCE {
    carrierFreq                         ARFCN-ValueNR,
    cellReselectionPriority             CellReselectionPriority,
    cellReselectionSubPriority          CellReselectionSubPriority                                              OPTIONAL        -- Need R
}

RAN-NotificationAreaInfo ::=        CHOICE {
    cellList                            PLMN-RAN-AreaCellList,
    ran-AreaConfigList                  PLMN-RAN-AreaConfigList,
    ...
}

PLMN-RAN-AreaCellList ::=           SEQUENCE (SIZE (1.. maxPLMNIdentities)) OF PLMN-RAN-AreaCell

PLMN-RAN-AreaCell ::=               SEQUENCE {
    plmn-Identity                       PLMN-Identity                                                           OPTIONAL,   -- Need S
    ran-AreaCells                       SEQUENCE (SIZE (1..32)) OF  CellIdentity
}

PLMN-RAN-AreaConfigList ::=         SEQUENCE (SIZE (1..maxPLMNIdentities)) OF PLMN-RAN-AreaConfig

PLMN-RAN-AreaConfig ::=             SEQUENCE {
    plmn-Identity                       PLMN-Identity                                                           OPTIONAL,   -- Need S
    ran-Area                            SEQUENCE (SIZE (1..16)) OF  RAN-AreaConfig
}

RAN-AreaConfig ::=                  SEQUENCE {
    trackingAreaCode            TrackingAreaCode,
    ran-AreaCodeList            SEQUENCE (SIZE (1..32)) OF  RAN-AreaCode        OPTIONAL    -- Need R
}

-- TAG-RRCRELEASE-STOP
-- ASN1STOP

Editor's Note: FFS Whether RejectWaitTimer is needed in RRCRelease message.
RRCRelease field descriptions
cnType
Indicate that the UE is redirected to EPC or 5GC.
deprioritisationReq
Indicates whether the current frequency or RAT is to be de-prioritised. The UE shall be able to store a deprioritisation request for up to X frequencies (applicable when receiving another frequency specific deprioritisation request before T325 expiry).
deprioritisationTimer
Indicates the period for which either the current carrier frequency or NR is deprioritised. Value minN corresponds to N minutes.
suspendConfig
Indicates configuration for the RRC_INACTIVE state.
t380
Refers to the timer that triggers the periodic RNAU procedure in UE. Value min5 corresponds to 5 minutes, value min10 corresponds to 10 minutes and so on.
ran-PagingCycle
Refers to the UE specific cycle for RAN-initiated paging. Value rf32 corresponds to 32 radio frames, rf64 corresponds to 64 radio frames and so on.
redirectedCarrierInfo
Indicates a carrier frequency (downlink for FDD) and is used to redirect the UE to an NR or an inter-RAT carrier frequency, by means of the cell selection upon leaving RRC_CONNECTED as specified in TS 38.304 [20]

CarrierInfoNR field descriptions
carrierFreq
Indicates the redirected NR frequency.
ssbSubcarrierSpacing
Subcarrier spacing of SSB in the redirected SSB frequency. Only the values 15 or 30 (<6GHz), 120 kHz or 240 kHz (>6GHz) are applicable.
smtc
The SSB periodicity/offset/duration configuration for the redirected SSB frequency. It is based on timing reference of PCell. If the field is absent, the UE uses the SMTC configured in the measObjectNR having the same SSB frequency and subcarrier spacing.

RAN-NotificationAreaInfo field descriptions
cellList
A list of cells configured as RAN area.
ran-AreaConfigList
A list of RAN area codes or RA code(s) as RAN area.

PLMN-RAN-AreaConfig field descriptions
plmn-Identity
PLMN Identity to which the cells in ran-AreaCells belong. If the field is absent the UE uses the ID of the registered PLMN.
ran-AreaCodeList
The sum of RAN-AreaCodes all PLMNs does not exceed 32
ran-Area
Indicates whether TA code(s) or RAN area code(s) are used for the RAN notification area. The network uses only TA code(s) or RAN area code(s) to configure a UE.

PLMN-RAN-AreaCell field descriptions
plmn-Identity
PLMN Identity to which the cells in ran-AreaCells belong. If the field is absent the UE uses the ID of the registered PLMN.
ran-AreaCells
The sum of cells from all PLMNs does not exceed 32

Editor's Note: FFS Confirm the number X of deprioritisation frequencies the UE shall be able to store.
–	RRCResume
The RRCResume message is used to resume the suspended RRC connection.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: Network to UE
RRCResume message
-- ASN1START
-- TAG-RRCRESUME-START

RRCResume ::=                       SEQUENCE {
    rrc-TransactionIdentifier           RRC-TransactionIdentifier,
    criticalExtensions                  CHOICE {
        rrcResume                           RRCResume-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

RRCResume-IEs ::=                   SEQUENCE {
    radioBearerConfig                   RadioBearerConfig                                                       OPTIONAL, -- Need M
    masterCellGroup                     OCTET STRING (CONTAINING CellGroupConfig)                               OPTIONAL, -- Need M
    measConfig                          MeasConfig                                                              OPTIONAL, -- Need M
    fullConfig                          ENUMERATED {true}                                                       OPTIONAL, -- Need N

    lateNonCriticalExtension            OCTET STRING                                                            OPTIONAL,
    nonCriticalExtension                SEQUENCE{}                                                              OPTIONAL

}

-- TAG-RRCRESUME-STOP
-- ASN1STOP

RRCResume-IEs field descriptions
masterCellGroup
Configuration of the master cell group (NR Standalone):
radioBearerConfig
Configuration of Radio Bearers (DRBs, SRBs) including SDAP/PDCP.

Editor's Note: FFS Whether secondary group can be resumed.

–	RRCResumeComplete
The RRCResumeComplete message is used to confirm the successful completion of an RRC connection resumption.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
RRCResumeComplete message
-- ASN1START
-- TAG-RRCRESUMECOMPLETE-START

RRCResumeComplete ::=                   SEQUENCE {
    rrc-TransactionIdentifier               RRC-TransactionIdentifier,
    criticalExtensions                      CHOICE {
        rrcResumeComplete                       RRCResumeComplete-IEs,
        criticalExtensionsFuture                SEQUENCE {}
    }
}

RRCResumeComplete-IEs ::=               SEQUENCE {
    dedicatedNAS-Message                    DedicatedNAS-Message                        OPTIONAL,
    selectedPLMN-Identity                   INTEGER (1..maxPLMN)                    OPTIONAL,
    uplinkTxDirectCurrentList               UplinkTxDirectCurrentList                                               OPTIONAL,
    lateNonCriticalExtension                OCTET STRING                                                            OPTIONAL,
    nonCriticalExtension                    SEQUENCE{}                                                              OPTIONAL
}

-- TAG-RRCRESUMECOMPLETE-STOP
-- ASN1STOP

RRCResumeComplete-IEs field descriptions
uplinkTxDirectCurrentList
The Tx Direct Current locations for the configured serving cells and BWPs if requested by the NW (see reportUplinkTxDirectCurrent).

–	RRCResumeRequest
The RRCResumeRequest is the 48bit message used to request the resumption of a suspended RRC connection or perform an RNA update.
Signalling radio bearer: SRB0
RLC-SAP: TM
Logical channel: CCCH
Direction: UE to Network
RRCResumeRequest message
-- ASN1START
-- TAG-RRCRESUMEREQUEST-START

RRCResumeRequest ::=            SEQUENCE {
        rrcResumeRequest            RRCResumeRequest-IEs
}

RRCResumeRequest-IEs ::=        SEQUENCE {
    resumeIdentity                  ShortI-RNTI-Value,
    resumeMAC-I                     BIT STRING (SIZE (16)),
    resumeCause                     ResumeCause,
    spare                           BIT STRING (SIZE (1))
}

-- TAG-RRCRESUMEREQUEST-STOP
-- ASN1STOP

RRCResumeRequest field descriptions
resumeCause
Provides the resume cause for the RRC connection resume request as provided by the upper layers or RRC. The network is not expected to reject a RRCResumeRequest due to unknown cause value being used by the UE.
resumeIdentity
UE identity to facilitate UE context retrieval at gNB.
resumeMAC-I
Authentication token to facilitate UE authentication at gNB. The 16 least significant bits of the MAC-I calculated using the security configuration as specified in 5.3.13.3.

–	RRCResumeRequest1
The RRCResumeRequest1 is the 64 bit message used to request the resumption of a suspended RRC connection or perform an RNA update.
Signalling radio bearer: SRB0
RLC-SAP: TM
Logical channel: CCCH1
Direction: UE to Network
RRCResumeRequest1 message
-- ASN1START
-- TAG-RRCRESUMEREQUEST1-START

RRCResumeRequest1 ::= SEQUENCE {
       rrcResumeRequest1      RRCResumeRequest1-IEs
}

RRCResumeRequest1-IEs ::=    SEQUENCE {
    resumeIdentity               I-RNTI-Value,
    resumeMAC-I                  BIT STRING (SIZE (16)),
    resumeCause                  ResumeCause,
    spare                        BIT STRING (SIZE (1))
}

-- TAG-RRCRESUMEREQUEST1-STOP
-- ASN1STOP

RRCResumeRequest1-IEs field descriptions
resumeCause
Provides the resume cause for the RRC connection resume request as provided by the upper layers or RRC.  gNB is not expected to reject a RRCResumeRequest due to unknown cause value being used by the UE.
resumeIdentity
UE identity to facilitate UE context retrieval at gNB.
resumeMAC-I
Authentication token to facilitate UE authentication at gNB. The 16 least significant bits of the MAC-I calculated using the security configuration as specified in 5.3.13.3.

–	RRCSetup
The RRCSetup message is used to establish SRB1.
Signalling radio bearer: SRB0
RLC-SAP: TM
Logical channel: CCCH
Direction: Network to UE
RRCSetup message
-- ASN1START
-- TAG-RRCSETUP-START

RRCSetup ::=                        SEQUENCE {
    rrc-TransactionIdentifier           RRC-TransactionIdentifier,
    criticalExtensions                  CHOICE {
        rrcSetup                            RRCSetup-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

RRCSetup-IEs ::=                    SEQUENCE {
    radioBearerConfig                   RadioBearerConfig,
    masterCellGroup                     OCTET STRING (CONTAINING CellGroupConfig),

    lateNonCriticalExtension            OCTET STRING                                                            OPTIONAL,
    nonCriticalExtension                SEQUENCE{}                                                              OPTIONAL
}

-- TAG-RRCSETUP-STOP
-- ASN1STOP

RRCSetup-IEs field descriptions
masterCellGroup
The network configures only the RLC bearer for the SRB1, mac-CellGroupConfig, physicalCellGroupConfig and spCellConfig.
radioBearerConfig
Only SRB1 can be configured in RRC setup.

–	RRCSetupComplete
The RRCSetupComplete message is used to confirm the successful completion of an RRC connection establishment.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
RRCSetupComplete message
-- ASN1START
-- TAG-RRCSETUPCOMPLETE-START

RRCSetupComplete ::=                SEQUENCE {
    rrc-TransactionIdentifier           RRC-TransactionIdentifier,
    criticalExtensions                  CHOICE {
        rrcSetupComplete                    RRCSetupComplete-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

RRCSetupComplete-IEs ::=            SEQUENCE {
    selectedPLMN-Identity               INTEGER (1..maxPLMN),
    registeredAMF                       RegisteredAMF                                   OPTIONAL,
    guami-Type                          ENUMERATED {native, mapped}                     OPTIONAL,
    s-nssai-List                        SEQUENCE (SIZE (1..maxNrofS-NSSAI)) OF S-NSSAI  OPTIONAL,
    dedicatedNAS-Message                DedicatedNAS-Message,
    ng-5G-S-TMSI-Value                  CHOICE {
        ng-5G-S-TMSI                        NG-5G-S-TMSI,
        ng-5G-S-TMSI-Part2                  BIT STRING (SIZE (9))
    }                                                                                   OPTIONAL,
    lateNonCriticalExtension            OCTET STRING                                    OPTIONAL,
    nonCriticalExtension                SEQUENCE{}                                      OPTIONAL
}

RegisteredAMF ::=                   SEQUENCE {
    plmn-Identity                       PLMN-Identity                                   OPTIONAL,
    amf-Identifier                      AMF-Identifier
}

-- TAG-RRCSETUPCOMPLETE-STOP
-- ASN1STOP

RRCSetupComplete-IEs field descriptions
ng-5G-S-TMSI-Part2
The leftmost 9 bits of 5G-S-TMSI.
registeredAMF
This field is used to transfer the AMF where the UE is registered, as provided by upper layers.

Editor's Note: FFS Field description of 5GC identifiers and other information.

–	RRCSetupRequest
The RRCSetupRequest message is used to request the establishment of an RRC connection.
Signalling radio bearer: SRB0
RLC-SAP: TM
Logical channel: CCCH
Direction: UE to Network
RRCSetupRequest message
-- ASN1START
-- TAG-RRCSETUPREQUEST-START

RRCSetupRequest ::=                 SEQUENCE {
    rrcSetupRequest                     RRCSetupRequest-IEs
}

RRCSetupRequest-IEs ::=             SEQUENCE {
    ue-Identity                         InitialUE-Identity,
    establishmentCause                  EstablishmentCause,
    spare                               BIT STRING (SIZE (1))
}

InitialUE-Identity ::=              CHOICE {
    ng-5G-S-TMSI-Part1                  BIT STRING (SIZE (39)),
    randomValue                         BIT STRING (SIZE (39))
}

EstablishmentCause ::=              ENUMERATED {
                                        emergency, highPriorityAccess, mt-Access, mo-Signalling,
                                        mo-Data, mo-VoiceCall, mo-VideoCall, mo-SMS, mps-PriorityAccess, mcs-PriorityAccess,
                                        spare6, spare5, spare4, spare3, spare2, spare1}

-- TAG-RRCSETUPREQUEST-STOP
-- ASN1STOP

RRCSetupRequest-IEs field descriptions
establishmentCause
Provides the establishment cause for the RRC request in accordance with the information received from upper layers. gNB is not expected to reject a RRCSetupRequest due to unknown cause value being used by the UE.
ue-Identity
UE identity included to facilitate contention resolution by lower layers.

InitialUE-Identity field descriptions
ng-5G-S-TMSI-Part1
The rightmost 39 bits of 5G-S-TMSI.
randomValue
Integer value in the range 0 to 239 - 1.

–	RRCSystemInfoRequest
The RRCSystemInfoRequest message is used to request SI message(s) required by the UE, for which si-BroadcastStatus in si-SchedulingInfo in SIB1 is set to notBroadcasting, when no si-RequestConfig is included in the si-SchedulingInfo.
Signalling radio bearer: SRB0
RLC-SAP: TM
Logical channel: CCCH
Direction: UE to NR
RRCSystemInfoRequest message
-- ASN1START
-- TAG-RRCSYETEMINFOREQUEST-START

RRCSystemInfoRequest ::=            SEQUENCE {
    criticalExtensions                  CHOICE {
        rrcSystemInfoRequest-r15            RRCSystemInfoRequest-r15-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

RRCSystemInfoRequest-r15-IEs ::=    SEQUENCE {
    requested-SI-List                   BIT STRING (SIZE (maxSI-Message)),  --32bits
    spare                               BIT STRING (SIZE (12))
}

-- TAG-RRCSYETEMINFOREQUEST-STOP
-- ASN1STOP

RRCSystemInfoRequest-r15-IEs field descriptions
requested-SI-List
Contains a list of requested SI messages. According to the order of entry in the list of SI messages configured by schedulingInfoList in si-SchedulingInfo in SIB1, first bit corresponds to first/left most listed SI message, second to second listed SI message, and so on

–	SecurityModeCommand
The SecurityModeCommand message is used to command the activation of AS security.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: Network to UE
SecurityModeCommand message
-- ASN1START
-- TAG-SECURITYMODECOMMAND-START

SecurityModeCommand ::=             SEQUENCE {
    rrc-TransactionIdentifier           RRC-TransactionIdentifier,
    criticalExtensions                  CHOICE {
        securityModeCommand                 SecurityModeCommand-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

SecurityModeCommand-IEs ::=         SEQUENCE {
    securityConfigSMC                   SecurityConfigSMC,

    lateNonCriticalExtension            OCTET STRING                                                            OPTIONAL,
    nonCriticalExtension                SEQUENCE{}                                                              OPTIONAL
}

SecurityConfigSMC ::=               SEQUENCE {
    securityAlgorithmConfig             SecurityAlgorithmConfig,
    ...
}

-- TAG-SECURITYMODECOMMAND-STOP
-- ASN1STOP

–	SecurityModeComplete
The SecurityModeComplete message is used to confirm the successful completion of a security mode command.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
SecurityModeComplete message
-- ASN1START
-- TAG-SECURITYMODECOMPLETE-START

SecurityModeComplete ::=            SEQUENCE {
    rrc-TransactionIdentifier           RRC-TransactionIdentifier,
    criticalExtensions                  CHOICE {
        securityModeComplete                SecurityModeComplete-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

SecurityModeComplete-IEs ::=        SEQUENCE {
    lateNonCriticalExtension            OCTET STRING                                                            OPTIONAL,
    nonCriticalExtension                SEQUENCE{}                                                              OPTIONAL
}

-- TAG-SECURITYMODECOMPLETE-STOP
-- ASN1STOP

–	SecurityModeFailure
The SecurityModeFailure message is used to indicate an unsuccessful completion of a security mode command.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
SecurityModeFailure message
-- ASN1START
-- TAG-SECURITYMODEFAILURE-START

SecurityModeFailure ::=             SEQUENCE {
    rrc-TransactionIdentifier           RRC-TransactionIdentifier,
    criticalExtensions                  CHOICE {
        securityModeFailure                 SecurityModeFailure-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

SecurityModeFailure-IEs ::=         SEQUENCE {
    lateNonCriticalExtension            OCTET STRING                                                            OPTIONAL,
    nonCriticalExtension                SEQUENCE{}                                                              OPTIONAL
}

-- TAG-SECURITYMODEFAILURE-STOP
-- ASN1STOP

–	SIB1
SIB1 contains information relevant when evaluating if a UE is allowed to access a cell and defines the scheduling of other system information. It also contains radio resource configuration information that is common for all UEs and barring information applied to the unified access control.
Signalling radio bearer: N/A
RLC-SAP: TM
Logical channels: BCCH
Direction: Network to UE
SIB1 message
-- ASN1START
-- TAG-SIB1-START

SIB1 ::=        SEQUENCE {
    cellSelectionInfo                   SEQUENCE {
        q-RxLevMin                          Q-RxLevMin,
        q-RxLevMinOffset                    INTEGER (1..8)                                                      OPTIONAL,   -- Need R
        q-RxLevMinSUL                       Q-RxLevMin                                                          OPTIONAL,   -- Need R
        q-QualMin                           Q-QualMin                                                           OPTIONAL,   -- Need R
        q-QualMinOffset                     INTEGER (1..8)                                                      OPTIONAL    -- Need R
    }                                                                                                           OPTIONAL,   -- Need S
    cellAccessRelatedInfo               CellAccessRelatedInfo,
    connEstFailureControl               ConnEstFailureControl                                                   OPTIONAL,   -- Need R
    si-SchedulingInfo                   SI-SchedulingInfo                                                       OPTIONAL,   -- Need R
    servingCellConfigCommon             ServingCellConfigCommonSIB                                              OPTIONAL,   -- Need R
    ims-EmergencySupport                ENUMERATED {true}                                                       OPTIONAL,   -- Need R
    eCallOverIMS-Support                ENUMERATED {true}                                                       OPTIONAL,   -- Cond Absent
    ue-TimersAndConstants               UE-TimersAndConstants                                                   OPTIONAL,   -- Need R

    uac-BarringInfo                     SEQUENCE {
        uac-BarringForCommon                UAC-BarringPerCatList                                               OPTIONAL,   -- Need S
        uac-BarringPerPLMN-List             UAC-BarringPerPLMN-List                                             OPTIONAL,   -- Need S
        uac-BarringInfoSetList              UAC-BarringInfoSetList,
        uac-AccessCategory1-SelectionAssistanceInfo CHOICE {
            plmnCommon                           UAC-AccessCategory1-SelectionAssistanceInfo,
            individualPLMNList                   SEQUENCE (SIZE (2..maxPLMN)) OF UAC-AccessCategory1-SelectionAssistanceInfo
        }                                                                                                       OPTIONAL
    }                                                                                                           OPTIONAL,   -- Need R

    useFullResumeID                     ENUMERATED {true}                                                       OPTIONAL,   -- Need N

    lateNonCriticalExtension            OCTET STRING                                                            OPTIONAL,
    nonCriticalExtension                SEQUENCE{}                                                              OPTIONAL
}

UAC-AccessCategory1-SelectionAssistanceInfo ::=	ENUMERATED {a, b, c}

-- TAG-SIB1-STOP
-- ASN1STOP

SIB1 field descriptions
q-QualMin
Parameter "Qqualmin" in TS 38.304 [20], applicable for serving cell. If the field is not present, the UE applies the (default) value of negative infinity for Qqualmin.  
q-QualMinOffset
Parameter "Qqualminoffset" in TS 38.304 [20]. Actual value Qqualminoffset = field value [dB]. If cellSelectionInfo is not present or the field is not present, the UE applies the (default) value of 0 dB for Qqualminoffset. Affects the minimum required quality level in the cell.
q-RxLevMin
Parameter "Qrxlevmin" in TS 38.304 [20], applicable for serving cell.
q-RxLevMinOffset
Parameter "Qrxlevminoffset" in TS 38.304 [20]. Actual value Qrxlevminoffset = field value * 2 [dB]. If absent, the UE applies the (default) value of 0 dB for Qrxlevminoffset. Affects the minimum required Rx level in the cell.
q-RxLevMinSUL
Parameter "QrxlevminSUL" in TS 38.304 [4], applicable for serving cell
uac-BarringForCommon
Common access control parameters for each access category. Common values are used for all PLMNs, unless overwritten by the PLMN specific configuration provided in uac-BarringPerPLMN-List. The parameters are specified by providing an index to the set of configurations (uac-BarringInfoSetList). UE behaviour upon absence of this field is specified in section 5.3.14.2.
useFullResumeID
Indicates which resume identifier and Resume request message should be used. UE uses full I-RNTI and RRCResumeRequest1 if the field is present, or short I-RNTI and RRCResumeRequest if the field is absent.
uac-AccessCategory1-SelectionAssistanceInfo
Information used to determine whether Access Category 1 applies to the UE, as defined in [25]. A UE compliant with this version of the specification shall ignore this field.

Conditional Presence
Explanation
Absent
The field is not used in this version of the specification, if received the UE shall ignore.

–	SystemInformation
The SystemInformation message is used to convey one or more System Information Blocks. All the SIBs included are transmitted with the same periodicity.
Signalling radio bearer: N/A
RLC-SAP: TM
Logical channels: BCCH
Direction: Network to UE
SystemInformation message
-- ASN1START

SystemInformation ::=               SEQUENCE {
    criticalExtensions                  CHOICE {
        systemInformation-r15               SystemInformation-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

SystemInformation-IEs ::=           SEQUENCE {
    sib-TypeAndInfo                     SEQUENCE (SIZE (1..maxSIB)) OF CHOICE {
        sib2                                SIB2,
        sib3                                SIB3,
        sib4                                SIB4,
        sib5                                SIB5,
        sib6                                SIB6,
        sib7                                SIB7,
        sib8                                SIB8,
        sib9                                SIB9,
        ...
    },

    lateNonCriticalExtension            OCTET STRING                        OPTIONAL,
    nonCriticalExtension                SEQUENCE {}                         OPTIONAL
}

-- ASN1STOP

–	UEAssistanceInformation
The UEAssistanceInformation message is used for the indication of UE assistance information to the network.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
UEAssistance Information message
-- ASN1START
-- TAG-UEASSISTANCEINFORMATION-START

UEAssistanceInformation ::=         SEQUENCE {
    criticalExtensions                  CHOICE {
        ueAssistanceInformation             UEAssistanceInformation-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

UEAssistanceInformation-IEs ::=     SEQUENCE {
    delayBudgetReport                   DelayBudgetReport       OPTIONAL,
    lateNonCriticalExtension            OCTET STRING            OPTIONAL,
    nonCriticalExtension                SEQUENCE {}             OPTIONAL
}


DelayBudgetReport::=                CHOICE {
    type1                               ENUMERATED {
                                            msMinus1280, msMinus640, msMinus320, msMinus160,msMinus80, msMinus60, msMinus40,
                                            msMinus20, ms0, ms20,ms40, ms60, ms80, ms160, ms320, ms640, ms1280},
    ...
}

-- TAG-UEASSISTANCEINFORMATION-STOP
-- ASN1STOP

UEAssistanceInformation field descriptions
delayBudgetReport
Indicates the UE-preferred adjustment to connected mode DRX or coverage enhancement configuration.
type1
Indicates the preferred amount of increment/decrement to the connected mode DRX cycle length with respect to the current configuration. Value in number of milliseconds. Value ms40 corresponds to 40 milliseconds, msMinus40 corresponds to -40 milliseconds and so on.

–	UECapabilityEnquiry
The UECapabilityEnquiry message is used to request UE radio access capabilities for NR as well as for other RATs.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: Network to UE
UECapabilityEnquiry information element
-- ASN1START
-- TAG-UECAPABILITYENQUIRY-START

UECapabilityEnquiry ::=         SEQUENCE {
    rrc-TransactionIdentifier           RRC-TransactionIdentifier,
    criticalExtensions                  CHOICE {
        ueCapabilityEnquiry                 UECapabilityEnquiry-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

UECapabilityEnquiry-IEs ::=     SEQUENCE {
    ue-CapabilityRAT-RequestList        UE-CapabilityRAT-RequestList,

    lateNonCriticalExtension            OCTET STRING                                                            OPTIONAL,
    nonCriticalExtension                SEQUENCE{}                                                              OPTIONAL
}

-- TAG-UECAPABILITYENQUIRY-STOP
-- ASN1STOP

–	UECapabilityInformation
The IE UECapabilityInformation message is used to transfer UE radio access capabilities requested by the network.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
UECapabilityInformation information element
-- ASN1START
-- TAG-UECAPABILITYINFORMATION-START

UECapabilityInformation ::=         SEQUENCE {
    rrc-TransactionIdentifier               RRC-TransactionIdentifier,
    criticalExtensions                      CHOICE {
        ueCapabilityInformation             UECapabilityInformation-IEs,
        criticalExtensionsFuture                SEQUENCE {}
    }
}

UECapabilityInformation-IEs ::=     SEQUENCE {
    ue-CapabilityRAT-ContainerList          UE-CapabilityRAT-ContainerList                                          OPTIONAL,

    lateNonCriticalExtension                OCTET STRING                                                            OPTIONAL,
    nonCriticalExtension                    SEQUENCE{}                                                              OPTIONAL
}

-- TAG-UECAPABILITYINFORMATION-STOP
-- ASN1STOP

–	ULInformationTransfer
The ULInformationTransfer message is used for the uplink transfer of NAS or non-3GPP dedicated information.
Signalling radio bearer: SRB2 or SRB1 (only if SRB2 not established yet). If SRB2 is suspended, the UE does not send this message until SRB2 is resumed
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to network
ULInformationTransfer message
-- ASN1START
-- TAG-ULINFORMATIONTRANSFER-START

ULInformationTransfer ::=           SEQUENCE {
    criticalExtensions                  CHOICE {
        ulInformationTransfer           ULInformationTransfer-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

ULInformationTransfer-IEs ::=   SEQUENCE {
    dedicatedNAS-Message                DedicatedNAS-Message                OPTIONAL,
    lateNonCriticalExtension            OCTET STRING                        OPTIONAL,
    nonCriticalExtension                SEQUENCE {}                         OPTIONAL
}

-- TAG-ULINFORMATIONTRANSFER-STOP
-- ASN1STOP

6.3	RRC information elements
6.3.0	Parameterized types
–	SetupRelease
SetupRelease allows the ElementTypeParam to be used as the referenced data type for the setup and release entries. See A.3.8 for guidelines.
-- ASN1START
-- TAG-SETUP-RELEASE-START

SetupRelease { ElementTypeParam } ::= CHOICE {
    release         NULL,
    setup           ElementTypeParam
}

-- TAG-SETUP-RELEASE-STOP
-- ASN1STOP

6.3.1	System information blocks
–	SIB2
SIB2 contains cell re-selection information common for intra-frequency, inter-frequency and/ or inter-RAT cell re-selection (i.e. applicable for more than one type of cell re-selection but not necessarily all) as well as intra-frequency cell re-selection information other than neighbouring cell related.
SIB2 information element
-- ASN1START
-- TAG-SIB2-START

SIB2 ::=        SEQUENCE {
    cellReselectionInfoCommon           SEQUENCE {
        nrofSS-BlocksToAverage                  INTEGER (2..maxNrofSS-BlocksToAverage)      OPTIONAL,       -- Need R
        absThreshSS-BlocksConsolidation         ThresholdNR                                 OPTIONAL,   -- Need R
        rangeToBestCell                     RangeToBestCell                                 OPTIONAL,   -- Need R
        q-Hyst                              ENUMERATED {
                                                dB0, dB1, dB2, dB3, dB4, dB5, dB6, dB8, dB10,
                                                dB12, dB14, dB16, dB18, dB20, dB22, dB24},
        speedStateReselectionPars           SEQUENCE {
            mobilityStateParameters             MobilityStateParameters,
            q-HystSF                        SEQUENCE {
                sf-Medium                       ENUMERATED {
                                                        dB-6, dB-4, dB-2, dB0},
                sf-High                         ENUMERATED {
                                                        dB-6, dB-4, dB-2, dB0}
            }
        }                                                                                   OPTIONAL,       -- Need R
    ...
    },
    cellReselectionServingFreqInfo      SEQUENCE {
        s-NonIntraSearchP                       ReselectionThreshold        OPTIONAL,       -- Need R
        s-NonIntraSearchQ                       ReselectionThresholdQ       OPTIONAL,       -- Need R
        threshServingLowP                       ReselectionThreshold,
        threshServingLowQ                       ReselectionThresholdQ       OPTIONAL,       -- Need R
        cellReselectionPriority                 CellReselectionPriority,
        cellReselectionSubPriority              CellReselectionSubPriority  OPTIONAL,       -- Need R
        ...
    },
    intraFreqCellReselectionInfo        SEQUENCE {
        q-RxLevMin                          Q-RxLevMin,
        q-RxLevMinSUL                       Q-RxLevMin                  OPTIONAL,       -- Need R
        q-QualMin                           Q-QualMin                   OPTIONAL,       -- Need S
        s-IntraSearchP                      ReselectionThreshold,               -- Need S
        s-IntraSearchQ                      ReselectionThresholdQ       OPTIONAL,   -- Cond RSRQ
        t-ReselectionNR                     T-Reselection,
        frequencyBandList                   MultiFrequencyBandListNR-SIB            OPTIONAL,   -- Need R
        frequencyBandListSUL                MultiFrequencyBandListNR-SIB            OPTIONAL,   -- Need R
        p-Max                               P-Max                       OPTIONAL,       -- Need R
        smtc                                SSB-MTC                     OPTIONAL,       -- Need R
        ss-RSSI-Measurement             SS-RSSI-Measurement             OPTIONAL,       -- Need R
        ssb-ToMeasure                       SSB-ToMeasure               OPTIONAL,       -- Need R
        deriveSSB-IndexFromCell         BOOLEAN,
        ...
    },
    ...
}

RangeToBestCell	::= Q-OffsetRange

-- TAG-SIB2-STOP
-- ASN1STOP

SIB2 field descriptions
absThreshSS-BlocksConsolidation
Threshold for consolidation of L1 measurements per RS index.
cellReselectionInfoCommon
Cell re-selection information common for intra-frequency, inter-frequency and/ or inter-RAT cell re-selection.
cellReselectionServingFreqInfo
Information common for non-intra-frequency cell re-selection i.e. cell re-selection to inter-frequency and inter-RAT cells.
intraFreqcellReselectionInfo
Cell re-selection information common for intra-frequency cells.
deriveSSB-IndexFromCell
This field indicates whether the UE can utilize serving cell timing to derive the index of SS block transmitted by neighbour cell. If this field is set to TRUE, the UE assumes SFN and frame boundary alignment across cells on the serving frequency as specified in 38.133 [14].
nrofSS-BlocksToAverage
Number of SS blocks to average for cell measurement derivation.
rangeToBestCell
Parameter "rangeToBestCell" in TS 38.304 [4].
p-Max
Value applicable for the intra-frequency neighbouring NR cells. If absent the UE applies the maximum power according to TS 38.101 [15]. 
q-Hyst
Parameter "Qhyst" in TS 38.304 [4], Value in dB. Value dB1 corresponds to 1 dB, dB2 corresponds to 2 dB and so on.
q-QualMin
Parameter "Qqualmin" in TS 38.304 [4], applicable for intra-frequency neighbour cells. If the field is not present, the UE applies the (default) value of negative infinity for Qqualmin.  
q-RxLevMin
Parameter "Qrxlevmin" in TS 38.304 [4], applicable for intra-frequency neighbour cells.
q-RxLevMinSUL
Parameter "QrxlevminSUL" in TS 38.304 [4], applicable for intra-frequency neighbour cells.
s-IntraSearchP
Parameter "SIntraSearchP" in TS 38.304 [4]. If this field is not present, the UE applies the (default) value of infinity for SIntraSearchP.
s-IntraSearchQ
Parameter "SIntraSearchQ2 in TS 38.304 [4]. If the field is not present, the UE applies the (default) value of 0 dB for SIntraSearchQ.
s-NonIntraSearchP
Parameter "SnonIntraSearchP" in TS 38.304 [4]. If this field is not present, the UE applies the (default) value of infinity for SnonIntraSearchP.
s-NonIntraSearchQ
Parameter "SnonIntraSearchQ" in TS 38.304 [4]. If the field is not present, the UE applies the (default) value of 0 dB for SnonIntraSearchQ.
threshServingLowP
Parameter "ThreshServing, LowP" in TS 38.304 [4].
ssb-ToMeasure
The set of SS blocks to be measured within the SMTC measurement duration (see 38.215). When the field is absent the UE measures on all SS-blocks.
smtc
Measurement timing configuration for intra-frequency measurement. If this field is absent, the UE assumes that SSB periodicity is 5 ms for the intra-frequnecy cells.
threshServingLowQ
Parameter "ThreshServing, LowQ" in TS 38.304 [4].
t-ReselectionNR
Parameter "TreselectionNR" in TS 38.304 [4].

Conditional Presence
Explanation
RSRQ
The field is optionally present, Need R, if threshServingLowQ is present in SIB2; otherwise it is not present.

–	SIB3
SIB3 contains neighbouring cell related information relevant only for intra-frequency cell re-selection. The IE includes cells with specific re-selection parameters as well as blacklisted cells.
SIB3 information element
-- ASN1START
-- TAG-SIB3-START

SIB3 ::=                            SEQUENCE {
    intraFreqNeighCellList              IntraFreqNeighCellList      OPTIONAL,   -- Need R
    intraFreqBlackCellList              IntraFreqBlackCellList      OPTIONAL,   -- Need R
    lateNonCriticalExtension            OCTET STRING                OPTIONAL,
    ...
}

IntraFreqNeighCellList ::=          SEQUENCE (SIZE (1..maxCellIntra)) OF IntraFreqNeighCellInfo

IntraFreqNeighCellInfo ::=          SEQUENCE {
    physCellId                          PhysCellId,
    q-OffsetCell                        Q-OffsetRange,
    q-RxLevMinOffsetCell                INTEGER (1..8)              OPTIONAL,   -- Need R
    q-RxLevMinOffsetCellSUL             INTEGER (1..8)              OPTIONAL,   -- Need R
    q-QualMinOffsetCell                 INTEGER (1..8)              OPTIONAL,   -- Need R
    ...
}

IntraFreqBlackCellList ::=      SEQUENCE (SIZE (1..maxCellBlack)) OF PCI-Range

-- TAG-SIB3-STOP
-- ASN1STOP

SIB3 field descriptions
intraFreqBlackCellList
List of blacklisted intra-frequency neighbouring cells.
intraFreqNeighCellList
List of intra-frequency neighbouring cells with specific cell re-selection parameters.
q-OffsetCell
Parameter "Qoffsets,n" in TS 38.304 [4].
q-QualMinOffsetCell
Parameter "Qqualminoffsetcell" in TS 38.304 [4]. Actual value Qqualminoffsetcell = field value [dB].
q-RxLevMinOffsetCell
Parameter "Qrxlevminoffsetcell" in TS 38.304 [4]. Actual value Qrxlevminoffsetcell = field value * 2 [dB].
q-RxLevMinOffsetCellSUL
Parameter "QrxlevminoffsetcellSUL" in TS 38.304 [4]. Actual value QrxlevminoffsetcellSUL = field value * 2 [dB].

–	SIB4
SIB4 contains information relevant only for inter-frequency cell re-selection i.e. information about other NR frequencies and inter-frequency neighbouring cells relevant for cell re-selection. The IE includes cell re-selection parameters common for a frequency as well as cell specific re-selection parameters.
SIB4 information element
-- ASN1START
-- TAG-SIB4-START

SIB4 ::=        SEQUENCE {
    interFreqCarrierFreqList            InterFreqCarrierFreqList,
    lateNonCriticalExtension            OCTET STRING        OPTIONAL,
    ...
}

InterFreqCarrierFreqList ::=             SEQUENCE (SIZE (1..maxFreq)) OF InterFreqCarrierFreqInfo

InterFreqCarrierFreqInfo ::=     SEQUENCE {
    dl-CarrierFreq                  ARFCN-ValueNR,
    frequencyBandList                   MultiFrequencyBandListNR-SIB            OPTIONAL,   -- Need R
    frequencyBandListSUL                MultiFrequencyBandListNR-SIB            OPTIONAL,   -- Need R
    nrofSS-BlocksToAverage          INTEGER (2..maxNrofSS-BlocksToAverage)      OPTIONAL,
    absThreshSS-BlocksConsolidation ThresholdNR                                 OPTIONAL,
    smtc                                SSB-MTC                                     OPTIONAL,   -- Need R
    ssbSubcarrierSpacing                SubcarrierSpacing,
    ssb-ToMeasure                   SSB-ToMeasure                               OPTIONAL,   -- Need R
    deriveSSB-IndexFromCell         BOOLEAN,
    ss-RSSI-Measurement             SS-RSSI-Measurement                             OPTIONAL,
    q-RxLevMin                          Q-RxLevMin,
    q-RxLevMinSUL                       Q-RxLevMin          OPTIONAL,       -- Need R
    q-QualMin                           Q-QualMin           OPTIONAL,       -- Need R,
    p-Max                               P-Max                           OPTIONAL,       -- Need R
    t-ReselectionNR                 T-Reselection,
    t-ReselectionNR-SF                  SpeedStateScaleFactors OPTIONAL,        -- Need N
    threshX-HighP                       ReselectionThreshold,
    threshX-LowP                        ReselectionThreshold,
    threshX-Q                       SEQUENCE {
        threshX-HighQ                       ReselectionThresholdQ,
        threshX-LowQ                        ReselectionThresholdQ
    }                                                                   OPTIONAL, -- Cond RSRQ
    cellReselectionPriority         CellReselectionPriority     OPTIONAL,       -- Need R
    cellReselectionSubPriority      CellReselectionSubPriority  OPTIONAL,       -- Need R
    q-OffsetFreq                        Q-OffsetRange                   DEFAULT dB0,
    interFreqNeighCellList          InterFreqNeighCellList      OPTIONAL,       -- Need R
    interFreqBlackCellList          InterFreqBlackCellList      OPTIONAL,       -- Need R
    ...
}

InterFreqNeighCellList ::=          SEQUENCE (SIZE (1..maxCellInter)) OF InterFreqNeighCellInfo

InterFreqNeighCellInfo ::=          SEQUENCE {
    physCellId                              PhysCellId,
    q-OffsetCell                            Q-OffsetRange,
        q-RxLevMinOffsetCell                INTEGER (1..8)              OPTIONAL,   -- Need R
        q-RxLevMinOffsetCellSUL             INTEGER (1..8)              OPTIONAL,   -- Need R
    q-QualMinOffsetCell                     INTEGER (1..8)              OPTIONAL,   -- Need R
    ...

}

InterFreqBlackCellList ::=          SEQUENCE (SIZE (1..maxCellBlack)) OF PCI-Range

-- TAG-SIB4-STOP
-- ASN1STOP

SIB4 field descriptions
absThreshSS-BlocksConsolidation
Threshold for consolidation of L1 measurements per RS index.
deriveSSB-IndexFromCell
This field indicates whether the UE may use the timing of any detected cell on that frequency to derive the SSB index of all neighbour cells on that frequency. If this field is set to TRUE, the UE assumes SFN and frame boundary alignment across cells on the neighbor frequency as specified in 38.133 [14].
interFreqBlackCellList
List of blacklisted inter-frequency neighbouring cells.
interFreqCarrierFreqList
List of neighbouring carrier frequencies and frequency specific cell re-selection information. 
interFreqNeighCellList
List of inter-frequency neighbouring cells with specific cell re-selection parameters.
nrofSS-BlocksToAverage
Number of SS blocks to average for cell measurement derivation.
p-Max
Value applicable for the neighbouring NR cells on this carrier frequency. If absent the UE applies the maximum power according to TS 38.101 [15].
q-OffsetCell
Parameter "Qoffsets,n" in TS 38.304 [4].
q-OffsetFreq
Parameter "Qoffsetfrequency" in TS 38.304 [4].
q-QualMin
Parameter "Qqualmin" in TS 38.304 [4]. 
q-QualMinOffsetCell
Parameter "Qqualminoffsetcell" in TS 38.304 [4]. Actual value Qqualminoffsetcell = field value [dB].
q-RxLevMinOffsetCell
Parameter "Qrxlevminoffsetcell" in TS 38.304 [4]. Actual value Qrxlevminoffsetcell = field value * 2 [dB].
q-RxLevMinOffsetCellSUL
Parameter "QrxlevminoffsetcellSUL" in TS 38.304 [4]. Actual value QrxlevminoffsetcellSUL = field value * 2 [dB].
smtc
Measurement timing configuration for inter-frequency measurement. If this field is absent, the UE assumes that SSB periodicity is 5 ms in this frequency.
ssb-ToMeasure
The set of SS blocks to be measured within the SMTC measurement duration (see 38.215). When the field is absent the UE measures on all SS-blocks.
ssbSubcarrierSpacing
Subcarrier spacing of SSB. Only the values 15 or 30  (<6GHz), 120 kHz or 240 kHz (>6GHz) are applicable.
threshX-HighP
Parameter "ThreshX, HighP" in TS 38.304 [4].
threshX-HighQ
Parameter "ThreshX, HighQ" in TS 38.304 [4].
threshX-LowP
Parameter "ThreshX, LowP" in TS 38.304 [4].
threshX-LowQ
Parameter "ThreshX, LowQ" in TS 38.304 [4].
t-ReselectionNR
Parameter "TreselectionNR" in TS 38.304 [4].
t-ReselectionNR-SF
Parameter "Speed dependent ScalingFactor for TreselectionNR" in TS 38.304 [4]. If the field is not present, the UE behaviour is specified in TS 38.304 [4].

Conditional Presence
Explanation
RSRQ
The field is mandatory present if threshServingLowQ is present in SIB2; otherwise it is not present.

–	SIB5
SIB5 contains information relevant only for inter-RAT cell re-selection i.e. information about E-UTRA frequencies and E-UTRAs neighbouring cells relevant for cell re-selection. The IE includes cell re-selection parameters common for a frequency.
SIB5 information element
-- ASN1START
-- TAG-SIB5-START

SIB5 ::=                            SEQUENCE {
    carrierFreqListEUTRA                CarrierFreqListEUTRA            OPTIONAL,       -- Need R
    t-ReselectionEUTRA                  T-Reselection,
    t-ReselectionEUTRA-SF               SpeedStateScaleFactors          OPTIONAL,       -- Need N
    lateNonCriticalExtension            OCTET STRING                    OPTIONAL,
    ...
}

CarrierFreqListEUTRA ::=            SEQUENCE (SIZE (1..maxEUTRA-Carrier)) OF CarrierFreqEUTRA

CarrierFreqEUTRA ::=                SEQUENCE {
    carrierFreq                         ARFCN-ValueEUTRA,
    eutra-multiBandInfoList             EUTRA-MultiBandInfoList         OPTIONAL,   -- Need R
    eutra-FreqNeighCellList             EUTRA-FreqNeighCellList         OPTIONAL,       -- Need R
    eutra-BlackCellList                 EUTRA-FreqBlackCellList         OPTIONAL, -- Need R
    allowedMeasBandwidth                EUTRA-AllowedMeasBandwidth,
    presenceAntennaPort1                EUTRA-PresenceAntennaPort1,
    cellReselectionPriority             CellReselectionPriority         OPTIONAL,       -- Need R
    cellReselectionSubPriority          CellReselectionSubPriority      OPTIONAL,       -- Need R
    threshX-High                        ReselectionThreshold,
    threshX-Low                         ReselectionThreshold,
    q-RxLevMin                          INTEGER (-70..-22),
    q-QualMin                           INTEGER (-34..-3),
    p-MaxEUTRA                          INTEGER (-30..33),
    threshX-Q                           SEQUENCE {
        threshX-HighQ                       ReselectionThresholdQ,
        threshX-LowQ                        ReselectionThresholdQ
    }                                                                   OPTIONAL        -- Cond RSRQ
}

EUTRA-FreqBlackCellList ::=         SEQUENCE (SIZE (1..maxEUTRA-CellBlack)) OF EUTRA-PhysCellIdRange

EUTRA-FreqNeighCellList ::=         SEQUENCE (SIZE (1..maxCellEUTRA)) OF EUTRA-FreqNeighCellInfo

EUTRA-FreqNeighCellInfo ::=         SEQUENCE {
    physCellId                          EUTRA-PhysCellId,
    q-OffsetCell                        EUTRA-Q-OffsetRange,
    q-RxLevMinOffsetCell                INTEGER (1..8)                  OPTIONAL,   -- Need R
    q-QualMinOffsetCell                 INTEGER (1..8)                  OPTIONAL    -- Need R
}

-- TAG-SIB5-STOP
-- ASN1STOP

SIB5 field descriptions
carrierFreqListEUTRA
List of carrier frequencies of EUTRA.
eutra-BlackCellList
List of blacklisted EUTRA neighbouring cells.
eutra-multiBandInfoList
Indicates the list of frequency bands in addition to the band represented by carrierFreq for which cell reselection parameters are common, and a list of additionalPmax and additionalSpectrumEmission values, as defined in TS 36.101 [xx, table 6.2.4-1], for the frequency bands in eutra-multiBandInfoList
p-MaxEUTRA
The maximum allowed transmission power on the (uplink) carrier frequency, see TS 36.304 [21]. In dBm
q-QualMin
Parameter "Qqualmin" in TS 36.304 [21]. Actual value Qqualmin = field value [dB].
q-QualMinOffsetCell
Parameter "Qqualminoffsetcell" in TS 38.304 [4]. Actual value Qqualminoffsetcell = field value [dB].
q-RxLevMin
Parameter "Qrxlevmin" in TS 36.304 [21]. Actual value Qrxlevmin = field value * 2 [dBm].
q-RxLevMinOffsetCell
Parameter "Qrxlevminoffsetcell" in TS 38.304 [4]. Actual value Qrxlevminoffsetcell = field value * 2 [dB].
t-ReselectionEUTRA
Parameter "TreselectionEUTRA" in TS 38.304 [20].
threshX-High
Parameter "ThreshX, HighP" in TS 38.304 [20].
threshX-HighQ
Parameter "ThreshX, HighQ" in TS 38.304 [20].
threshX-Low
Parameter "ThreshX, LowP" in TS 38.304 [20].
threshX-LowQ
Parameter "ThreshX, LowQ" in TS 38.304 [20].
t-ReselectionEUTRA-SF
Parameter "Speed dependent ScalingFactor for TreselectionEUTRA" in TS 38.304 [4]. If the field is not present, the UE behaviour is specified in TS 38.304 [4].

Conditional Presence
Explanation
RSRQ
The field is mandatory present if the threshServingLowQ is present in SIB2; otherwise it is not present.

–	SIB6
SIB6 contains an ETWS primary notification.
SIB6 information element
-- ASN1START
-- TAG-SIB6-START

SIB6 ::=                            SEQUENCE {
    messageIdentifier                   BIT STRING (SIZE (16)),
    serialNumber                        BIT STRING (SIZE (16)),
    warningType                         OCTET STRING (SIZE (2)),
    lateNonCriticalExtension            OCTET STRING                        OPTIONAL,
    ...
}

-- TAG-SIB6-STOP
-- ASN1STOP

SIB6 field descriptions
messageIdentifier
Identifies the source and type of ETWS notification.
serialNumber
Identifies variations of an ETWS notification.
warningType
Identifies the warning type of the ETWS primary notification and provides information on emergency user alert and UE popup.

–	SIB7
SIB7 contains an ETWS secondary notification.
SIB7 information element
-- ASN1START
-- TAG-SIB7-START

SIB7 ::=                            SEQUENCE {
    messageIdentifier                   BIT STRING (SIZE (16)),
    serialNumber                        BIT STRING (SIZE (16)),
    warningMessageSegmentType           ENUMERATED {notLastSegment, lastSegment},
    warningMessageSegmentNumber         INTEGER (0..63),
    warningMessageSegment               OCTET STRING,
    dataCodingScheme                    OCTET STRING (SIZE (1))         OPTIONAL,   -- Cond Segment1
    lateNonCriticalExtension            OCTET STRING                OPTIONAL,
    ...
}

-- TAG-SIB7-STOP
-- ASN1STOP

SIB7 field descriptions
dataCodingScheme
Identifies the alphabet/coding and the language applied variations of an ETWS notification.
messageIdentifier
Identifies the source and type of ETWS notification.
serialNumber
Identifies variations of an ETWS notification.
warningMessageSegment
Carries a segment of the Warning Message Contents IE.
warningMessageSegmentNumber
Segment number of the ETWS warning message segment contained in the SIB. A segment number of zero corresponds to the first segment, one corresponds to the second segment, and so on.
warningMessageSegmentType
Indicates whether the included ETWS warning message segment is the last segment or not.

Conditional Presence
Explanation
Segment1
The field is mandatory present in the first segment of SIB7, otherwise it is not present.

–	SIB8
SIB8 contains a CMAS notification.
SIB8 information element
-- ASN1START
-- TAG-SIB8-START

SIB8 ::=    SEQUENCE {
    messageIdentifier               BIT STRING (SIZE (16)),
    serialNumber                    BIT STRING (SIZE (16)),
    warningMessageSegmentType       ENUMERATED {notLastSegment, lastSegment},
    warningMessageSegmentNumber INTEGER (0..63),
    warningMessageSegment           OCTET STRING,
    dataCodingScheme                OCTET STRING (SIZE (1))         OPTIONAL,   -- Cond Segment1
    warningAreaCoordinatesSegment   OCTET STRING                    OPTIONAL,   -- Need R
    lateNonCriticalExtension        OCTET STRING                    OPTIONAL,
    ...
}

-- TAG-SIB8-STOP
-- ASN1STOP

SIB8 field descriptions
dataCodingScheme
Identifies the alphabet/coding and the language applied variations of a CMAS notification.
messageIdentifier
Identifies the source and type of CMAS notification.
serialNumber
Identifies variations of a CMAS notification.
warningAreaCoordinatesSegment
Carries a segment of the geographical area where the CMAS warning message is valid as defined in [28]. The first octet of the first warningAreaCoordinatesSegment is equivalent to the first octet of Warning Area Coordinates IE defined in and encoded according to TS 23.041 [29] and so on.
warningMessageSegment
Carries a segment of the Warning Message Contents IE.
warningMessageSegmentNumber
Segment number of the CMAS warning message segment contained in the SIB. A segment number of zero corresponds to the first segment, one corresponds to the second segment, and so on.
warningMessageSegmentType
Indicates whether the included CMAS warning message segment is the last segment or not.

Conditional Presence
Explanation
Segment1
The field is mandatory present in the first segment of SIB8, otherwise it is not present.

–	SIB9
SIB9 contains information related to GPS time and Coordinated Universal Time (UTC). The UE may use the parameters provided in this system information block to obtain the UTC, the GPS and the local time.
NOTE:	The UE may use the time information for numerous purposes, possibly involving upper layers e.g. to assist GPS initialisation, to synchronise the UE clock.
SIB9 information element
-- ASN1START
-- TAG-SIB9-START

SIB9 ::=                            SEQUENCE {
    timeInfo                            SEQUENCE {
        timeInfoUTC                         INTEGER (0..549755813887),
        dayLightSavingTime                  BIT STRING (SIZE (2))                   OPTIONAL,   -- Need R
        leapSeconds                         INTEGER (-127..128)                     OPTIONAL,   -- Need R
        localTimeOffset                     INTEGER (-63..64)                       OPTIONAL    -- Need R
    }                                                                               OPTIONAL,   -- Need R
    lateNonCriticalExtension            OCTET STRING                                OPTIONAL,
    ...
}

-- TAG-SIB9-STOP
-- ASN1STOP

SIB9 field descriptions
dayLightSavingTime
Indicates if and how daylight-saving time (DST) is applied to obtain the local time.
leapSeconds
Number of leap seconds offset between GPS Time and UTC. UTC and GPS time are related i.e. GPS time -leapSeconds = UTC time.
localTimeOffset
Offset between UTC and local time in units of 15 minutes. Actual value = field value * 15 minutes. Local time of the day is calculated as UTC time + localTimeOffset.
timeInfoUTC
Coordinated Universal Time corresponding to the SFN boundary at or immediately after the ending boundary of the SI-window in which SIB9 is transmitted. The field counts the number of UTC seconds in 10 ms units since 00:00:00 on Gregorian calendar date 1 January, 1900 (midnight between Sunday, December 31, 1899 and Monday, January 1, 1900). See NOTE 1. This field is excluded when estimating changes in system information, i.e. changes of timeInfoUTC should neither result in system information change notifications nor in a modification of SIBValueTag in SIB1.

NOTE 1:	The UE may use this field together with the leapSeconds field to obtain GPS time as follows: GPS Time (in seconds) = timeInfoUTC (in seconds) -  2,524,953,600 (seconds) + leapSeconds, where 2,524,953,600 is the number of seconds between 00:00:00 on Gregorian calendar date 1 January, 1900 and 00:00:00 on Gregorian calendar date 6 January, 1980 (start of GPS time).

6.3.2	Radio resource control information elements
–	AdditionalSpectrumEmission
The IE AdditionalSpectrumEmission is used to indicate emission requirements to be fulfilled by the UE (see 38.101, section FFS_Section)
AdditionalSpectrumEmission information element
-- ASN1START
-- TAG-ADDITIONALSPECTRUMEMISSION-START

AdditionalSpectrumEmission ::=              INTEGER (0..7)

-- TAG-ADDITIONALSPECTRUMEMISSION-STOP
-- ASN1STOP

–	Alpha
The IE Alpha defines possible values of a the pathloss compensation coefficient for uplink power control. alpha0 corresponds to the value 0, alpha04 corresponds to the value 0.4, alpha05 corresponds to the value 0.5 and so on. alpha1 corresponds to value 1. See also section 7.2 of 38.213.
-- ASN1START
-- TAG-ALPHA-START

Alpha ::=                       ENUMERATED {alpha0, alpha04, alpha05, alpha06, alpha07, alpha08, alpha09, alpha1}

-- TAG-ALPHA-STOP
-- ASN1STOP

–	AMF-Identifier
The IE AMF-Identifier (AMFI) comprises of an AMF Region ID, an AMF Set ID and an AMF Pointer as specified in 23.003 [21], section 2.10.1.
AMF-Identifier information element
-- ASN1START
-- TAG-AMF-IDENTIFIER-START

AMF-Identifier ::=                      BIT STRING (SIZE (24))

-- TAG-AMF-IDENTIFIER-STOP
-- ASN1STOP

–	ARFCN-ValueEUTRA
The IE ARFCN-ValueEUTRA is used to indicate the ARFCN applicable for a downlink, uplink or bi-directional (TDD) E-UTRA carrier frequency, as defined in TS 36.101 [22].
ARFCN-ValueEUTRA information element
-- ASN1START
-- TAG-ARFCN-VALUEEUTRA-START

ARFCN-ValueEUTRA ::=                INTEGER (0..maxEARFCN)

-- TAG-ARFCN-VALUEEUTRA-STOP
-- ASN1STOP

–	ARFCN-ValueNR
The IE ARFCN-ValueNR is used to indicate the ARFCN applicable for a downlink, uplink or bi-directional (TDD) NR global frequency raster, as defined in TS 38.101- [15], section 5.4.2.
-- ASN1START
-- TAG-ARFCN-VALUE-NR-START

ARFCN-ValueNR ::=               INTEGER (0..maxNARFCN)

-- TAG-ARFCN-VALUE-NR-STOP
-- ASN1STOP

–	BeamFailureRecoveryConfig
The BeamFailureRecoveryConfig IE is used to configure the UE with RACH resources and candidate beams for beam failure recovery in case of beam failure detection. See also 38.321, section 5.1.1.
BeamFailureRecoveryConfig information element
-- ASN1START
-- TAG-BEAM-FAILURE-RECOVERY-CONFIG-START

BeamFailureRecoveryConfig ::=       SEQUENCE {
    rootSequenceIndex-BFR               INTEGER (0..137)                                                            OPTIONAL,   -- Need M
    rach-ConfigBFR                      RACH-ConfigGeneric                                                          OPTIONAL,   -- Need M
    rsrp-ThresholdSSB               RSRP-Range                                                                  OPTIONAL,   -- Need M
    candidateBeamRSList                 SEQUENCE (SIZE(1..maxNrofCandidateBeams)) OF PRACH-ResourceDedicatedBFR     OPTIONAL,   -- Need M
    ssb-perRACH-Occasion                ENUMERATED {oneEighth, oneFourth, oneHalf, one, two, four, eight, sixteen}  OPTIONAL,   -- Need M
    ra-ssb-OccasionMaskIndex            INTEGER (0..15)                                                             OPTIONAL,   -- Need M
    recoverySearchSpaceId               SearchSpaceId                                                               OPTIONAL,   -- Cond CF-BFR
    ra-Prioritization                   RA-Prioritization                                                           OPTIONAL,   -- Need R
    beamFailureRecoveryTimer            ENUMERATED {ms10, ms20, ms40, ms60, ms80, ms100, ms150, ms200}          OPTIONAL,   -- Need M
    ...,
    [[
    msg1-SubcarrierSpacing-v1530            SubcarrierSpacing                                                           OPTIONAL        -- Need M
    ]]
}

PRACH-ResourceDedicatedBFR ::=      CHOICE {
    ssb                                 BFR-SSB-Resource,
    csi-RS                              BFR-CSIRS-Resource
}

BFR-SSB-Resource ::=            SEQUENCE {
    ssb                             SSB-Index,
    ra-PreambleIndex                INTEGER (0..63),
    ...
}

BFR-CSIRS-Resource ::=          SEQUENCE {
    csi-RS                          NZP-CSI-RS-ResourceId,
    ra-OccasionList                 SEQUENCE (SIZE(1..maxRA-OccasionsPerCSIRS)) OF INTEGER (0..maxRA-Occasions-1)   OPTIONAL,   -- Need R
    ra-PreambleIndex                INTEGER (0..63)                                                                 OPTIONAL,   -- Need R
    ...
}

-- TAG-BEAM-FAILURE-RECOVERY-CONFIG-STOP
-- ASN1STOP

BeamFailureRecoveryConfig field descriptions
beamFailureRecoveryTimer
Timer for beam failure recovery timer.  Upon expiration of the timer the UE does not use CFRA for BFR. Value in ms. ms10 corresponds to 10ms, ms20 to 20ms, and so on.
candidateBeamRSList
A list of reference signals (CSI-RS and/or SSB) identifying the candidate beams for recovery and the associated RA parameters. The network configures these reference signals to be within the linked DL BWP (i.e., within the DL BWP with the same bwp-Id) of the UL BWP in which the BeamFailureRecoveryConfig is provided. 
msg1-SubcarrierSpacing
Subcarrier spacing for  contention free beam failure recovery. Only the values 15 or 30 kHz  (<6GHz), 60 or 120 kHz (>6GHz) are applicable. Corresponds to L1 parameter 'prach-Msg1SubcarrierSpacing' (see 38.211, section FFS_Section).
rsrp-ThresholdSSB
L1-RSRP threshold used for determining whether a candidate beam may be used by the UE to attempt contention free Random Access to recover from beam failure. (see 38.213, section 6)
ra-prioritization
Parameters which apply for prioritized random access procedure for BFR (see 38.321, section 5.1.1).
ra-ssb-OccasionMaskIndex
Explicitly signalled PRACH Mask Index for RA Resource selection in TS 38.321. The mask is valid for all SSB resources
rach-ConfigBFR
Configuration of contention free random access occasions for BFR
recoverySearchSpaceId
Search space to use for BFR RAR. The network configures this search space to be within the linked DL BWP (i.e., within the DL BWP with the same bwp-Id) of the UL BWP in which the BeamFailureRecoveryConfig is provided. The CORESET associated with the recovery search space cannot be associated with another search space.
ssb-perRACH-Occasion
Number of SSBs per RACH occasion for CF-BFR (L1 parameter 'SSB-per-rach-occasion')

BFR-CSIRS-Resource field descriptions
csi-RS
The ID of a NZP-CSI-RS-Resource configured in the CSI-MeasConfig of this serving cell. This reference signal determines a candidate beam for beam failure recovery (BFR).
ra-OccasionList
RA occasions that the UE shall use when performing BFR upon selecting the candidate beam identified by this CSI-RS. The network ensures that the RA occasion indexes provided herein are also configured by prach-ConfigurationIndex and msg1-FDM. Each RACH occasion is sequentially numbered, first, in increasing order of frequency resource indexes for frequency multiplexed PRACH occasions; second, in increasing order of time resource indexes for time multiplexed PRACH occasions within a PRACH slot and Third, in increasing order of indexes for PRACH slots.
If the field is absent the UE uses the RA occasion associated with the SSB that is QCLed with this CSI-RS.
ra-PreambleIndex
The RA preamble index to use in the RA occasions associated with this CSI-RS. If the field is absent, the UE uses the preamble index associated with the SSB that is QCLed with this CSI-RS.

BFR-SSB-Resource field descriptions
ra-PreambleIndex
The preamble index that the UE shall use when performing BFR upon selecting the candidate beams identified by this SSB.
ssb
The ID of an SSB transmitted by this serving cell. It determines a candidate beam for beam failure recovery (BFR)

Conditional Presence
Explanation
CF-BFR
The field is mandatory present, Need R, if contention free random access resources for BFR are configured. It is optionally present otherwise.

–	BSR-Config
The IE BSR-Config is used to configure buffer status reporting.
BSR-Config information element
-- ASN1START
-- TAG-BSR-CONFIG-START

BSR-Config ::=                      SEQUENCE {
    periodicBSR-Timer                   ENUMERATED { sf1, sf5, sf10, sf16, sf20, sf32, sf40, sf64,
                                                        sf80, sf128, sf160, sf320, sf640, sf1280, sf2560, infinity },
    retxBSR-Timer                       ENUMERATED { sf10, sf20, sf40, sf80, sf160, sf320, sf640, sf1280, sf2560,
                                                        sf5120, sf10240, spare5, spare4, spare3, spare2, spare1},
    logicalChannelSR-DelayTimer         ENUMERATED { sf20, sf40, sf64, sf128, sf512, sf1024, sf2560, spare1}            OPTIONAL,   -- Need R
    ...
}

-- TAG-BSR-CONFIG-STOP
-- ASN1STOP

BSR-Config field descriptions
logicalChannelSR-DelayTimer
Value in number of subframes. sf1 corresponds to one subframe, sf2 corresponds to 2 subframes, and so on.
periodicBSR-Timer
Value in number of subframes. Value sf1 corresponds to 1 subframe, sf5 corresponds to 5 subframes and so on.
retxBSR-Timer
Value in number of subframes. Value sf10 corresponds to 10 subframes, sf20 corresponds to 20 subframes and so on.

–	BWP
The BWP IE is used to configure a bandwidth part as defined in 38.211, section 4.2.2.
For each serving cell the network configures at least an initial bandwidth part comprising of at least a downlink bandwidth part and one (if the serving cell is configured with an uplink) or two (if using supplementary uplink (SUL)) uplink bandwidth parts. Furthermore, the network may configure additional uplink and downlink bandwidth parts for a serving cell.
The bandwidth part configuration is split into uplink and downlink parameters and into common and dedicated parameters. Common parameters (in BWP-UplinkCommon and BWP-DownlinkCommon) are "cell specific" and the network ensures the necessary alignment with corresponding parameters of other UEs. The common parameters of the initial bandwidth part of the PCell are also provided via system information. For all other serving cells, the network provides the common parameters via dedicated signalling.
BWP information element
-- ASN1START
-- TAG-BANDWIDTH-PART-START

BWP ::=                             SEQUENCE {
    locationAndBandwidth                INTEGER (0..37949),
    subcarrierSpacing                   SubcarrierSpacing,
    cyclicPrefix                        ENUMERATED { extended }                                                 OPTIONAL    -- Need R
}


-- TAG-BANDWIDTH-PART-STOP
-- ASN1STOP

BWP field descriptions
cyclicPrefix
Indicates whether to use the extended cyclic prefix for this bandwidth part. If not set, the UE uses the normal cyclic prefix. Normal CP is supported for all numerologies and slot formats. Extended CP is supported only for 60 kHz subcarrier spacing. (see 38.211, section 4.2.2)
locationAndBandwidth
Frequency domain location and bandwidth of this bandwidth part. The value of the field shall be interpreted as resource indicator value (RIV) as defined TS 38.214 with assumptions as described in TS 38.213, section 12, i.e. setting =275. The first PRB is a PRB determined by subcarrierSpacing of this BWP and offsetToCarrier (configured in SCS-SpecificCarrier contained within FrequencyInfoDL / FrequencyInfoUL) corresponding to this subcarrier spacing. In case of TDD, a BWP-pair (UL BWP and DL BWP with the same bwp-Id) must have the same center frequency (see 38.213, section 12)
subcarrierSpacing
Subcarrier spacing to be used in this BWP for all channels and reference signals unless explicitly configured elsewhere. Corresponds to subcarrier spacing according to 38.211, Table 4.2-1. The value kHz15 corresponds to µ=0, kHz30 to µ=1, and so on. Only the values 15, 30, or 60 kHz (<6GHz), and 60 or 120 kHz (>6GHz) are applicable. For the initial DL BWP this field has the same value as the field subCarrierSpacingCommon in MIB of the same serving cell.

–	BWP-Downlink
The IE BWP-Downlink is used to configure an additional downlink bandwidth part (not for the initial BWP). The field bwp-Id in this IE does not take the value 0 since that is reserved for the initial BWP.
BWP-Downlink information element
-- ASN1START
-- TAG-BWP-DOWNLINK-START

BWP-Downlink ::=                    SEQUENCE {
    bwp-Id                              BWP-Id,
    bwp-Common                          BWP-DownlinkCommon                                                      OPTIONAL,   -- Cond SetupOtherBWP
    bwp-Dedicated                       BWP-DownlinkDedicated                                                   OPTIONAL,   -- Need M
    ...
}

-- TAG-BWP-DOWNLINK-STOP
-- ASN1STOP

BWP-Downlink field descriptions
bwp-Id
An identifier for this bandwidth part. Other parts of the RRC configuration use the BWP-Id to associate themselves with a particular bandwidth part. The BWP ID=0 is always associated with the initial BWP and may hence not be used here (in other bandwidth parts).
The NW may trigger the UE to switch UL or DL BWP using a DCI field. The four code points in that DCI field map to the RRC-configured BWP-ID as follows: For up to 3 configured BWPs (in addition to the initial BWP) the DCI code point is equivalent to the BWP ID (initial = 0, first dedicated = 1, ...). If the NW configures 4 dedicated bandwidth parts, they are identified by DCI code points 0 to 3. In this case it is not possible to switch to the initial BWP using the DCI field.
 (see 38.211, 38.213, section 12)

Conditional Presence
Explanation
SetupOtherBWP
The field is mandatory present, Need M, upon configuration of a new BWP if the parent IE is included (if configured with UL/DL). The field is optionally present, Need M, otherwise. 

–	BWP-DownlinkCommon
The IE BWP-DownlinkCommon is used to configure the common parameters of a downlink BWP. They are "cell specific" and the network ensures the necessary alignment with corresponding parameters of other UEs. The common parameters of the initial bandwidth part of the PCell are also provided via system information. For all other serving cells, the network provides the common parameters via dedicated signalling.
BWP-DownlinkCommon information element
-- ASN1START
-- TAG-BWP-DOWNLINKCOMMON-START

BWP-DownlinkCommon ::=              SEQUENCE {
    genericParameters                   BWP,
    pdcch-ConfigCommon                  SetupRelease { PDCCH-ConfigCommon }                                     OPTIONAL,   -- Need M
    pdsch-ConfigCommon                  SetupRelease { PDSCH-ConfigCommon }                                     OPTIONAL,   -- Need M
    ...
}

-- TAG-BWP-DOWNLINKCOMMON-STOP
-- ASN1STOP

BWP-DownlinkCommon field descriptions
pdcch-ConfigCommon
Cell specific parameters for the PDCCH of this BWP
pdsch-ConfigCommon
Cell specific parameters for the PDSCH of this BWP

–	BWP-DownlinkDedicated
The IE BWP-DownlinkDedicated is used to configure the dedicated (UE specific) parameters of a downlink BWP.
BWP-DownlinkDedicated information element
-- ASN1START
-- TAG-BWP-DOWNLINKDEDICATED-START

BWP-DownlinkDedicated ::=           SEQUENCE {
    pdcch-Config                        SetupRelease { PDCCH-Config }                                           OPTIONAL,   -- Need M
    pdsch-Config                        SetupRelease { PDSCH-Config }                                           OPTIONAL,   -- Need M
    sps-Config                          SetupRelease { SPS-Config }                                             OPTIONAL,   -- Need M
    radioLinkMonitoringConfig           SetupRelease { RadioLinkMonitoringConfig }                              OPTIONAL,   -- Need M
    ...
}

-- TAG-BWP-DOWNLINKDEDICATED-STOP
-- ASN1STOP

BWP-DownlinkDedicated field descriptions
pdcch-Config
UE specific PDCCH configuration for one BWP
pdsch-Config
UE specific PDSCH configuration for one BWP
sps-Config
UE specific SPS (Semi-Persistent Scheduling) configuration for one BWP. Except for reconfiguration with sync, the NW does not reconfigure sps-Config when there is an active configured downlink assignment (see TS 38.321 [3]). However, the NW may release the sps-Config at any time. 
radioLinkMonitoringConfig
UE specific configuration of radio link monitoring for detecting cell- and beam radio link failure occasions. The maximum number of failure detection resources should be limited up to 8 for both cell- and beam radio link failure detection in Rel-15.

–	BWP-Id
The IE BWP-Id is used to refer to Bandwidth Parts (BWP). The initial BWP is referred to by BWP-Id 0. The other BWPs are referred to by BWP-Id 1 to maxNrofBWPs.
BWP-Id information element
-- ASN1START
-- TAG-BWP-ID-START

BWP-Id ::=                          INTEGER (0..maxNrofBWPs)

-- TAG-BWP-ID-STOP
-- ASN1STOP

–	BWP-Uplink
The IE BWP-Uplink is used to configure an additional uplink bandwidth part (not for the initial BWP). The field bwp-Id in this IE does not take the value 0 since that is reserved for the initial BWP.
BWP-Uplink information element
-- ASN1START
-- TAG-BWP-UPLINK-START

BWP-Uplink ::=                      SEQUENCE {
    bwp-Id                              BWP-Id,
    bwp-Common                          BWP-UplinkCommon                                                        OPTIONAL,   -- Cond SetupOtherBWP
    bwp-Dedicated                       BWP-UplinkDedicated                                                     OPTIONAL,   -- Need M
    ...
}

-- TAG-BWP-UPLINK-STOP
-- ASN1STOP

BWP-Uplink field descriptions
bwp-Id
An identifier for this bandwidth part. Other parts of the RRC configuration use the BWP-Id to associate themselves with a particular bandwidth part. The BWP ID=0 is always associated with the initial BWP and may hence not be used here (in other bandwidth parts).
The NW may trigger the UE to switch UL or DL BWP using a DCI field. The four code points in that DCI field map to the RRC-configured BWP-ID as follows: For up to 3 configured BWPs (in addition to the initial BWP) the DCI code point is equivalent to the BWP ID (initial = 0, first dedicated = 1, ...). If the NW configures 4 dedicated bandwidth parts, they are identified by DCI code points 0 to 3. In this case it is not possible to switch to the initial BWP using the DCI field.
Corresponds to L1 parameter 'UL-BWP-index'. (see 38.211, 38.213, section 12)

Conditional Presence
Explanation
SetupOtherBWP
The field is mandatory present, Need M, upon configuration of a new BWP if the parent IE is included (if configured with UL/DL). The field is optionally present, Need M, otherwise. 

–	BWP-UplinkCommon
The IE BWP-UplinkCommon is used to configure the common parameters of an uplink BWP. They are "cell specific" and the network ensures the necessary alignment with corresponding parameters of other UEs. The common parameters of the initial bandwidth part of the PCell are also provided via system information. For all other serving cells, the network provides the common parameters via dedicated signalling.
BWP-UplinkCommon information element
-- ASN1START
-- TAG-BWP-UPLINKCOMMON-START

BWP-UplinkCommon ::=                SEQUENCE {
    genericParameters                   BWP,
    rach-ConfigCommon                   SetupRelease { RACH-ConfigCommon }                                      OPTIONAL,   -- Need M
    pusch-ConfigCommon                  SetupRelease { PUSCH-ConfigCommon }                                     OPTIONAL,   -- Need M
    pucch-ConfigCommon                  SetupRelease { PUCCH-ConfigCommon }                                     OPTIONAL,   -- Need M
    ...
}

-- TAG-BWP-UPLINKCOMMON-STOP
-- ASN1STOP

BWP-UplinkCommon field descriptions
pucch-ConfigCommon
Cell specific parameters for the PUCCH of this BWP. 
pusch-ConfigCommon
Cell specific parameters for the PUSCH of this BWP.
rach-ConfigCommon
Configuration of cell specific random access parameters which the UE uses for contention based and contention free random access as well as for contention based beam failure recovery in this BWP. The NW configures SSB-based RA (and hence RACH-ConfigCommon) only for UL BWPs if the linked DL BWPs (same bwp-Id as UL-BWP) allows the UE to acquire the SSB associated to the serving cell. The network configures rach-ConfigCommon, whenever it configures contention free random access (for reconfiguration with sync or for beam failure recovery). 

–	BWP-UplinkDedicated
The IE BWP-UplinkDedicated is used to configure the dedicated (UE specific) parameters of a uplink BWP.
BWP-UplinkDedicated information element
-- ASN1START
-- TAG-BWP-UPLINKDEDICATED-START

BWP-UplinkDedicated ::=             SEQUENCE {
    pucch-Config                        SetupRelease { PUCCH-Config }                                           OPTIONAL,   -- Need M
    pusch-Config                        SetupRelease { PUSCH-Config }                                           OPTIONAL,   -- Need M
    configuredGrantConfig               SetupRelease { ConfiguredGrantConfig }                                  OPTIONAL,   -- Need M
    srs-Config                          SetupRelease { SRS-Config }                                             OPTIONAL,   -- Need M
    beamFailureRecoveryConfig           SetupRelease { BeamFailureRecoveryConfig }                              OPTIONAL,   -- Cond SpCellOnly
    ...
}

-- TAG-BWP-UPLINKDEDICATED-STOP
-- ASN1STOP

BWP-UplinkDedicated field descriptions
beamFailureRecoveryConfig
Determines how the UE performs Beam Failure Recovery upon detection of a Beam Failure (see RadioLinkMonitoringConfig). If supplementaryUplink is present, the field is present only in one of the uplink carriers, either UL or SUL.
configuredGrantConfig
A Configured-Grant of typ1 or type2. It may be configured for UL or SUL but in case of type1 not for both at a time. Except for reconfiguration with sync, the NW does not reconfigure configuredGrantConfig when there is an active configured uplink grant Type 2 (see TS 38.321 [3]). However, the NW may release the configuredGrantConfig at any time.
pucch-Config
PUCCH configuration for one BWP of the regular UL or SUL of a serving cell. If the UE is configured with SUL, the network configures PUCCH only on the BWPs of one of the uplinks (UL or SUL). The network configures PUCCH-Config for each SpCell. If supported by the UE, the network may configure at most one additional SCell of a cell group with PUCCH-Config (i.e. PUCCH SCell).
For EN-DC, The NW configures at most one serving cell per frequency range with PUCCH. And for EN-DC, if two PUCCH groups are configured, the serving cells of the NR PUCCH group in FR2 use the same numerology.
The NW may configure (add) PUCCH for a BWP when setting up the BWP. The network may also add/remove the pucch-Config in an RRCReconfiguraiton with reconfigurationWithSync to move the PUCCH between the UL and SUL carrier of one serving. In other cases, only modifications of a previously configured pucch-Config are allowed.
If one (S)UL BWP of a serving cell is configured with PUCCH, all other (S)UL BWPs must be configured with PUCCH, too.
pusch-Config
PUSCH configuration for one BWP of the regular UL or SUL of a serving cell. If the UE is configured with SUL and if it has a PUSCH-Config for both UL and SUL, a carrier indicator field in DCI indicates for which of the two to use an UL grant. See also L1 parameter 'dynamicPUSCHSUL' (see 38.213, section FFS_Section)
srs-Config
Uplink sounding reference signal configuration

Conditional Presence
Explanation
SpCellOnly
The field is optionally present, Need M, in the BWP-UplinkDedicated of an SpCell. It is absent otherwise. 

–	CellAccessRelatedInfo	
The IE CellAccessRelatedInfo indicates cell access related information for this cell.
CellAccessRelatedInfo information element
-- ASN1START
-- TAG-CELL-ACCESS-RELATED-INFO-START

CellAccessRelatedInfo   ::=         SEQUENCE {
    plmn-IdentityList                   PLMN-IdentityInfoList,
    cellReservedForOtherUse             ENUMERATED {true}  OPTIONAL,            -- Need R
    ...
}

-- TAG- CELL-ACCESS-RELATED-INFO-STOP
-- ASN1STOP

CellAccessRelatedInfo field descriptions
cellReservedForOtherUse
Indicates whether the cell is reserved, as defined in 38.304 [20]. The field is applicable to all PLMNs.
plmn-IdentityList
The PLMN-IdentityList is used to configure a set of PLMN-IdentityInfo elements. Each of those elements contains a list of one or more PLMN Identities and additional information associated with those PLMNs. The total number of PLMNs in the PLMNIdentitynfoList does not exceed 12. The PLMN index is defined as b1+b2+…+b(n-1)+i If this PLMN is included at the n-th entry of PLMN-IdentityInfoList and the i-th entry of its corresponding PLMN-IdentityInfo, where b(j) is the number of PLMN-Identity entries in each PLMN-IdentityInfo respectively.

–	CellAccessRelatedInfo-EUTRA-5GC	
The IE CellAccessRelatedInfo-EUTRA-5GC indicates cell access related information for an LTE cell connected to 5GC.
CellAccessRelatedInfo-EUTRA-5GC information element
-- ASN1START
-- TAG-CELL-ACCESS-RELATED-INFO-EUTRA-5GC-START

CellAccessRelatedInfo-EUTRA-5GC  ::=    SEQUENCE {
    plmn-IdentityList-eutra-5gc             PLMN-IdentityList-EUTRA-5GC,
    trackingAreaCode-eutra-5gc              TrackingAreaCode,
    ranac-5gc                               RAN-AreaCode                                OPTIONAL,
    cellIdentity-eutra-5gc                  CellIdentity-EUTRA-5GC
}

PLMN-IdentityList-EUTRA-5GC::=          SEQUENCE (SIZE (1..maxPLMN)) OF PLMN-Identity-EUTRA-5GC

PLMN-Identity-EUTRA-5GC ::=             CHOICE {
    plmn-Identity-EUTRA-5GC                 PLMN-Identity,
plmn-index                              INTEGER (1..maxPLMN)
}

CellIdentity-EUTRA-5GC ::=              CHOICE {
    cellIdentity-EUTRA                      BIT STRING (SIZE (28)),
cellId-index                            INTEGER (1..maxPLMN)
}

-- TAG-CELL-ACCESS-RELATED-INFO-EUTRA-5GC-STOP
-- ASN1STOP

–	CellAccessRelatedInfo-EUTRA-EPC	
The IE CellAccessRelatedInfo-EUTRA-EPC indicates cell access related information for an LTE cell connected to EPC.
CellAccessRelatedInfo-EUTRA-EPC information element
-- ASN1START
-- TAG-CELL-ACCESS-RELATED-INFO-EUTRA-EPC-START

CellAccessRelatedInfo-EUTRA-EPC  ::=    SEQUENCE {
    plmn-IdentityList-eutra-epc             PLMN-IdentityList-EUTRA-EPC,
    trackingAreaCode-eutra-epc              BIT STRING (SIZE (16)),
    cellIdentity-eutra-epc                  BIT STRING (SIZE (28))
}

PLMN-IdentityList-EUTRA-EPC::=          SEQUENCE (SIZE (1..maxPLMN)) OF PLMN-Identity

-- TAG-CELL-ACCESS-RELATED-INFO-EUTRA-5GC-STOP
-- ASN1STOP

–	CellGroupConfig
The CellGroupConfig IE is used to configure a master cell group (MCG) or secondary cell group (SCG). A cell group comprises of one MAC entity, a set of logical channels with associated RLC entities and of a primary cell (SpCell) and one or more secondary cells (SCells).
CellGroupConfig information element
-- ASN1START
-- TAG-CELL-GROUP-CONFIG-START

-- Configuration of one Cell-Group:
CellGroupConfig ::=                         SEQUENCE {
    cellGroupId                                 CellGroupId,

    rlc-BearerToAddModList                      SEQUENCE (SIZE(1..maxLC-ID)) OF RLC-BearerConfig                OPTIONAL,   -- Need N
    rlc-BearerToReleaseList                     SEQUENCE (SIZE(1..maxLC-ID)) OF LogicalChannelIdentity          OPTIONAL,   -- Need N

    mac-CellGroupConfig                         MAC-CellGroupConfig                                             OPTIONAL,   -- Need M

    physicalCellGroupConfig                     PhysicalCellGroupConfig                                         OPTIONAL,   -- Need M

    spCellConfig                                SpCellConfig                                                    OPTIONAL,   -- Need M
    sCellToAddModList                           SEQUENCE (SIZE (1..maxNrofSCells)) OF SCellConfig               OPTIONAL,   -- Need N
    sCellToReleaseList                          SEQUENCE (SIZE (1..maxNrofSCells)) OF SCellIndex                OPTIONAL,   -- Need N
    ...,
    [[
    reportUplinkTxDirectCurrent-v1530           ENUMERATED {true}                                               OPTIONAL    -- Cond BWP-Reconfig
    ]]
}



-- Serving cell specific MAC and PHY parameters for a SpCell:
SpCellConfig ::=                        SEQUENCE {
    servCellIndex                       ServCellIndex                                                           OPTIONAL,   -- Cond SCG
    reconfigurationWithSync             ReconfigurationWithSync                                                 OPTIONAL,   -- Cond ReconfWithSync
    rlf-TimersAndConstants              SetupRelease { RLF-TimersAndConstants }                                 OPTIONAL,   -- Need M
    rlmInSyncOutOfSyncThreshold         ENUMERATED {n1}                             OPTIONAL,   -- Need S
    spCellConfigDedicated               ServingCellConfig                                                       OPTIONAL,   -- Need M
    ...
}

ReconfigurationWithSync ::=         SEQUENCE {
    spCellConfigCommon                  ServingCellConfigCommon                                                 OPTIONAL,   -- Need M
    newUE-Identity                      RNTI-Value,
    t304                                ENUMERATED {ms50, ms100, ms150, ms200, ms500, ms1000, ms2000, ms10000},
        rach-ConfigDedicated                CHOICE {
            uplink                              RACH-ConfigDedicated,
            supplementaryUplink             RACH-ConfigDedicated
    }                                                                                                           OPTIONAL,   -- Need N
    ...,
    [[
    smtc                                SSB-MTC                                                                 OPTIONAL    -- Need S
    ]]
}

SCellConfig ::=                     SEQUENCE {
    sCellIndex                          SCellIndex,
    sCellConfigCommon                   ServingCellConfigCommon                                                 OPTIONAL,   -- Cond SCellAdd
    sCellConfigDedicated                ServingCellConfig                                                       OPTIONAL,   -- Cond SCellAddMod
    ...,
    [[
    smtc                                SSB-MTC                                                                 OPTIONAL    -- Need S
    ]]
}

-- TAG-CELL-GROUP-CONFIG-STOP
-- ASN1STOP

CellGroupConfig field descriptions
mac-CellGroupConfig
MAC parameters applicable for the entire cell group.
rlc-BearerToAddModList
Configuration of the MAC Logical Channel, the corresponding RLC entities and association with radio bearers.
reportUplinkTxDirectCurrent
Enables reporting of uplink Direct Current location information upon BWP configuration and reconfiguration. This field is only present when the BWP configuration is modified or any serving cell is added or removed.
rlmInSyncOutOfSyncThreshold
BLER threshold pair index for IS/OOS indication generation, see TS 38.133 ([14], Table 8.1.1-1). n1 corresponds to the value 1. When the field is absent, the UE applies the value 0. Whenever this is reconfigured, UE resets N310 and N311, and stops T310, if running. 
sCellToAddModList
List of seconary serving cells (SCells) to be added or modified.
sCellToReleaseList
List of secondary serving cells (SCells) to be released
spCellConfig
Parameters for the SpCell of this cell group (PCell of MCG or PSCell of SCG). 

ReconfigurationWithSync field descriptions
rach-ConfigDedicated
Random access configuration to be used for the reconfiguration with sync (e.g. handover). The UE performs the RA according to these parameters in the firstActiveUplinkBWP (see UplinkConfig).
smtc
The SSB periodicity/offset/duration configuration of target cell for NR PSCell change and intra-NR handover. For case of intra-NR handover, it is based on the timing reference of PCell. For case of NR PSCell change, it is based on the timing reference of PSCell. If the field is absent, the UE uses the SMTC configured in the measObjectNR having the same SSB frequency and subcarrier spacing.

SCellConfig field descriptions
smtc
The SSB periodicity/offset/duration configuration of target cell for NR SCell addition. It is based on the timing reference of SpCell of associated cell group. If the field is absent, the UE uses the SMTC configured in the measObjectNR having the same SSB frequency and subcarrier spacing

SpCellConfig field descriptions
reconfigurationWithSync
Parameters for the synchronous reconfiguration to the target SpCell.
rlf-TimersAndConstants
Timers and constants for detecting and triggering cell-level radio link failure. For the SCG, rlf-TimersAndConstants can only be set to setup and is always included at SCG addition.
servCellIndex
Serving cell ID of a PSCell. The PCell of the Master Cell Group uses ID = 0.

Conditional Presence
Explanation
BWP-Reconfig
The field is optionally present, Need N, if the BWPs are reconfigured or if serving cells are added or removed in the same message. Otherwise it is absent. 
ReconfWithSync
The field is mandatory present in case of SpCell change, PSCell addition, SI update for PSCell and security key change; otherwise it is optionally present, need M.
SCellAdd
The field is mandatory present, need M, upon SCell addition; otherwise it is not present
SCellAddMod
The field is mandatory present upon SCell addition; otherwise it is optionally present, need M.
SCG
The field is mandatory present in an SpCellConfig for the PSCell. It is absent otherwise. 

–	CellGroupId
The IE CellGroupId is used to identify a cell group. 0 identifies the master cell group. Other values identify secondary cell groups. In this version of the specification only values 0 and 1 are supported.
CellGroupId information element
-- ASN1START
-- TAG-CELLGROUPID-START

CellGroupId ::=                             INTEGER (0.. maxSecondaryCellGroups)

-- TAG-CELLGROUPID-STOP
-- ASN1STOP

–	CellIdentity
The IE CellIdentity is used to unambiguously identify a cell within a PLMN.
CellIdentity information element
-- ASN1START

CellIdentity ::=                    BIT STRING (SIZE (36))

-- ASN1STOP

–	CellReselectionPriority
The IE CellReselectionPriority concerns the absolute priority of the concerned carrier frequency, as used by the cell reselection procedure. Corresponds with parameter "priority" in TS 38.304 [21]. Value 0 means: lowest priority. The UE behaviour for the case the field is absent, if applicable, is specified in TS 38.304 [21].
CellReselectionPriority information element
-- ASN1START
-- TAG-CELLRESELECTIONPRIORITY-START

CellReselectionPriority ::=             INTEGER (0..7)

-- TAG-CELLRESELECTIONPRIORITY-STOP
-- ASN1STOP

–	CellReselectionSubPriority
The IE CellReselectionSubPriority indicates a fractional value to be added to the value of cellReselectionPriority to obtain the absolute priority of the concerned carrier frequency for E-UTRA and NR. Value oDot2 corresponds to 0.2, oDot4 corresponds to 0.4 and so on.
CellReselectionSubPriority information element
-- ASN1START

CellReselectionSubPriority ::=          ENUMERATED {oDot2, oDot4, oDot6, oDot8}

-- ASN1STOP

–	CGI-Info
The IE CGI-Info indicates cell access related information, which is reported by the UE as part of report CGI procedure.
CGI-Info information element
-- ASN1START
-- TAG-CGI-Info-START

CGI-Info ::=                    SEQUENCE {
    plmn-IdentityInfoList               PLMN-IdentityInfoList           OPTIONAL,
    frequencyBandList                   MultiFrequencyBandListNR            OPTIONAL,
    noSIB1                              SEQUENCE {
        ssb-SubcarrierOffset                INTEGER (0..15),
        pdcch-ConfigSIB1                    PDCCH-ConfigSIB1
    }                                                                       OPTIONAL,
    ...
}

-- TAG-CGI-Info -STOP
-- ASN1STOP

CGI-Info field descriptions
noSIB1
Contains ssb-SubcarrierOffset and pdcch-ConfigSIB1 fields acquired by the UE from MIB of the cell for which report CGI procedure was requested by the network in case SIB1 was not broadcast by the cell.

–	CodebookConfig
The IE CodebookConfig is used to configure codebooks of Type-I and Type-II (see 38.214, section 5.2.2.2)
CodebookConfig information element
-- ASN1START
-- TAG-CODEBOOKCONFIG-START
CodebookConfig ::=                                  SEQUENCE {
    codebookType                                        CHOICE {
        type1                                               SEQUENCE {
            subType                                     CHOICE {
                typeI-SinglePanel                                   SEQUENCE {
                    nrOfAntennaPorts                                    CHOICE {
                        two                                                 SEQUENCE {
                            twoTX-CodebookSubsetRestriction                     BIT STRING (SIZE (6))
                        },
                        moreThanTwo                                         SEQUENCE {
                            n1-n2                                               CHOICE {
                                two-one-TypeI-SinglePanel-Restriction               BIT STRING (SIZE (8)),
                                two-two-TypeI-SinglePanel-Restriction               BIT STRING (SIZE (64)),
                                four-one-TypeI-SinglePanel-Restriction              BIT STRING (SIZE (16)),
                                three-two-TypeI-SinglePanel-Restriction             BIT STRING (SIZE (96)),
                                six-one-TypeI-SinglePanel-Restriction               BIT STRING (SIZE (24)),
                                four-two-TypeI-SinglePanel-Restriction              BIT STRING (SIZE (128)),
                                eight-one-TypeI-SinglePanel-Restriction             BIT STRING (SIZE (32)),
                                four-three-TypeI-SinglePanel-Restriction            BIT STRING (SIZE (192)),
                                six-two-TypeI-SinglePanel-Restriction               BIT STRING (SIZE (192)),
                                twelve-one-TypeI-SinglePanel-Restriction            BIT STRING (SIZE (48)),
                                four-four-TypeI-SinglePanel-Restriction             BIT STRING (SIZE (256)),
                                eight-two-TypeI-SinglePanel-Restriction             BIT STRING (SIZE (256)),
                                sixteen-one-TypeI-SinglePanel-Restriction           BIT STRING (SIZE (64))
                            },
                            typeI-SinglePanel-codebookSubsetRestriction-i2      BIT STRING (SIZE (16))  OPTIONAL    -- Need R
                        }
                    },
                    typeI-SinglePanel-ri-Restriction                    BIT STRING (SIZE (8))
                },
                typeI-MultiPanel                                    SEQUENCE {
                    ng-n1-n2                                                CHOICE {
                        two-two-one-TypeI-MultiPanel-Restriction                BIT STRING (SIZE (8)),
                        two-four-one-TypeI-MultiPanel-Restriction               BIT STRING (SIZE (16)),
                        four-two-one-TypeI-MultiPanel-Restriction               BIT STRING (SIZE (8)),
                        two-two-two-TypeI-MultiPanel-Restriction                BIT STRING (SIZE (64)),
                        two-eight-one-TypeI-MultiPanel-Restriction              BIT STRING (SIZE (32)),
                        four-four-one-TypeI-MultiPanel-Restriction              BIT STRING (SIZE (16)),
                        two-four-two-TypeI-MultiPanel-Restriction               BIT STRING (SIZE (128)),
                        four-two-two-TypeI-MultiPanel-Restriction               BIT STRING (SIZE (64))
                    },
                    ri-Restriction                          BIT STRING (SIZE (4))
                }
            },
            codebookMode                                        INTEGER (1..2)

        },
        type2                                   SEQUENCE {
            subType                                 CHOICE {
                typeII                                  SEQUENCE {
                    n1-n2-codebookSubsetRestriction         CHOICE {
                        two-one                                 BIT STRING (SIZE (16)),
                        two-two                                 BIT STRING (SIZE (43)),
                        four-one                                BIT STRING (SIZE (32)),
                        three-two                               BIT STRING (SIZE (59)),
                        six-one                                 BIT STRING (SIZE (48)),
                        four-two                                BIT STRING (SIZE (75)),
                        eight-one                               BIT STRING (SIZE (64)),
                        four-three                              BIT STRING (SIZE (107)),
                        six-two                                 BIT STRING (SIZE (107)),
                        twelve-one                              BIT STRING (SIZE (96)),
                        four-four                               BIT STRING (SIZE (139)),
                        eight-two                               BIT STRING (SIZE (139)),
                        sixteen-one                             BIT STRING (SIZE (128))
                    },
                    typeII-RI-Restriction                   BIT STRING (SIZE (2))
                },
                typeII-PortSelection                    SEQUENCE {
                    portSelectionSamplingSize               ENUMERATED {n1, n2, n3, n4}                 OPTIONAL,       -- Need R
                    typeII-PortSelectionRI-Restriction      BIT STRING (SIZE (2))
                }
            },
            phaseAlphabetSize                       ENUMERATED {n4, n8},
            subbandAmplitude                        BOOLEAN,
            numberOfBeams                           ENUMERATED {two, three, four}
        }
    }
}

-- TAG-CODEBOOKCONFIG-STOP
-- ASN1STOP

CodebookConfig field descriptions
codebookMode
CodebookMode as specified in 38.214 section 5.2.2.2.2
codebookType
CodebookType including possibly sub-types and the corresponding parameters for each. Corresponds to L1 parameter 'CodebookType' (see 38.214, section 5.2.2.2)
n1-n2-codebookSubsetRestriction
Number of antenna ports in first (n1) and second (n2) dimension and codebook subset restriction. Corresponds to L1 parameters 'CodebookConfig-N1', 'CodebookConfig-N2' The CHOICE name indicates the value of n1 and n2, the CHOICE contents is the codebook subset restriction bitmap Corresponds to L1 parameter ' TypeII-CodebookSubsetRestriction' (see 38.214 section 5.2.2.2.3)
Number of bits for codebook subset restriction is ceil(log2(nchoosek(O1*O2,4)))+8*n1*n2 where nchoosek(a,b) = a!/(b!(a-b)!)
n1-n2
Number of antenna ports in first (n1) and second (n2) dimension and codebook subset restriction.
Corresponds to L1 parameters 'CodebookConfig-N1', 'CodebookConfig-N2' 'TypeI-SinglePanel-CodebookSubsetRestriction ' (see 38.214 section 5.2.2.2.1)
ng-n1-n2
Codebook subset restriction for Type I Multi-panel codebook Corresponds to L1 parameter 'TypeI-MultiPanel-CodebookSubsetRestriction' (see 38.214, section 5.2.2.2.2)
numberOfBeams
Number of beams, L, used for linear combination
phaseAlphabetSize
The size of the PSK alphabet, QPSK or 8-PSK
portSelectionSamplingSize
The size of the port selection codebook (parameter d)
ri-Restriction
Restriction for RI for TypeI-MultiPanel-RI-Restriction Corresponds to L1 parameter 'TypeI-MultiPanel-RI-Restriction' (see 38.214, section 5.2.2.2.2)
subbandAmplitude
If subband amplitude reporting is activated (true)
twoTX-CodebookSubsetRestriction
Codebook subset restriction for 2TX codebook Corresponds to L1 parameter ' TypeI-SinglePanel-2Tx-CodebookSubsetRestriction' (see 38.214 section 5.2.2.2.1)
typeI-SinglePanel-codebookSubsetRestriction-i2
i2 codebook subset restriction for Type I Single-panel codebook used when reportQuantity is CRI/Ri/i1/CQI Corresponds to L1 parameter 'TypeI-SinglePanel-CodebookSubsetRestriction-i2' (see 38.214 section 5.2.2.2.1)
typeI-SinglePanel-ri-Restriction
Restriction for RI for TypeI-SinglePanel-RI-Restriction Corresponds to L1 parameter 'TypeI-SinglePanel-RI-Restriction' (see 38.214, section 5.2.2.2.1)
typeII-PortSelectionRI-Restriction
Restriction for RI for TypeII-PortSelection-RI-Restriction Corresponds to L1 parameter 'TypeII-PortSelection-RI-Restriction' (see 38.214, section 5.2.2.4)
typeII-RI-Restriction
Restriction for RI for TypeII-RI-Restriction Corresponds to L1 parameter 'TypeII-RI-Restriction' (see 38.214, section 5.2.2.2.3)

–	ConfiguredGrantConfig
The IE ConfiguredGrantConfig is used to configure uplink transmission without dynamic grant according to two possible schemes. The actual uplink grant may either be configured via RRC (type1) or provided via the PDCCH (addressed to CS-RNTI) (type2).
ConfiguredGrantConfig information element
-- ASN1START
-- TAG-CONFIGUREDGRANTCONFIG-START

ConfiguredGrantConfig ::=           SEQUENCE {
    frequencyHopping                        ENUMERATED {intraSlot, interSlot}                                   OPTIONAL,   -- Need S,
    cg-DMRS-Configuration               DMRS-UplinkConfig,
    mcs-Table                           ENUMERATED {qam256, qam64LowSE}                                 OPTIONAL,   -- Need S
    mcs-TableTransformPrecoder          ENUMERATED {qam256, qam64LowSE}                                 OPTIONAL,   -- Need S
    uci-OnPUSCH                         SetupRelease { CG-UCI-OnPUSCH }                                         OPTIONAL,   -- Need M
    resourceAllocation                  ENUMERATED { resourceAllocationType0, resourceAllocationType1, dynamicSwitch },
    rbg-Size                                ENUMERATED {config2}                                            OPTIONAL,   -- Need S
    powerControlLoopToUse               ENUMERATED {n0, n1},
    p0-PUSCH-Alpha                      P0-PUSCH-AlphaSetId,
    transformPrecoder                   ENUMERATED {enabled, disabled}                                          OPTIONAL,   -- Need S
    nrofHARQ-Processes                  INTEGER(1..16),
    repK                                    ENUMERATED {n1, n2, n4, n8},
    repK-RV                             ENUMERATED {s1-0231, s2-0303, s3-0000}                      OPTIONAL,   -- Need R
    periodicity                         ENUMERATED {
                                                sym2, sym7, sym1x14, sym2x14, sym4x14, sym5x14, sym8x14, sym10x14, sym16x14, sym20x14,
                                                sym32x14, sym40x14, sym64x14, sym80x14, sym128x14, sym160x14, sym256x14, sym320x14, sym512x14,
                                                sym640x14, sym1024x14, sym1280x14, sym2560x14, sym5120x14,
                                                sym6, sym1x12, sym2x12, sym4x12, sym5x12, sym8x12, sym10x12, sym16x12, sym20x12, sym32x12,
                                                sym40x12, sym64x12, sym80x12, sym128x12, sym160x12, sym256x12, sym320x12, sym512x12, sym640x12,
                                                sym1280x12, sym2560x12
    },
    configuredGrantTimer                    INTEGER (1..64)                                                 OPTIONAL,   -- Need R
    rrc-ConfiguredUplinkGrant               SEQUENCE {
        timeDomainOffset                            INTEGER (0..5119),
        timeDomainAllocation                        INTEGER  (0..15),
        frequencyDomainAllocation               BIT STRING (SIZE(18)),
        antennaPort                             INTEGER (0..31),
        dmrs-SeqInitialization                  INTEGER (0..1)                                          OPTIONAL,   -- Need R
        precodingAndNumberOfLayers              INTEGER (0..63),
        srs-ResourceIndicator                   INTEGER (0..15)                                             OPTIONAL,   -- Need R
        mcsAndTBS                               INTEGER (0..31),
        frequencyHoppingOffset                  INTEGER (1.. maxNrofPhysicalResourceBlocks-1)           OPTIONAL,   -- Need R
        pathlossReferenceIndex                  INTEGER (0..maxNrofPUSCH-PathlossReferenceRSs-1),
        ...
    }                                                                                                   OPTIONAL,       -- Need R
    ...
}

CG-UCI-OnPUSCH ::= CHOICE {
    dynamic                                 SEQUENCE (SIZE (1..4)) OF BetaOffsets,
    semiStatic                              BetaOffsets
}

-- TAG-CONFIGUREDGRANTCONFIG-STOP
-- ASN1STOP

ConfiguredGrantConfig field descriptions
antennaPort
Indicates the antenna port(s) to be used for this configuration, and the maximum bitwidth is 5. See TS 38.214, section 6.1.2, and TS 38.212, section 7.3.1.
cg-DMRS-Configuration
DMRS configuration, corresponds to L1 parameter 'UL-TWG-DMRS' (see TS 38.214, section 6.1.2).
configuredGrantTimer
Indicates the initial value of the configured grant timer (see TS 38.321,) in number of periodicities. 
dmrs-SeqInitialization
The network configures this field if transformPrecoder is disabled. Otherwise the field is absent.
frequencyDomainAllocation
Indicates the frequency domain resource allocation, see TS 38.214, section 6.1.2, and TS 38.212, section 7.3.1).
frequencyHopping
The value intraSlot enables 'Intra-slot frequency hopping' and the value interSlot enables 'Inter-slot frequency hopping'. If the field is absent, frequency hopping is not configured.
frequencyHoppingOffset
Enables intra-slot frequency hopping with the given frequency hopping offset. Frequency hopping offset used when frequency hopping is enabled. Corresponds to L1 parameter 'Frequency-hopping-offset' (see TS 38.214, section 6.1.2).
mcs-Table
Indicates the MCS table the UE shall use for PUSCH without transform precoding. If the field is absent the UE applies the value 64QAM.
mcs-TableTransformPrecoder
Indicates the MCS table the UE shall use for PUSCH with transform precoding. If the field is absent the UE applies the value 64QAM.
mcsAndTBS
The modulation order, target code rate and TB size (see TS38.214, section 6.1.2). The NW does not configure the values 28~31 in this version of the specification.
nrofHARQ-Processes
The number of HARQ processes configured. It applies for both Type 1 and Type 2. See TS 38.321, section 5.4.1.
p0-PUSCH-Alpha
Index of the P0-PUSCH-AlphaSet to be used for this configuration.
periodicity
Periodicity for UL transmission without UL grant for type 1 and type 2. Corresponds to L1 parameter 'UL-TWG-periodicity' (see TS 38.321, section 5.8.2).
The following periodicities are supported depending on the configured subcarrier spacing [symbols]:
15kHz: 					2, 7, n*14, where n={1, 2, 4, 5, 8, 10, 16, 20, 32, 40, 64, 80, 128, 160, 320, 640}
30kHz: 					2, 7, n*14, where n={1, 2, 4, 5, 8, 10, 16, 20, 32, 40, 64, 80, 128, 160, 256, 320, 640, 1280}
60kHz with normal CP: 	2, 7, n*14, where n={1, 2, 4, 5, 8, 10, 16, 20, 32, 40, 64, 80, 128, 160, 256, 320, 512, 640, 1280, 2560}
60kHz with ECP: 			2, 6, n*12, where n={1, 2, 4, 5, 8, 10, 16, 20, 32, 40, 64, 80, 128, 160, 256, 320, 512, 640, 1280, 2560}
120kHz: 					2, 7, n*14, where n={1, 2, 4, 5, 8, 10, 16, 20, 32, 40, 64, 80, 128, 160, 256, 320, 512, 640, 1024, 1280, 2560, 5120}
(see 38.214, Table 6.1.2.3-1)
powerControlLoopToUse
Closed control loop to apply. Corresponds to L1 parameter 'PUSCH-closed-loop-index' (see TS 38.213, section 7.7.1).
rbg-Size
Selection between configuration 1 and configuration 2 for RBG size for PUSCH. When the field is absent the UE applies the value config1. The NW may only set the field to config2 if resourceAllocation is set to resourceAllocationType0 or dynamicSwitch. Note: rbg-Size is used when the transformPrecoder parameter is disabled.
repK-RV
 The redundancy version (RV) sequence to use. See TS 38.214, section 6.1.2. The network configures this field if repetitions are used, i.e., if repK is set to n2, n4 or n8. Otherwise, the field is absent.
repK
The number or repetitions of K.
resourceAllocation
Configuration of resource allocation type 0 and resource allocation type 1. For Type 1 UL data transmission without grant, "resourceAllocation" should be resourceAllocationType0 or resourceAllocationType1.
rrc-ConfiguredUplinkGrant
Configuration for "configured grant" transmission with fully RRC-configured UL grant (Type1). If this field is absent the UE uses UL grant configured by DCI addressed to CS-RNTI (Type2). Type 1 configured grant may be configured for UL or SUL, but not for both simultaneously.
srs-ResourceIndicator
Indicates the SRS resource to be used. 
timeDomainAllocation
Indicates a combination of start symbol and length and PUSCH mapping type, see TS 38.214, section 6.1.2 and TS 38.212, section 7.3.1.
timeDomainOffset
Offset related to SFN=0, see TS 38.321, section 5.8.2.
transformPrecoder
Enables or disables transform precoding for type1 and type2. If the field is absent, the UE enables or disables transform precoding in accordance with the field msg3-transformPrecoder in RACH-ConfigCommon, see 38.214, section 6.1.3.
uci-OnPUSCH
Selection between and configuration of dynamic and semi-static beta-offset. For Type 1 UL data transmission without grant, uci-OnPUSCH should be set to semiStatic.

–	ConnEstFailureControl
The IE ConnEstFailureControl is used to configure parameters for connection establishment failure control.
ConnEstFailureControl information element
-- ASN1START
-- TAG-CONNESTFAILURECONTROL-START

ConnEstFailureControl ::=   SEQUENCE {
    connEstFailCount                    ENUMERATED {n1, n2, n3, n4},
    connEstFailOffsetValidity           ENUMERATED {s30, s60, s120, s240, s300, s420, s600, s900},
    connEstFailOffset                   INTEGER (0..15)                                                             OPTIONAL    -- Need S
}

-- TAG-CONNESTFAILURECONTROL-STOP
-- ASN1STOP

ConnEstFailureControl field descriptions
connEstFailCount
Number of times that the UE detects T300 expiry on the same cell before applying connEstFailOffset. 
connEstFailOffset
Parameter "Qoffsettemp" in TS 38.304 [4]. If the field is not present the value of infinity shall be used for "Qoffsettemp".
connEstFailOffsetValidity
Amount of time that the UE applies connEstFailOffset before removing the offset from evaluation of the cell. Value s30 corresponds to 30 seconds, s60 corresponds to 60 seconds, and so on.

–	ControlResourceSet
The IE ControlResourceSet is used to configure a time/frequency control resource set (CORESET) in which to search for downlink control information (see 38.213, section FFS_Section).
ControlResourceSet information element
-- ASN1START
-- TAG-CONTROLRESOURCESET-START

ControlResourceSet ::=                  SEQUENCE {
    controlResourceSetId                    ControlResourceSetId,

    frequencyDomainResources                BIT STRING (SIZE (45)),
    duration                                INTEGER (1..maxCoReSetDuration),
    cce-REG-MappingType                     CHOICE {
        interleaved                             SEQUENCE {
            reg-BundleSize                          ENUMERATED {n2, n3, n6},
            interleaverSize                         ENUMERATED {n2, n3, n6},
            shiftIndex                              INTEGER(0..maxNrofPhysicalResourceBlocks-1)                      OPTIONAL   -- Need S
        },
        nonInterleaved                          NULL
    },
    precoderGranularity                     ENUMERATED {sameAsREG-bundle, allContiguousRBs},
    tci-StatesPDCCH-ToAddList                   SEQUENCE(SIZE (1..maxNrofTCI-StatesPDCCH)) OF TCI-StateId               OPTIONAL,   -- Need N
    tci-StatesPDCCH-ToReleaseList           SEQUENCE(SIZE (1..maxNrofTCI-StatesPDCCH)) OF TCI-StateId               OPTIONAL,   -- Need N
tci-PresentInDCI                        ENUMERATED {enabled}                                                    OPTIONAL,   -- Need S
    pdcch-DMRS-ScramblingID                 INTEGER (0..65535)                                                  OPTIONAL,   -- Need S
    ...
}

-- TAG-CONTROLRESOURCESET-STOP
-- ASN1STOP

ControlResourceSet field descriptions
cce-REG-MappingType
Mapping of Control Channel Elements (CCE) to Resource Element Groups (REG). Corresponds to L1 parameter 'CORESET-CCE-REG-mapping-type' (see 38.211Section sections 7.3.2.2 and 7.4.1.3.2).
controlResourceSetId
Corresponds to L1 parameter 'CORESET-ID'. Value 0 identifies the common CORESET configured in MIB and in ServingCellConfigCommon (controlResourceSetZero) and is hence not used here in the ControlResourceSet IE. Values 1..maxNrofControlResourceSets-1 identify CORESETs configured by dedicated signalling or in SIB1. The controlResourceSetId is unique among the BWPs of a ServingCell.
duration
Contiguous time duration of the CORESET in number of symbols. Corresponds to L1 parameter 'CORESET-time-duration' (see 38.211, section 7.3.2.2FFS_Section)
frequencyDomainResources
Frequency domain resources for the CORESET. Each bit corresponds a group of 6 RBs, with grouping starting from the first RB group (see 38.213, section 10.1) in the BWP. The first (left-most / most significant) bit corresponds to the first RB group in the BWP, and so on. A bit that is set to 1 indicates that this RB group belongs to the frequency domain resource of this CORESET. Bits corresponding to a group of RBs not fully contained in the bandwidth part within which the CORESET is configured are set to zero. Corresponds to L1 parameter 'CORESET-freq-dom' (see 38.211, section 7.3.2.2).
interleaverSize
Corresponds to L1 parameter 'CORESET-interleaver-size' (see 38.211, 38.213, section FFS_Section).
pdcch-DMRS-ScramblingID
PDCCH DMRS scrambling initialization. Corresponds to L1 parameter 'PDCCH-DMRS-Scrambling-ID' (see 38.211, section 7.4.1). When the field is absent the UE applies the value of the physCellId configured for this serving cell.
precoderGranularity
Precoder granularity in frequency domain. Corresponds to L1 parameter 'CORESET-precoder-granuality' (see 38.211, sections 7.3.2.2 and 7.4.1.3.2).
reg-BundleSize
Resource Element Groups (REGs) can be bundled to create REG bundles. This parameter defines the size of such bundles. Corresponds to L1 parameter 'CORESET-REG-bundle-size' (see 38.211, section FFS_Section).
shiftIndex
Corresponds to L1 parameter 'CORESET-shift-index'. When the field is absent the UE applies the value of the physCellIdconfigured for this serving cell (see 38.211, section 7.3.2.2).
tci-PresentInDCI
If at least spatial QCL is configured/indicated, this field indicates if TCI field is present or not present in DL-related DCI. When the field is absent the UE considers the TCI to be absent/disabled. Corresponds to L1 parameter 'TCI-PresentInDCI' (see 38.214, section 5.1.5).
tci-StatesPDCCH-ToAddList, tci-StatesPDCCH-ToReleaseList
A subset of the TCI states defined in pdsch-Config. They are used for providing QCL relationships between the DL RS(s) in one RS Set (TCI-State) and the PDCCH DMRS ports. Corresponds to L1 parameter 'TCI-StatesPDCCH' (see 38.213, section10.). The network configures at most maxNrofTCI-StatesPDCCH entries.

–	ControlResourceSetId
The ControlResourceSetId IE concerns a short identity, used to identify a control resource set within a serving cell. The ControlResourceSetId = 0 identifies the ControlResourceSet#0 configured via PBCH (MIB) and in controlResourceSetZero (ServingCellConfigCommon). The ID space is used across the BWPs of a Serving Cell. The number of CORESETs per BWP is limited to 3 (including common and UE-specific CORESETs).
ControlResourceSetId information element
-- ASN1START
-- TAG-CONTROL-RESOURCE-SET-ID-START

ControlResourceSetId ::=                INTEGER (0..maxNrofControlResourceSets-1)

-- TAG-CONTROL-RESOURCE-SET-ID-STOP
-- ASN1STOP

–	ControlResourceSetZero
The IE ControlResourceSetZero is used to configure CORESET#0 of the initial BWP (see TS 38.213 [13], section 13).
ControlResourceSetZero information element
-- ASN1START
-- TAG-CONTROLRESOURCESETZERO-START

ControlResourceSetZero ::=                  INTEGER (0..15)

-- TAG-CONTROLRESOURCESETZERO-STOP
-- ASN1STOP

–	CrossCarrierSchedulingConfig
The IE CrossCarrierSchedulingConfig is used to specify the configuration when the cross-carrier scheduling is used in a cell.
CrossCarrierSchedulingConfig information elements
-- ASN1START

CrossCarrierSchedulingConfig ::=        SEQUENCE {
    schedulingCellInfo                      CHOICE {
        own                                     SEQUENCE {                  -- No cross carrier scheduling
            cif-Presence                            BOOLEAN
        },
        other                                   SEQUENCE {                  -- Cross carrier scheduling
            schedulingCellId                        ServCellIndex,
            cif-InSchedulingCell                    INTEGER (1..7)
        }
    },
    ...
}

-- ASN1STOP

CrossCarrierSchedulingConfig field descriptions
cif-Presence
The field is used to indicate whether carrier indicator field is present (value TRUE) or not (value FALSE) in PDCCH DCI formats, see TS 38.213. 
cif-InSchedulingCell
The field indicates the CIF value used in the scheduling cell to indicate a grant or assignment applicable for this cell, see TS 38.213 [REF, SECTION]. If cif-Presence is set to true, the CIF value indicating a grant or assignment for this cell is 0.
other
Parameters for cross-carrier scheduling, i.e., a serving cell is scheduled by a PDCCH on another (scheduling) cell. The network configures this field only for SCells.
own
Parameters for self-scheduling, i.e., a serving cell is scheduled by its own PDCCH.
schedulingCellId
Indicates which cell signals the downlink allocations and uplink grants, if applicable, for the concerned SCell. In case the UE is configured with DC, the scheduling cell is part of the same cell group (i.e. MCG or SCG) as the scheduled cell.

–	CSI-AperiodicTriggerStateList
The CSI-AperiodicTriggerStateList IE is used to configure the UE with a list of aperiodic trigger states. Each codepoint of the DCI field "CSI request" is associated with one trigger state. Upon reception of the value associated with a trigger state, the UE will perform measurement of CSI-RS (reference signals) and aperiodic reporting on L1 according to all entries in the associatedReportConfigInfoList for that trigger state.
CSI-AperiodicTriggerStateList information element
-- ASN1START
-- TAG-CSI-APERIODICTRIGGERSTATELIST-START

CSI-AperiodicTriggerStateList ::=   SEQUENCE (SIZE (1..maxNrOfCSI-AperiodicTriggers)) OF CSI-AperiodicTriggerState

CSI-AperiodicTriggerState ::=       SEQUENCE {
    associatedReportConfigInfoList      SEQUENCE (SIZE(1..maxNrofReportConfigPerAperiodicTrigger)) OF CSI-AssociatedReportConfigInfo,
    ...
}

CSI-AssociatedReportConfigInfo ::=      SEQUENCE {
    reportConfigId                      CSI-ReportConfigId,
    resourcesForChannel                 CHOICE {
        nzp-CSI-RS                          SEQUENCE {
            resourceSet                         INTEGER (1..maxNrofNZP-CSI-RS-ResourceSetsPerConfig),
            qcl-info                            SEQUENCE (SIZE(1..maxNrofAP-CSI-RS-ResourcesPerSet)) OF TCI-StateId OPTIONAL        -- Cond Aperiodic
        },
        csi-SSB-ResourceSet                 INTEGER (1..maxNrofCSI-SSB-ResourceSetsPerConfig)
    },
    csi-IM-ResourcesForInterference     INTEGER(1..maxNrofCSI-IM-ResourceSetsPerConfig)         OPTIONAL, -- Cond CSI-IM-ForInterference
    nzp-CSI-RS-ResourcesForInterference INTEGER (1..maxNrofNZP-CSI-RS-ResourceSetsPerConfig)        OPTIONAL, -- Cond NZP-CSI-RS-ForInterference
    ...
}

-- TAG-CSI-APERIODICTRIGGERSTATELIST-STOP
-- ASN1STOP

CSI-AssociatedReportConfigInfo field descriptions
csi-IM-ResourcesForInterference
CSI-IM-ResourceSet for interference measurement. Entry number in csi-IM-ResourceSetList in the CSI-ResourceConfig indicated by csi-IM-ResourcesForInterference in the CSI-ReportConfig indicated by reportConfigId above (1 corresponds to the first entry, 2 to the second entry, and so on). The indicated CSI-IM-ResourceSet should have exactly the same number of resources like the NZP-CSI-RS-ResourceSet indicated in nzp-CSI-RS-ResourcesforChannel. 
csi-SSB-ResourceSet
CSI-SSB-ResourceSet for channel measurements. Entry number in csi-SSB-ResourceSetList in the CSI-ResourceConfig indicated by resourcesForChannelMeasurement in the CSI-ReportConfig indicated by reportConfigId above (1 corresponds to the first entry, 2 to the second entry, and so on).
nzp-CSI-RS-ResourcesForInterference
NZP-CSI-RS-ResourceSet for interference measurement. Entry number in nzp-CSI-RS-ResourceSetList in the CSI-ResourceConfig indicated by nzp-CSI-RS-ResourcesForInterference in the CSI-ReportConfig indicated by reportConfigId above (1 corresponds to the first entry, 2 to the second entry, and so on). 
qcl-info
List of references to TCI-States for providing the QCL source and QCL type for each NZP-CSI-RS-Resource listed in nzp-CSI-RS-Resources of the NZP-CSI-RS-ResourceSet indicated by nzp-CSI-RS-ResourcesforChannel. Each TCI-StateId refers to the TCI-State which has this value for tci-StateId and is defined in tci-StatesToAddModList in the PDSCH-Config included in the BWP-Downlink corresponding to the serving cell and to the DL BWP to which the resourcesForChannelMeasurement (in the CSI-ReportConfig indicated by reportConfigId above) belong to. First entry in qcl-info-forChannel corresponds to first entry in nzp-CSI-RS-Resources of that NZP-CSI-RS-ResourceSet, second entry in qcl-info-forChannel corresponds to second entry in nzp-CSI-RS-Resources, and so on. Corresponds to L1 parameter 'QCL-Info-aPeriodicReportingTrigger' (see 38.214, section 5.2.1.5.1)
reportConfigId
The reportConfigId of one of the CSI-ReportConfigToAddMod configured in CSI-MeasConfig
resourceSet
NZP-CSI-RS-ResourceSet for channel measurements. Entry number in nzp-CSI-RS-ResourceSetList in the CSI-ResourceConfig indicated by resourcesForChannelMeasurement in the CSI-ReportConfig indicated by reportConfigId above (1 corresponds to the first entry, 2 to thesecond entry, and so on).

Conditional Presence
Explanation
Aperiodic
The field is mandatory present if the NZP-CSI-RS-Resources in the associated resourceSet have the resourceType aperiodic. The field is absent otherwise.
CSI-IM-ForInterference
This field is optional need M if the CSI-ReportConfig identified by reportConfigId is configured with csi-IM-ResourcesForInterference; otherwise it is absent.
NZP-CSI-RS-ForInterference
This field is optional need M if the CSI-ReportConfig identified by reportConfigId is configured with nzp-CSI-RS-ResourcesForInterference; otherwise it is absent.

–	CSI-FrequencyOccupation
The IE CSI-FrequencyOccupation is used to configure the frequency domain occupation of a channel state information measurement resource (e.g. NZP-CSI-RS-Resource, CSI-IM-Resource).
CSI-FrequencyOccupation information element
-- ASN1START
-- TAG-CSI-FREQUENCYOCCUPATION-START

CSI-FrequencyOccupation ::=         SEQUENCE {
    startingRB                          INTEGER (0..maxNrofPhysicalResourceBlocks-1),
    nrofRBs                             INTEGER (24..maxNrofPhysicalResourceBlocksPlus1),
    ...
}

-- TAG-CSI-FREQUENCYOCCUPATION-STOP
-- ASN1STOP

CSI-FrequencyOccupation field descriptions
nrofRBs
Number of PRBs across which this CSI resource spans. Only multiples of 4 are allowed. The smallest configurable number is the minimum of 24 and the width of the associated BWP. If the configured value is larger than the width of the corresponding BWP, the UE shall assume that the actual CSI-RS bandwidth is equal to the width of the BWP.
startingRB
PRB where this CSI resource starts in relation to common resource block #0 (CRB#0) on the common resource block grid. Only multiples of 4 are allowed (0, 4, ...)

–	CSI-IM-Resource
The IE CSI-IM-Resource is used to configure one CSI Interference Management (IM) resource.
CSI-IM-Resource information element
-- ASN1START
-- TAG-CSI-IM-RESOURCE-START

CSI-IM-Resource ::=                 SEQUENCE {
    csi-IM-ResourceId                   CSI-IM-ResourceId,
    csi-IM-ResourceElementPattern           CHOICE {
        pattern0                                SEQUENCE {
            subcarrierLocation-p0                   ENUMERATED { s0, s2, s4, s6, s8, s10 },
            symbolLocation-p0                       INTEGER (0..12)
        },
        pattern1                                SEQUENCE {
            subcarrierLocation-p1                   ENUMERATED { s0, s4, s8 },
            symbolLocation-p1                       INTEGER (0..13)
        }
    }                                                                                                   OPTIONAL,   -- Need M
    freqBand                            CSI-FrequencyOccupation                                         OPTIONAL,   -- Need M
    periodicityAndOffset                CSI-ResourcePeriodicityAndOffset                                OPTIONAL,   -- Cond PeriodicOrSemiPersistent
    ...
}

-- TAG-CSI-IM-RESOURCE-STOP
-- ASN1STOP

CSI-IM-Resource field descriptions
csi-IM-ResourceElementPattern
The resource element pattern (Pattern0 (2,2) or Pattern1 (4,1)) with corresponding parameters.
Corresponds to L1 parameter 'CSI-IM-RE-pattern' (see 38.214, section 5.2.2.3.4)
freqBand
Frequency-occupancy of CSI-IM. Corresponds to L1 parameter 'CSI-IM-FreqBand' (see 38.214, section 5.2.2.3.2)
periodicityAndOffset
Periodicity and slot offset for periodic/semi-persistent CSI-IM. Corresponds to L1 parameter 'CSI-IM-timeConfig'
subcarrierLocation-p0
OFDM subcarrier occupancy of the CSI-IM resource for Pattern0. Corresponds to L1 parameter 'CSI-IM-ResourceMapping' (see 38.214, section 5.2.2.3.4)
subcarrierLocation-p1
OFDM subcarrier occupancy of the CSI-IM resource for Pattern1. Corresponds to L1 parameter 'CSI-IM-ResourceMapping' (see 38.214, section 5.2.2.3.4)
symbolLocation-p0
OFDM symbol location of the CSI-IM resource for Pattern0. Corresponds to L1 parameter 'CSI-IM-ResourceMapping' (see 38.214, section 5.2.2.3.4)
symbolLocation-p1
OFDM symbol location of the CSI-IM resource for Pattern1. Corresponds to L1 parameter 'CSI-IM-ResourceMapping' (see 38.214, section 5.2.2.3.4)

Conditional Presence
Explanation
PeriodicOrSemiPersistent
The field is mandatory present, Need M, for periodic and semi-persistent CSI-IM-Resources (as indicated in CSI-ResourceConfig). The field is absent otherwise.

–	CSI-IM-ResourceId
The IE CSI-IM-ResourceId is used to identify one CSI-IM-Resource.
CSI-IM-ResourceId information element
-- ASN1START
-- TAG-CSI-IM-RESOURCEID-START

CSI-IM-ResourceId ::=               INTEGER (0..maxNrofCSI-IM-Resources-1)

-- TAG-CSI-IM-RESOURCEID-STOP
-- ASN1STOP

–	CSI-IM-ResourceSet
The IE CSI-IM-ResourceSet is used to configure a set of one or more CSI Interference Management (IM) resources (their IDs) and set-specific parameters.
CSI-IM-ResourceSet information element
-- ASN1START
-- TAG-CSI-IM-RESOURCESET-START

CSI-IM-ResourceSet ::=              SEQUENCE {
    csi-IM-ResourceSetId                CSI-IM-ResourceSetId,
    csi-IM-Resources                    SEQUENCE (SIZE(1..maxNrofCSI-IM-ResourcesPerSet)) OF CSI-IM-ResourceId,
    ...
}
-- TAG-CSI-IM-RESOURCESET-STOP
-- ASN1STOP

CSI-IM-ResourceSet field descriptions
csi-IM-Resources
CSI-IM-Resources associated with this CSI-IM-ResourceSet. Corresponds to L1 parameter 'CSI-IM-ResourceConfigList' (see 38.214, section 5.2)

–	CSI-IM-ResourceSetId
The IE CSI-IM-ResourceSetId is used to identify CSI-IM-ResourceSets.
CSI-IM-ResourceSetId information element
-- ASN1START
-- TAG-CSI-IM-RESOURCESETID-START

CSI-IM-ResourceSetId ::=            INTEGER (0..maxNrofCSI-IM-ResourceSets-1)

-- TAG-CSI-IM-RESOURCESETID-STOP
-- ASN1STOP

–	CSI-MeasConfig
The CSI-MeasConfig IE is used to configure CSI-RS (reference signals) belonging to the serving cell in which CSI-MeasConfig is included, channel state information reports to be transmitted on PUCCH on the serving cell in which CSI-MeasConfig is included and channel state information reports on PUSCH triggered by DCI received on the serving cell in which CSI-MeasConfig is included. See also 38.214, section 5.2.
CSI-MeasConfig information element
-- ASN1START
-- TAG-CSI-MEAS-CONFIG-START

CSI-MeasConfig ::=                  SEQUENCE {
    nzp-CSI-RS-ResourceToAddModList     SEQUENCE (SIZE (1..maxNrofNZP-CSI-RS-Resources)) OF NZP-CSI-RS-Resource                 OPTIONAL, -- Need N
    nzp-CSI-RS-ResourceToReleaseList    SEQUENCE (SIZE (1..maxNrofNZP-CSI-RS-Resources)) OF NZP-CSI-RS-ResourceId               OPTIONAL, -- Need N
    nzp-CSI-RS-ResourceSetToAddModList  SEQUENCE (SIZE (1..maxNrofNZP-CSI-RS-ResourceSets)) OF NZP-CSI-RS-ResourceSet           OPTIONAL, -- Need N
    nzp-CSI-RS-ResourceSetToReleaseList SEQUENCE (SIZE (1..maxNrofNZP-CSI-RS-ResourceSets)) OF NZP-CSI-RS-ResourceSetId         OPTIONAL, -- Need N
    csi-IM-ResourceToAddModList         SEQUENCE (SIZE (1..maxNrofCSI-IM-Resources)) OF CSI-IM-Resource                         OPTIONAL, -- Need N
    csi-IM-ResourceToReleaseList        SEQUENCE (SIZE (1..maxNrofCSI-IM-Resources)) OF CSI-IM-ResourceId                       OPTIONAL, -- Need N
    csi-IM-ResourceSetToAddModList      SEQUENCE (SIZE (1..maxNrofCSI-IM-ResourceSets)) OF CSI-IM-ResourceSet                   OPTIONAL, -- Need N
    csi-IM-ResourceSetToReleaseList     SEQUENCE (SIZE (1..maxNrofCSI-IM-ResourceSets)) OF CSI-IM-ResourceSetId                 OPTIONAL, -- Need N
    csi-SSB-ResourceSetToAddModList     SEQUENCE (SIZE (1..maxNrofCSI-SSB-ResourceSets)) OF CSI-SSB-ResourceSet                 OPTIONAL, -- Need N
    csi-SSB-ResourceSetToAddReleaseList SEQUENCE (SIZE (1..maxNrofCSI-SSB-ResourceSets)) OF CSI-SSB-ResourceSetId               OPTIONAL, -- Need N
    csi-ResourceConfigToAddModList      SEQUENCE (SIZE (1..maxNrofCSI-ResourceConfigurations)) OF CSI-ResourceConfig            OPTIONAL,-- Need N
    csi-ResourceConfigToReleaseList     SEQUENCE (SIZE (1..maxNrofCSI-ResourceConfigurations)) OF CSI-ResourceConfigId          OPTIONAL,-- Need N
    csi-ReportConfigToAddModList        SEQUENCE (SIZE (1..maxNrofCSI-ReportConfigurations)) OF CSI-ReportConfig                OPTIONAL,-- Need N
    csi-ReportConfigToReleaseList       SEQUENCE (SIZE (1..maxNrofCSI-ReportConfigurations)) OF CSI-ReportConfigId              OPTIONAL,-- Need N

    reportTriggerSize                   INTEGER (0..6)                                                                          OPTIONAL, -- Need M
    aperiodicTriggerStateList           SetupRelease { CSI-AperiodicTriggerStateList }                                          OPTIONAL, -- Need M
    semiPersistentOnPUSCH-TriggerStateList          SetupRelease { CSI-SemiPersistentOnPUSCH-TriggerStateList }                 OPTIONAL, -- Need M
    ...
}

-- TAG-CSI-MEAS-CONFIG-STOP
-- ASN1STOP

CSI-MeasConfig field descriptions
aperiodicTriggerStateList
Contains trigger states for dynamically selecting one or more aperiodic and semi-persistent reporting configurations and/or triggering one or more aperiodic CSI-RS resource sets for channel and/or interference measurement. FFS: How to address the MAC-CE configuration
csi-IM-ResourceSetToAddModList
Pool of CSI-IM-ResourceSet which can be referred to from CSI-ResourceConfig or from MAC CEs
csi-IM-ResourceToAddModList
Pool of CSI-IM-Resource which can be referred to from CSI-IM-ResourceSet
csi-ReportConfigToAddModList
Configured CSI report settings as specified in TS 38.214 section 5.2.1.1
csi-ResourceConfigToAddModList
Configured CSI resource settings as specified in TS 38.214 section 5.2.1.2
csi-SSB-ResourceSetToAddModList
Pool of CSI-SSB-ResourceSet which can be referred to from CSI-ResourceConfig
nzp-CSI-RS-ResourceSetToAddModList
Pool of NZP-CSI-RS-ResourceSet which can be referred to from CSI-ResourceConfig or from MAC CEs
nzp-CSI-RS-ResourceToAddModList
Pool of NZP-CSI-RS-Resource which can be referred to from NZP-CSI-RS-ResourceSet
reportTriggerSize
Size of CSI request field in DCI (bits). Corresponds to L1 parameter 'ReportTriggerSize' (see 38.214, section 5.2)

–	CSI-ReportConfig
The IE CSI-ReportConfig is used to configure a periodic or semi-persistent report sent on PUCCH on the cell in which the CSI-ReportConfig is included, or to configure a semi-persistent or aperiodic report sent on PUSCH triggered by DCI received on the cell in which the CSI-ReportConfig is included (in this case, the cell on which the report is sent is determined by the received DCI). See 38.214, section 5.2.1.
CSI-ReportConfig information element
-- ASN1START
-- TAG-CSI-REPORTCONFIG-START

CSI-ReportConfig ::=                SEQUENCE {
    reportConfigId                          CSI-ReportConfigId,
    carrier                                 ServCellIndex                   OPTIONAL,   -- Need S
    resourcesForChannelMeasurement          CSI-ResourceConfigId,
    csi-IM-ResourcesForInterference         CSI-ResourceConfigId        OPTIONAL,   -- Need R
    nzp-CSI-RS-ResourcesForInterference     CSI-ResourceConfigId        OPTIONAL,   -- Need R
    reportConfigType                        CHOICE {
        periodic                                SEQUENCE {
            reportSlotConfig                        CSI-ReportPeriodicityAndOffset,
            pucch-CSI-ResourceList                  SEQUENCE (SIZE (1..maxNrofBWPs)) OF PUCCH-CSI-Resource
        },
        semiPersistentOnPUCCH                   SEQUENCE {
            reportSlotConfig                        CSI-ReportPeriodicityAndOffset,
            pucch-CSI-ResourceList                  SEQUENCE (SIZE (1..maxNrofBWPs)) OF PUCCH-CSI-Resource
        },
        semiPersistentOnPUSCH                   SEQUENCE {
            reportSlotConfig                        ENUMERATED {sl5, sl10, sl20, sl40, sl80, sl160, sl320},
            reportSlotOffsetList                SEQUENCE (SIZE (1.. maxNrofUL-Allocations)) OF INTEGER(0..32),
            p0alpha                                 P0-PUSCH-AlphaSetId
        },
        aperiodic                               SEQUENCE {
            reportSlotOffsetList                SEQUENCE (SIZE (1..maxNrofUL-Allocations)) OF INTEGER(0..32)
        }
    },
    reportQuantity                          CHOICE {
        none                                    NULL,
        cri-RI-PMI-CQI                          NULL,
        cri-RI-i1                               NULL,
        cri-RI-i1-CQI                           SEQUENCE {
            pdsch-BundleSizeForCSI                  ENUMERATED {n2, n4}     OPTIONAL    -- Need S
        },
        cri-RI-CQI                              NULL,
        cri-RSRP                                NULL,
        ssb-Index-RSRP                          NULL,
        cri-RI-LI-PMI-CQI                       NULL
    },
    reportFreqConfiguration                 SEQUENCE {
        cqi-FormatIndicator                     ENUMERATED { widebandCQI, subbandCQI }                                      OPTIONAL,   -- Need R
        pmi-FormatIndicator                     ENUMERATED { widebandPMI, subbandPMI }                                      OPTIONAL,   -- Need R
        csi-ReportingBand                       CHOICE {
            subbands3                               BIT STRING(SIZE(3)),
            subbands4                               BIT STRING(SIZE(4)),
            subbands5                               BIT STRING(SIZE(5)),
            subbands6                               BIT STRING(SIZE(6)),
            subbands7                               BIT STRING(SIZE(7)),
            subbands8                               BIT STRING(SIZE(8)),
            subbands9                               BIT STRING(SIZE(9)),
            subbands10                              BIT STRING(SIZE(10)),
            subbands11                              BIT STRING(SIZE(11)),
            subbands12                              BIT STRING(SIZE(12)),
            subbands13                              BIT STRING(SIZE(13)),
            subbands14                              BIT STRING(SIZE(14)),
            subbands15                              BIT STRING(SIZE(15)),
            subbands16                              BIT STRING(SIZE(16)),
            subbands17                              BIT STRING(SIZE(17)),
            subbands18                              BIT STRING(SIZE(18)),
            ...,
            subbands19-v1530                        BIT STRING(SIZE(19))
        }   OPTIONAL    -- Need S

    }                                                                                                                       OPTIONAL,   -- Need R
    timeRestrictionForChannelMeasurements               ENUMERATED {configured, notConfigured},
    timeRestrictionForInterferenceMeasurements          ENUMERATED {configured, notConfigured},
    codebookConfig                              CodebookConfig                                                              OPTIONAL,   -- Need R
    nrofCQIsPerReport                           ENUMERATED {n1, n2}                                                         OPTIONAL,   -- Need R
    groupBasedBeamReporting                     CHOICE {
        enabled                                     NULL,
        disabled                                    SEQUENCE {
            nrofReportedRS                          ENUMERATED {n1, n2, n3, n4}                                         OPTIONAL    -- Need S
        }
    },
    cqi-Table                               ENUMERATED {table1, table2, table3, spare1}                                 OPTIONAL,   -- Need R
    subbandSize                             ENUMERATED {value1, value2},
    non-PMI-PortIndication                  SEQUENCE (SIZE (1..maxNrofNZP-CSI-RS-ResourcesPerConfig)) OF PortIndexFor8Ranks OPTIONAL,   -- Need R
    ...,
    [[
    semiPersistentOnPUSCH-v1530         SEQUENCE {
        reportSlotConfig-v1530              ENUMERATED {sl4, sl8, sl16}
    }                                                                                                                       OPTIONAL    -- Need R
    ]]
}

CSI-ReportPeriodicityAndOffset ::=  CHOICE {
    slots4                              INTEGER(0..3),
    slots5                              INTEGER(0..4),
    slots8                              INTEGER(0..7),
    slots10                             INTEGER(0..9),
    slots16                             INTEGER(0..15),
    slots20                             INTEGER(0..19),
    slots40                             INTEGER(0..39),
    slots80                             INTEGER(0..79),
    slots160                            INTEGER(0..159),
    slots320                            INTEGER(0..319)
}

PUCCH-CSI-Resource ::=              SEQUENCE {
    uplinkBandwidthPartId               BWP-Id,
    pucch-Resource                      PUCCH-ResourceId
}

PortIndexFor8Ranks ::=              CHOICE {
    portIndex8                          SEQUENCE{
        rank1-8                             PortIndex8                                                          OPTIONAL,   -- Need R
        rank2-8                             SEQUENCE(SIZE(2)) OF PortIndex8                                 OPTIONAL,   -- Need R
        rank3-8                             SEQUENCE(SIZE(3)) OF PortIndex8                                 OPTIONAL,   -- Need R
        rank4-8                             SEQUENCE(SIZE(4)) OF PortIndex8                                 OPTIONAL,   -- Need R
        rank5-8                             SEQUENCE(SIZE(5)) OF PortIndex8                                 OPTIONAL,   -- Need R
        rank6-8                             SEQUENCE(SIZE(6)) OF PortIndex8                                 OPTIONAL,   -- Need R
        rank7-8                             SEQUENCE(SIZE(7)) OF PortIndex8                                 OPTIONAL,   -- Need R
        rank8-8                             SEQUENCE(SIZE(8)) OF PortIndex8                                 OPTIONAL    -- Need R
    },
    portIndex4                          SEQUENCE{
        rank1-4                             PortIndex4                                                          OPTIONAL,   -- Need R
        rank2-4                             SEQUENCE(SIZE(2)) OF PortIndex4                                 OPTIONAL,   -- Need R
        rank3-4                             SEQUENCE(SIZE(3)) OF PortIndex4                                 OPTIONAL,   -- Need R
        rank4-4                             SEQUENCE(SIZE(4)) OF PortIndex4                                 OPTIONAL    -- Need R
    },
    portIndex2                          SEQUENCE{
        rank1-2                             PortIndex2                                                          OPTIONAL,   -- Need R
        rank2-2                             SEQUENCE(SIZE(2)) OF PortIndex2                                 OPTIONAL    -- Need R
    },
    portIndex1                          NULL
}

PortIndex8::=                       INTEGER (0..7)
PortIndex4::=                       INTEGER (0..3)
PortIndex2::=                       INTEGER (0..1)

-- TAG-CSI-REPORTCONFIG-STOP
-- ASN1STOP

CSI-ReportConfig field descriptions
carrier
Indicates in which serving cell the CSI-ResourceConfig indicated below are to be found. If the field is absent, the resources are on the same serving cell as this report configuration.
codebookConfig
Codebook configuration for Type-1 or Type-II including codebook subset restriction
cqi-FormatIndicator
Indicates whether the UE shall report a single (wideband) or multiple (subband) CQI. (see 38.214, section 5.2.1.4)
cqi-Table
Which CQI table to use for CQI calculation. Corresponds to L1 parameter 'CQI-table' (see 38.214, section 5.2.2.1)
csi-IM-ResourcesForInterference
CSI IM resources for interference measurement. csi-ResourceConfigId of a CSI-ResourceConfig included in the configuration of the serving cell indicated with the field "carrier" above. The CSI-ResourceConfig indicated here contains only CSI-IM resources. The bwp-Id in that CSI-ResourceConfig is the same value as the bwp-Id in the CSI-ResourceConfig indicated by resourcesForChannelMeasurement.
csi-ReportingBand
Indicates a contiguous or non-contiguous subset of subbands in the bandwidth part which CSI shall be reported for. Each bit in the bit-string represents one subband. The right-most bit in the bit string represents the lowest subband in the BWP. The choice determines the number of subbands (subbands3 for 3 subbands, subbands4 for 4 subbands, and so on) (see 38.214, section 5.2.1.4). This field is absent if there are less than 24 PRBs (no sub band) and present otherwise, the number of sub bands can be from 3 (24 PRBs, sub band size 8) to 18 (72 PRBs, sub band size 4).
groupBasedBeamReporting
Turning on/off group beam based reporting (see 38.214, section 5.2.1.4)
non-PMI-PortIndication
Port indication for RI/CQI calculation. For each CSI-RS resource in the linked ResourceConfig for channel measurement, a port indication for each rank R, indicating which R ports to use. Applicable only for non-PMI feedback. Corresponds to L1 parameter 'Non-PMI-PortIndication' (see 38.214, section FFS_Section).

The first entry in non-PMI-PortIndication corresponds to the NZP-CSI-RS-Resource indicated by the first entry in nzp-CSI-RS-Resources in the NZP-CSI-RS-ResourceSet indicated in the first entry of nzp-CSI-RS-ResourceSetList of the CSI-ResourceConfig whose CSI-ResourceConfigId is indicated in a CSI-MeasId together with the above CSI-ReportConfigId; the second entry in non-PMI-PortIndication corresponds to the NZP-CSI-RS-Resource indicated by the second entry in nzp-CSI-RS-Resources in the NZP-CSI-RS-ResourceSet indicated in the first entry of nzp-CSI-RS-ResourceSetList of the same CSI-ResourceConfig, and so on until the NZP-CSI-RS-Resource indicated by the last entry in nzp-CSI-RS-Resources in the in the NZP-CSI-RS-ResourceSet indicated in the first entry of nzp-CSI-RS-ResourceSetList of the same CSI-ResourceConfig. Then the next entry corresponds to the NZP-CSI-RS-Resource indicated by the first entry in nzp-CSI-RS-Resources in the NZP-CSI-RS-ResourceSet indicated in the second entry of nzp-CSI-RS-ResourceSetList of the same CSI-ResourceConfig and so on.
nrofCQIsPerReport
Maximum number of CQIs per CSI report (cf. 1 for 1-CW, 2 for 2-CW)
nrofReportedRS
The number (N) of measured RS resources to be reported per report setting in a non-group-based report. N <= N_max, where N_max is either 2 or 4 depending on UE capability. FFS: The signaling mechanism for the gNB to select a subset of N beams for the UE to measure and report.
FFS: Note: this parameter may not be needed for certain resource and/or report settings
FFS_ASN1: Change groupBasedBeamReporting into a CHOICE and include this field into the "no" option?
(see 38.214, section FFS_Section) When the field is absent the UE applies the value 1
nzp-CSI-RS-ResourcesForInterference
NZP CSI RS resources for interference measurement. csi-ResourceConfigId of a CSI-ResourceConfig included in the configuration of the serving cell indicated with the field "carrier" above. The CSI-ResourceConfig indicated here contains only NZP-CSI-RS resources. The bwp-Id in that CSI-ResourceConfig is the same value as the bwp-Id in the CSI-ResourceConfig indicated by resourcesForChannelMeasurement.
p0alpha
Index of the p0-alpha set determining the power control for this CSI report transmission. Corresponds to L1 parameter 'SPCSI-p0alpha' (see 38.214, section FFS_Section)
pdsch-BundleSizeForCSI
PRB bundling size to assume for CQI calculation when reportQuantity is CRI/RI/i1/CQI. If the field is absent, the UE assumes that no PRB bundling is applied. Corresponds to L1 parameter 'PDSCH-bundle-size-for-CSI' (see 38.214, section 5.2.1.4)
pmi-FormatIndicator
Indicates whether the UE shall report a single (wideband) or multiple (subband) PMI. (see 38.214, section 5.2.1.4)
pucch-CSI-ResourceList
Indicates which PUCCH resource to use for reporting on PUCCH.
reportConfigType
Time domain behavior of reporting configuration
reportFreqConfiguration
Reporting configuration in the frequency domain. (see 38.214, section 5.2.1.4)
reportQuantity
The CSI related quantities to report. Corresponds to L1 parameter 'ReportQuantity' (see 38.214, section REF)
reportSlotConfig
Periodicity and slot offset. Corresponds to L1 parameter 'ReportPeriodicity' and 'ReportSlotOffset' (see 38.214, section 5.2.1.4) as well as to L1 parameter 'Reportperiodicity-spCSI'. (see 38.214, section 5.2.1.1?FFS_Section)
reportSlotConfig-v1530
Extended value range for reportSlotConfig for semi-persistent CSI on PUSCH. If the field is present, the UE shall ignore the value provided in the legacy field (semiPersistentOnPUSCH.reportSlotConfig).
reportSlotOffsetList
Timing offset Y for semi persistent reporting using PUSCH. This field lists the allowed offset values. This list must have the same number of entries as the pusch-TimeDomainAllocationList in PUSCH-Config. A particular value is indicated in DCI. The network indicates in the DCI field of the UL grant, which of the configured report slot offsets the UE shall apply. The DCI value 0 corresponds to the first report slot offset in this list, the DCI value 1 corresponds to the second report slot offset in this list, and so on. The first report is transmitted in slot n+Y, second report in n+Y+P, where P is the configured periodicity.
Timing offset Y for aperiodic reporting using PUSCH. This field lists the allowed offset values. This list must have the same number of entries as the pusch-TimeDomainAllocationList in PUSCH-Config. A particular value is indicated in DCI. The network indicates in the DCI field of the UL grant, which of the configured report slot offsets the UE shall apply. The DCI value 0 corresponds to the first report slot offset in this list, the DCI value 1 corresponds to the second report slot offset in this list, and so on (see 38.214, section 5.2.3). 
resourcesForChannelMeasurement
Resources for channel measurement. csi-ResourceConfigId of a CSI-ResourceConfig included in the configuration of the serving cell indicated with the field "carrier" above. The CSI-ResourceConfig indicated here contains only NZP-CSI-RS resources and/or SSB resources. This CSI-ReportConfig is associated with the DL BWP indicated by bwp-Id in that CSI-ResourceConfig.
subbandSize
Indicates one out of two possible BWP-dependent values for the subband size as indicated in 38.214 table 5.2.1.4-2 Corresponds to L1 parameter 'SubbandSize' (see 38.214, section 5.2.1.4)
timeRestrictionForChannelMeasurements
Time domain measurement restriction for the channel (signal) measurements. Corresponds to L1 parameter 'MeasRestrictionConfig-time-channel' (see 38.214, section 5.2.1.1)
timeRestrictionForInterferenceMeasurements
Time domain measurement restriction for interference measurements. Corresponds to L1 parameter 'MeasRestrictionConfig-time-interference' (see 38.214, section 5.2.1.1)

PortIndexFor8Ranks field descriptions
portIndex8
Port-Index configuration for up to rank 8. If present, the network configures port indexes for at least one of the ranks.
portIndex4
Port-Index configuration for up to rank 4. If present, the network configures port indexes for at least one of the ranks.
portIndex2
Port-Index configuration for up to rank 2. If present, the network configures port indexes for at least one of the ranks.
portIndex1
Port-Index configuration for rank 1.

PUCCH-CSI-Resource field descriptions
pucch-Resource
PUCCH resource for the associated uplink BWP. Only PUCCH-Resource of format 2, 3 and 4 is supported. The actual PUCCH-Resource is configured in PUCCH-Config and referred to by its ID.

–	CSI-ReportConfigId
The IE CSI-ReportConfigId is used to identify one CSI-ReportConfig.
CSI-ReportConfigId information element
-- ASN1START
-- TAG-CSI-REPORTCONFIGID-START

CSI-ReportConfigId ::=              INTEGER (0..maxNrofCSI-ReportConfigurations-1)

-- TAG-CSI-REPORTCONFIGID-STOP
-- ASN1STOP

–	CSI-ResourceConfig
The IE CSI-ResourceConfig defines a group of one or more NZP-CSI-RS-ResourceSet, CSI-IM-ResourceSet and/or CSI-SSB-ResourceSet.
CSI-ResourceConfig information element
-- ASN1START
-- TAG-CSI-RESOURCECONFIG-START

CSI-ResourceConfig ::=      SEQUENCE {
    csi-ResourceConfigId        CSI-ResourceConfigId,
    csi-RS-ResourceSetList      CHOICE {
        nzp-CSI-RS-SSB              SEQUENCE {
            nzp-CSI-RS-ResourceSetList  SEQUENCE (SIZE (1..maxNrofNZP-CSI-RS-ResourceSetsPerConfig)) OF NZP-CSI-RS-ResourceSetId OPTIONAL, -- Need R
            csi-SSB-ResourceSetList     SEQUENCE (SIZE (1..maxNrofCSI-SSB-ResourceSetsPerConfig)) OF CSI-SSB-ResourceSetId  OPTIONAL    -- Need R
        },
        csi-IM-ResourceSetList      SEQUENCE (SIZE (1..maxNrofCSI-IM-ResourceSetsPerConfig)) OF CSI-IM-ResourceSetId
    },

    bwp-Id                      BWP-Id,
    resourceType                ENUMERATED { aperiodic, semiPersistent, periodic },
    ...
}

-- TAG-CSI-RESOURCECONFIGTOADDMOD-STOP
-- ASN1STOP

CSI-ResourceConfig field descriptions
bwp-Id
The DL BWP which the CSI-RS associated with this CSI-ResourceConfig are located in. Corresponds to L1 parameter 'BWP-Info' (see 38.214, section 5.2.1.2
csi-ResourceConfigId
Used in CSI-ReportConfig to refer to an instance of CSI-ResourceConfig
csi-RS-ResourceSetList
Contains up to maxNrofNZP-CSI-RS-ResourceSetsPerConfig resource sets if ResourceConfigType is 'aperiodic' and 1 otherwise. Corresponds to L1 parameter 'ResourceSetConfigList' (see 38.214, section 5.2.1.3.1)
csi-SSB-ResourceSetList
List of SSB resources used for beam measurement and reporting in a resource set Corresponds to L1 parameter 'resource-config-SS-list' (see 38.214, section FFS_Section)
resourceType
Time domain behavior of resource configuration. Corresponds to L1 parameter 'ResourceConfigType' (see 38.214, section 5.2.2.3.5). It does not apply to resources provided in the csi-SSB-ResourceSetList.

–	CSI-ResourceConfigId
The IE CSI-ResourceConfigId is used to identify a CSI-ResourceConfig.
CSI-ResourceConfigId information element
-- ASN1START
-- TAG-CSI-RESOURCECONFIGID-START

CSI-ResourceConfigId ::=            INTEGER (0..maxNrofCSI-ResourceConfigurations-1)

-- TAG-CSI-RESOURCECONFIGID-STOP
-- ASN1STOP

–	CSI-ResourcePeriodicityAndOffset
The IE CSI-ResourcePeriodicityAndOffset is used to configure a periodicity and a corresponding offset for periodic and semi-persistent CSI resources, and for periodic and semi-persistent reporting on PUCCH. both, the periodicity and the offset are given in number of slots. The periodicity value slots4 corresponds to 4 slots, slots5 corresponds to 5 slots, and so on.
CSI-ResourcePeriodicityAndOffset information element
-- ASN1START
-- TAG-CSI-RESOURCEPERIODICITYANDOFFSET-START

CSI-ResourcePeriodicityAndOffset ::=    CHOICE {
    slots4                              INTEGER (0..3),
    slots5                              INTEGER (0..4),
    slots8                              INTEGER (0..7),
    slots10                             INTEGER (0..9),
    slots16                             INTEGER (0..15),
    slots20                             INTEGER (0..19),
    slots32                             INTEGER (0..31),
    slots40                             INTEGER (0..39),
    slots64                             INTEGER (0..63),
    slots80                             INTEGER (0..79),
    slots160                            INTEGER (0..159),
    slots320                            INTEGER (0..319),
    slots640                            INTEGER (0..639)
}

-- TAG-CSI-RESIYRCEPERIODICITYANDOFFSET-STOP
-- ASN1STOP

–	CSI-RS-ResourceConfigMobility
The IE CSI-RS-ResourceConfigMobility is used to configure CSI-RS based RRM measurements.
CSI-RS-ResourceConfigMobility information element
-- ASN1START
-- TAG-CSI-RS-RESOURCECONFIGMOBILITY-START

CSI-RS-ResourceConfigMobility ::=   SEQUENCE {
    subcarrierSpacing                   SubcarrierSpacing,
    csi-RS-CellList-Mobility            SEQUENCE (SIZE (1..maxNrofCSI-RS-CellsRRM)) OF CSI-RS-CellMobility,
    ... ,
    [[
    refServCellIndex-v1530              ServCellIndex                                                           OPTIONAL    -- Need S
    ]]


}

CSI-RS-CellMobility ::=             SEQUENCE {
    cellId                              PhysCellId,
    csi-rs-MeasurementBW                SEQUENCE {
        nrofPRBs                            ENUMERATED { size24, size48, size96, size192, size264},
        startPRB                            INTEGER(0..2169)
    },
    density                             ENUMERATED {d1,d3}                                              OPTIONAL,   -- Need R
    csi-rs-ResourceList-Mobility        SEQUENCE (SIZE (1..maxNrofCSI-RS-ResourcesRRM)) OF CSI-RS-Resource-Mobility
}

CSI-RS-Resource-Mobility ::=        SEQUENCE {
    csi-RS-Index                        CSI-RS-Index,
    slotConfig                          CHOICE {
        ms4                                 INTEGER (0..31),
        ms5                                 INTEGER (0..39),
        ms10                                INTEGER (0..79),
        ms20                                INTEGER (0..159),
        ms40                                INTEGER (0..319)
    },
    associatedSSB                       SEQUENCE {
        ssb-Index                           SSB-Index,
        isQuasiColocated                    BOOLEAN
    }                                                                                                       OPTIONAL, -- Need R
    frequencyDomainAllocation           CHOICE {
        row1                                BIT STRING (SIZE (4)),
        row2                                BIT STRING (SIZE (12))
    },
    firstOFDMSymbolInTimeDomain         INTEGER (0..13),
    sequenceGenerationConfig            INTEGER (0..1023),
    ...
}

CSI-RS-Index ::=                    INTEGER (0..maxNrofCSI-RS-ResourcesRRM-1)

-- TAG-CSI-RS-RESOURCECONFIGMOBILITY-STOP
-- ASN1STOP

CSI-RS-CellMobility field descriptions
csi-rs-ResourceList-Mobility
List of CSI-RS resources for mobility. The maximum number of CSI-RS resources that can be configured per frequency layer depends on the configuration of associatedSSB (see 38.214, section 5.1.6.1.3).
density
Frequency domain density for the 1-port CSI-RS for L3 mobility Corresponds to L1 parameter 'Density' (see FFS_Spec, section FFS_Section).
nrofPRBs
Allowed size of the measurement BW in PRBs Corresponds to L1 parameter 'CSI-RS-measurementBW-size' (see FFS_Spec, section FFS_Section).
startPRB
Starting PRB index of the measurement bandwidth Corresponds to L1 parameter 'CSI-RS-measurement-BW-start' (see FFS_Spec, section FFS_Section) FFS_Value: Upper edge of value range unclear in RAN1.

CSI-RS-ResourceConfigMobility field descriptions
csi-RS-CellList-Mobility
List of cells
 refServCellIndex
Indicates the serving cell providing the timing reference for CSI-RS resources without associatedSSB. The field may be present only if there is at least one CSI-RS resource configured without associatedSSB. In case there is at least one CSI-RS resource configured without associatedSSB and this field is absent, the UE shall use the timing of the PCell. The CSI-RS resources and the serving cell indicated by refServCellIndex for timing reference should be located in the same band.
subcarrierSpacing
Subcarrier spacing of CSI-RS. Only the values 15, 30 or 60 kHz (<6GHz), 60 or 120 kHz (>6GHz) are applicable. Corresponds to L1 parameter 'Numerology' (see 38.211, section FFS_Section).

CSI-RS-Resource-Mobility field descriptions
associatedSSB
If this field is present, the UE may base the timing of the CSI-RS resource indicated in CSI-RS-Resource-Mobility on the timing of the cell indicated by the cellId in the CSI-RS-CellMobility. In this case, the UE is not required to monitor that CSI-RS resource if the UE cannot detect the SS/PBCH block indicated by this associatedSSB and cellId. If this field is absent, the UE shall base the timing of the CSI-RS resource indicated in CSI-RS-Resource-Mobility on the timing of the serving cell. In this case, the UE is required to measure the CSI-RS resource even if SS/PBCH block(s) with cellId in the CSI-RS-CellMobility are not detected.
CSI-RS resources with and without associatedSSB may be configured in accordance with the rules in 38.214, section 5.1.6.1.3.
csi-RS-Index
CSI-RS resource index associated to the CSI-RS resource to be measured (and used for reporting).
firstOFDMSymbolInTimeDomain
Time domain allocation within a physical resource block. The field indicates the first OFDM symbol in the PRB used for CSI-RS. Parameter l0 in 38.211, section 7.4.1.5.3. Value 2 is supported only when DL-DMRS-typeA-pos equals 3.
frequencyDomainAllocation
Frequency domain allocation within a physical resource block in accordance with 38.211, section 7.4.1.5.3 including table 7.4.1.5.2-1. The number of bits that may be set to one depend on the chosen row in that table. For the choice "other", the row can be determined from the parameters below and from the number of bits set to 1 in frequencyDomainAllocation.
isQuasiColocated
The CSI-RS resource is either QCL'ed not QCL'ed with the associated SSB in spatial parameters Corresponds to L1 parameter 'QCLed-SSB' (see FFS_Spec, section FFS_Section).
sequenceGenerationConfig
Scrambling ID for CSI-RS (see 38.211, section 7.4.1.5.2).
slotConfig
Indicates the CSI-RS periodicity (in milliseconds) and for each periodicity the offset (in number of slots). When subcarrierSpacingCSI-RS is set to 15kHZ, the maximum offset values for periodicities ms4/ms5/ms10/ms20/ms40 are 3/4/9/19/39 slots. When subcarrierSpacingCSI-RS is set to 30kHZ, the maximum offset values for periodicities ms4/ms5/ms10/ms20/ms40 are 7/9/19/39/79 slots. When subcarrierSpacingCSI-RS is set to 60kHZ, the maximum offset values for periodicities ms4/ms5/ms10/ms20/ms40 are 15/19/39/79/159 slots. When subcarrierSpacingCSI-RS is set 120kHZ, the maximum offset values for periodicities ms4/ms5/ms10/ms20/ms40 are 31/39/79/159/319 slots.

–	CSI-RS-ResourceMapping
The IE CSI-RS-ResourceMapping is used to configure the resource element mapping of a CSI-RS resource in time- and frequency domain.
CSI-RS-ResourceMapping information element
-- ASN1START
-- TAG-CSI-RS-RESOURCEMAPPING-START

CSI-RS-ResourceMapping ::=          SEQUENCE {
    frequencyDomainAllocation           CHOICE {
        row1                                BIT STRING (SIZE (4)),
        row2                                BIT STRING (SIZE (12)),
        row4                                BIT STRING (SIZE (3)),
        other                               BIT STRING (SIZE (6))
    },
    nrofPorts                           ENUMERATED {p1,p2,p4,p8,p12,p16,p24,p32},
    firstOFDMSymbolInTimeDomain         INTEGER (0..13),
    firstOFDMSymbolInTimeDomain2        INTEGER (2..12)                                                             OPTIONAL,   -- Need R
    cdm-Type                            ENUMERATED {noCDM, fd-CDM2, cdm4-FD2-TD2, cdm8-FD2-TD4},
    density                             CHOICE {
        dot5                                ENUMERATED {evenPRBs, oddPRBs},
        one                                 NULL,
        three                               NULL,
        spare                               NULL
    },
    freqBand                            CSI-FrequencyOccupation,
    ...
}

-- TAG-CSI-RS-RESOURCEMAPPING-STOP
-- ASN1STOP

CSI-RS-ResourceMapping field descriptions
cdm-Type
CDM type (see 38.214, section 5.2.2.3.1)
density
Density of CSI-RS resource measured in RE/port/PRB. Corresponds to L1 parameter 'CSI-RS-Density' (see 38.211, section 7.4.1.5.3).
Values 0.5 (dot5), 1 (one) and 3 (three) are allowed for X=1, values 0.5 (dot5) and 1 (one) are allowed for X=2, 16, 24 and 32, value 1 (one) is allowed for X=4, 8, 12.
For density = 1/2, includes 1-bit indication for RB level comb offset indicating whether odd or even RBs are occupied by CSI-RS.
firstOFDMSymbolInTimeDomain2
Time domain allocation within a physical resource block. Parameter l1 in 38.211, section 7.4.1.5.3.
firstOFDMSymbolInTimeDomain
Time domain allocation within a physical resource block. The field indicates the first OFDM symbol in the PRB used for CSI-RS. Parameter l0 in 38.211, section 7.4.1.5.3. Value 2 is supported only when DL-DMRS-typeA-pos equals 3.
freqBand
Wideband or partial band CSI-RS. Corresponds to L1 parameter 'CSI-RS-FreqBand' (see 38.214, section 5.2.2.3.1)
frequencyDomainAllocation
Frequency domain allocation within a physical resource block in accordance with 38.211, section 7.4.1.5.3. The applicable row number in table 7.4.1.5.3-1 is determined by the frequencyDomainAllocation for rows 1, 2 and 4, and for other rows by matching the values in the column Ports, Density and CDMtype in table 7.4.1.5.3-1 with the values of nrofPorts, cdm-Type and density below and, when more than one row has the 3 values matching, by selecting the row where the column (k bar, l bar) in table 7.4.1.5.3-1 has indexes for k ranging from 0 to 2*n-1 where n is the number of bits set to 1 in frequencyDomainAllocation.
nrofPorts
Number of ports (see 38.214, section 5.2.2.3.1)

–	CSI-SemiPersistentOnPUSCH-TriggerStateList
The CSI-SemiPersistentOnPUSCH-TriggerStateList IE is used to configure the UE with list of trigger states for semi-persistent reporting of channel state information on L1. See also 38.214, section 5.2.
CSI-SemiPersistentOnPUSCH-TriggerStateList information element
-- ASN1START
-- TAG-CSI-SEMIPERSISTENTONPUSCHTRIGGERSTATELIST-START

CSI-SemiPersistentOnPUSCH-TriggerStateList ::=  SEQUENCE(SIZE (1..maxNrOfSemiPersistentPUSCH-Triggers)) OF CSI-SemiPersistentOnPUSCH-TriggerState

CSI-SemiPersistentOnPUSCH-TriggerState ::=      SEQUENCE {
    associatedReportConfigInfo                      CSI-ReportConfigId,
    ...
}


-- TAG-CSI-SEMIPERSISTENTONPUSCHTRIGGERSTATELIST-STOP
-- ASN1STOP

–	CSI-SSB-ResourceSet
The IE CSI-SSB-ResourceSet is used to configure one SS/PBCH block resource set which refers to SS/PBCH as indicated in ServingCellConfigCommon.
CSI-SSB-ResourceSet information element
-- ASN1START
-- TAG-CSI-SSB-RESOURCESET-START

CSI-SSB-ResourceSet ::=             SEQUENCE {
    csi-SSB-ResourceSetId               CSI-SSB-ResourceSetId,
    csi-SSB-ResourceList                SEQUENCE (SIZE(1..maxNrofCSI-SSB-ResourcePerSet)) OF SSB-Index,
    ...
}

-- TAG-CSI-SSB-RESOURCESET-STOP
-- ASN1STOP

–	CSI-SSB-ResourceSetId
The IE CSI-SSB-ResourceSetId is used to identify one SS/PBCH block resource set.
CSI-SSB-ResourceId information element
-- ASN1START
-- TAG-CSI-SSB-RESOURCESETID-START

CSI-SSB-ResourceSetId ::=           INTEGER (0..maxNrofCSI-SSB-ResourceSets-1)

-- TAG-CSI-SSB-RESOURCESETID-STOP
-- ASN1STOP

–	DedicatedNAS-Message
The IE DedicatedNAS-Message is used to transfer UE specific NAS layer information between the 5GC CN and the UE. The RRC layer is transparent for this information.
DedicatedNAS-Message information element
-- ASN1START
-- TAG-DEDICATED-NAS-MESSAGE-START

DedicatedNAS-Message ::=        OCTET STRING

-- TAG-DEDICATED-NAS-MESSAGE-STOP
-- ASN1STOP

–	DMRS-DownlinkConfig
The IE DMRS-DownlinkConfig is used to configure downlink demodulation reference signals for PDSCH.
DMRS-DownlinkConfig information element
-- ASN1START
-- TAG-DMRS-DOWNLINKCONFIG-START

DMRS-DownlinkConfig ::=             SEQUENCE {
    dmrs-Type                           ENUMERATED {type2}                                                      OPTIONAL,   -- Need S
    dmrs-AdditionalPosition             ENUMERATED {pos0, pos1, pos3}                                           OPTIONAL,   -- Need S
    maxLength                           ENUMERATED {len2}                                                       OPTIONAL,   -- Need S
    scramblingID0                       INTEGER (0..65535)                                                      OPTIONAL,   -- Need S
    scramblingID1                       INTEGER (0..65535)                                                      OPTIONAL,   -- Need S
    phaseTrackingRS                     SetupRelease { PTRS-DownlinkConfig  }                                   OPTIONAL,   -- Need M
    ...
}

-- TAG-DMRS-DOWNLINKCONFIG-STOP
-- ASN1STOP

DMRS-DownlinkConfig field descriptions
dmrs-AdditionalPosition
Position for additional DM-RS in DL, see Tables 7.4.1.1.2-3 and 7.4.1.1.2-4 in 38.211. If the field is absent, the UE applies the value pos2. See also section 7.4.1.1.2 for additional constraints on how the network may set this field depending on the setting of other fields.
dmrs-Type
Selection of the DMRS type to be used for DL (see 38.211, section 7.4.1.1.1). If the field is absent, the UE uses DMRS type 1.
maxLength
The maximum number of OFDM symbols for DL front loaded DMRS. 'len1' corresponds to value 1. 'len2 corresponds to value 2. If the field is absent, the UE applies value len1. If set to len2, the UE determines the actual number of DM-RS symbols by the associated DCI. (see 38.214, section 7.4.1.1.2)
phaseTrackingRS
Configures downlink PTRS. If absent or released, the UE assumes that downlink PTRS are not present. See 38.214 section 5.1.6.3
scramblingID0
DL DMRS scrambling initialization Corresponds to L1 parameter 'n_SCID 0' (see 38.211, section 7.4.1). When the field is absent the UE applies the value Physical cell ID (physCellId) configured for this serving cell."
scramblingID1
DL DMRS scrambling initialization. Corresponds to L1 parameter 'n_SCID 1' (see 38.211, section 7.4.1). When the field is absent the UE applies the value (physCellId) configured for this serving cell.

–	DMRS-UplinkConfig
The IE DMRS-UplinkConfig is used to configure uplink demodulation reference signals for PUSCH.
DMRS-UplinkConfig information element
-- ASN1START
-- TAG-DMRS-UPLINKCONFIG-START

DMRS-UplinkConfig ::=               SEQUENCE {
    dmrs-Type                           ENUMERATED {type2}                                                  OPTIONAL,   -- Need S
    dmrs-AdditionalPosition             ENUMERATED {pos0, pos1, pos3}                                       OPTIONAL,   -- Need R
    phaseTrackingRS                     SetupRelease { PTRS-UplinkConfig }                                  OPTIONAL,   -- Need M
    maxLength                           ENUMERATED {len2}                                                   OPTIONAL,   -- Need S

    transformPrecodingDisabled                          SEQUENCE {
        scramblingID0                       INTEGER (0..65535)                                              OPTIONAL,   -- Need S
        scramblingID1                       INTEGER (0..65535)                                              OPTIONAL,   -- Need S
        ...
    }                                                                                                       OPTIONAL,   -- Need R
    transformPrecodingEnabled                               SEQUENCE {
        nPUSCH-Identity                     INTEGER(0..1007)                                                OPTIONAL,   -- Need S
        sequenceGroupHopping            ENUMERATED {disabled}                                           OPTIONAL,   -- Need S
        sequenceHopping             ENUMERATED {enabled}                                            OPTIONAL,   -- Need S
        ...
    }                                                                                                       OPTIONAL,   -- Need R
    ...
}

-- TAG-DMRS-UPLINKCONFIG-STOP
-- ASN1STOP

DMRS-UplinkConfig field descriptions
dmrs-AdditionalPosition
Position for additional DM-RS in UL (see Table 6.4.1.1.3-3 and 6.4.1.1.3-4 in 38.211). If the field is absent, the UE applies the value pos2. See also section 6.4.1.1.3 for additional constraints on how the network may set this field depending on the setting of other fields.
dmrs-Type
Selection of the DMRS type to be used for UL (see section 38.211, section 6.4.1.1.3) If the field is absent, the UE uses DMRS type 1.
maxLength
The maximum number of OFDM symbols for UL front loaded DMRS. 'len1' corresponds to value 1. 'len2 corresponds to value 2. If the field is absent, the UE applies value len1. If set to len2, the UE determines the actual number of DM-RS symbols by the associated DCI. (see 38.214, section 6.4.1.1.3)
nPUSCH-Identity
Parameter: N_ID^(PUSCH) for DFT-s-OFDM DMRS. If the value is absent or released, the UE uses the Physical cell ID. Corresponds to L1 parameter 'nPUSCH-Identity-Transform precoding' (see 38.211)
phaseTrackingRS
Configures uplink PTRS (see 38.211)
scramblingID0
UL DMRS scrambling initialization for CP-OFDM Corresponds to L1 parameter 'n_SCID 0' (see 38.214, section 6.4.1.1.2) When the field is absent the UE applies the value Physical cell ID (physCellId)
scramblingID1
UL DMRS scrambling initialization for CP-OFDM. Corresponds to L1 parameter 'n_SCID 1' (see 38.214, section 6.4.1.1.2) When the field is absent the UE applies the value Physical cell ID (physCellId)
sequenceGroupHopping
For DMRS transmission with transform precoder the NW may configure sequence-group hopping by the cell-specific parameter groupHoppingEnabledTransformPrecoding in PUSCH-ConfigCommon. In this case, the NW may include this UE specific field to disable sequence group hopping, i.e., to override the configuration in PUSCH-ConfigCommon (see 38.211)
sequenceHopping
Determines if sequence hopping is enabled for DMRS transmission with transform precoder. If the field is absent, the UE considers sequence hopping to be disabled. Corresponds to L1 parameter 'Sequence-hopping-enabled-Transform-precoding' (see 38.211, section FFS_Section)
transformPrecodingDisabled
DMRS related parameters for Cyclic Prefix OFDM
transformPrecodingEnabled
DMRS related parameters for DFT-s-OFDM (Transform Precoding)

–	DownlinkConfigCommon
The IE DownlinkConfigCommon provides common downlink parameters of a cell.
DownlinkConfigCommon information element
-- ASN1START
-- TAG-DOWNLINK-CONFIG-COMMON-START

DownlinkConfigCommon ::=        SEQUENCE {
    frequencyInfoDL                 FrequencyInfoDL                                 OPTIONAL,   -- Cond InterFreqHOAndServCellAdd
    initialDownlinkBWP              BWP-DownlinkCommon                              OPTIONAL,   -- Cond ServCellAdd
    ...
}

-- TAG-DOWNLINK-CONFIG-COMMON-STOP
-- ASN1STOP

DownlinkConfigCommon field descriptions
frequencyInfoDL
Basic parameters of a downlink carrier and transmission thereon
initialDownlinkBWP
The initial downlink BWP configuration for a SpCell (PCell of MCG or SCG).

Conditional Presence
Explanation
InterFreqHOAndServCellAdd
This field is mandatory present for inter-frequency handover, and upon serving cell (PSCell/SCell) addition. Otherwise, the field is optionally present, Need M.
ServCellAdd
This field is mandatory present upon serving cell addition (for PSCell and SCell). It is optionally present, Need M otherwise.

–	DownlinkConfigCommonSIB
The IE DownlinConfigCommonSIB provides common downlink parameters of a cell.
DownlinkConfigCommonSIB information element
-- ASN1START
-- TAG-DOWNLINK-CONFIG-COMMON-SIB-START

DownlinkConfigCommonSIB ::=     SEQUENCE {
    frequencyInfoDL                 FrequencyInfoDL-SIB,
    initialDownlinkBWP              BWP-DownlinkCommon,
    bcch-Config                         BCCH-Config,
    pcch-Config                         PCCH-Config,
    ...
}


BCCH-Config ::=                 SEQUENCE {  modificationPeriodCoeff         ENUMERATED {n2, n4, n8, n16},
    ...
}


PCCH-Config ::=             SEQUENCE {
    defaultPagingCycle                  PagingCycle,
    nAndPagingFrameOffset               CHOICE {
        oneT                                NULL,
        halfT                               INTEGER (0..1),
        quarterT                            INTEGER (0..3),
        oneEighthT                          INTEGER (0..7),
        oneSixteenthT                       INTEGER (0..15)
    },
    ns                                  ENUMERATED {four, two, one},
    firstPDCCH-MonitoringOccasionOfPO   CHOICE {
        sCS15KHZoneT                                                                SEQUENCE (SIZE (1..4)) OF INTEGER (0..139),
        sCS30KHZoneT-SCS15KHZhalfT                                                  SEQUENCE (SIZE (1..4)) OF INTEGER (0..279),
        sCS60KHZoneT-SCS30KHZhalfT-SCS15KHZquarterT                                 SEQUENCE (SIZE (1..4)) OF INTEGER (0..559),
        sCS120KHZoneT-SCS60KHZhalfT-SCS30KHZquarterT-SCS15KHZoneEighthT             SEQUENCE (SIZE (1..4)) OF INTEGER (0..1119),
        sCS120KHZhalfT-SCS60KHZquarterT-SCS30KHZoneEighthT-SCS15KHZoneSixteenthT    SEQUENCE (SIZE (1..4)) OF INTEGER (0..2239),
        sCS120KHZquarterT-SCS60KHZoneEighthT-SCS30KHZoneSixteenthT                  SEQUENCE (SIZE (1..4)) OF INTEGER (0..4479),
        sCS120KHZoneEighthT-SCS60KHZoneSixteenthT                                   SEQUENCE (SIZE (1..4)) OF INTEGER (0..8959),
        sCS120KHZoneSixteenthT                                                      SEQUENCE (SIZE (1..4)) OF INTEGER (0..17919)
    }   OPTIONAL,           -- Need R
    ...
}

-- TAG-DOWNLINK-CONFIG-COMMON-SIB-STOP
-- ASN1STOP

DownlinkConfigCommonSIB field descriptions
frequencyInfoDL-SIB
Basic parameters of a downlink carrier and transmission thereon
firstPDCCH-MonitoringOccasionOfPO
Points out the first PDCCH monitoring occasion of each PO in the PF, see TS 38.304 [20].
initialDownlinkBWP
The initial downlink BWP configuration for a SpCell (PCell of MCG or SCG).
bcch-Config
The modification period related configuration.
pcch-Config
The paging related configuration.

BCCH-Config field descriptions
modificationPeriodCoeff
Actual modification period, expressed in number of radio frames= modificationPeriodCoeff * defaultPagingCycle. n16 corresponds to value 16, n32 corresponds to value 32, and so on. The BCCH modification period should be larger or equal to 40.96s.

PCCH-Config field descriptions
defaultPagingCycle
Default paging cycle, used to derive 'T' in TS 38.304 [20]. Value rf32 corresponds to 32 radio frames, rf64 corresponds to 64 radio frames and so on.
nAndPagingFrameOffset
Used to derive the number of total paging frames in T (corresponding to parameter N in TS 38.304 [20]) and paging frame offset (corresponding to parameter PF_offset in TS 38.304 [20]).
ns
Number of paging occasions in paging frame

–	DownlinkPreemption
The IE DownlinkPreemption is used to configure the UE to monitor PDCCH for the INT-RNTI (interruption).
DownlinkPreemption information element
-- ASN1START
-- TAG-DOWNLINKPREEMPTION-START

DownlinkPreemption ::=              SEQUENCE {
    int-RNTI                            RNTI-Value,
    timeFrequencySet                    ENUMERATED {set0, set1},
    dci-PayloadSize                     INTEGER (0..maxINT-DCI-PayloadSize),
    int-ConfigurationPerServingCell     SEQUENCE (SIZE (1..maxNrofServingCells)) OF INT-ConfigurationPerServingCell,
    ...
}

INT-ConfigurationPerServingCell ::= SEQUENCE {
    servingCellId                       ServCellIndex,
    positionInDCI                       INTEGER (0..maxINT-DCI-PayloadSize-1)
}

-- TAG-DOWNLINKPREEMPTION-STOP
-- ASN1STOP

DownlinkPreemption field descriptions
dci-PayloadSize
Total length of the DCI payload scrambled with INT-RNTI. Corresponds to L1 parameter 'INT-DCI-payload-length' (see 38.213, section 11.2)
int-ConfigurationPerServingCell
Indicates (per serving cell) the position of the 14 bit INT values inside the DCI payload. Corresponds to L1 parameter 'INT-cell-to-INT' and 'cell-to-INT' (see 38.213, section 11.2)
int-RNTI
RNTI used for indication pre-emption in DL. Corresponds to L1 parameter 'INT-RNTI', where "INT" stands for "interruption" (see 38.213, section 10)
timeFrequencySet
Set selection for DL-preemption indication. Corresponds to L1 parameter 'int-TF-unit' (see 38.213, section 11.2) The set determines how the UE interprets the DL preemption DCI payload.

INT-ConfigurationPerServingCell field descriptions
positionInDCI
Starting position (in number of bit) of the 14 bit INT value applicable for this serving cell (servingCellId) within the DCI payload. Must be multiples of 14 (bit). Corresponds to L1 parameter 'INT-values' (see 38.213, section 11.2)

–	DRB-Identity
The IE DRB-Identity is used to identify a DRB used by a UE.
DRB-Identity information elements
-- ASN1START
-- TAG-DRB-IDENTITY-START

DRB-Identity ::=                    INTEGER (1..32)

-- TAG-DRB-IDENTITY-STOP
-- ASN1STOP

–	DRX-Config
The IE DRX-Config is used to configure DRX related parameters.
DRX-Config information element
-- ASN1START
-- TAG-DRX-CONFIG-START

DRX-Config ::=                      SEQUENCE {
    drx-onDurationTimer                 CHOICE {
                                            subMilliSeconds INTEGER (1..31),
                                            milliSeconds    ENUMERATED {
                                                ms1, ms2, ms3, ms4, ms5, ms6, ms8, ms10, ms20, ms30, ms40, ms50, ms60,
                                                ms80, ms100, ms200, ms300, ms400, ms500, ms600, ms800, ms1000, ms1200,
                                                ms1600, spare8, spare7, spare6, spare5, spare4, spare3, spare2, spare1 }
                                            },
    drx-InactivityTimer                 ENUMERATED {
                                            ms0, ms1, ms2, ms3, ms4, ms5, ms6, ms8, ms10, ms20, ms30, ms40, ms50, ms60, ms80,
                                            ms100, ms200, ms300, ms500, ms750, ms1280, ms1920, ms2560, spare9, spare8,
                                            spare7, spare6, spare5, spare4, spare3, spare2, spare1},
    drx-HARQ-RTT-TimerDL                INTEGER (0..56),
    drx-HARQ-RTT-TimerUL                INTEGER (0..56),
    drx-RetransmissionTimerDL           ENUMERATED {
                                            sl0, sl1, sl2, sl4, sl6, sl8, sl16, sl24, sl33, sl40, sl64, sl80, sl96, sl112, sl128,
                                            sl160, sl320, spare15, spare14, spare13, spare12, spare11, spare10, spare9,
                                            spare8, spare7, spare6, spare5, spare4, spare3, spare2, spare1},
    drx-RetransmissionTimerUL           ENUMERATED {
                                            sl0, sl1, sl2, sl4, sl6, sl8, sl16, sl24, sl33, sl40, sl64, sl80, sl96, sl112, sl128,
                                            sl160, sl320, spare15, spare14, spare13, spare12, spare11, spare10, spare9,
                                            spare8, spare7, spare6, spare5, spare4, spare3, spare2, spare1 },
    drx-LongCycleStartOffset            CHOICE {
        ms10                                INTEGER(0..9),
        ms20                                INTEGER(0..19),
        ms32                                INTEGER(0..31),
        ms40                                INTEGER(0..39),
        ms60                                INTEGER(0..59),
        ms64                                INTEGER(0..63),
        ms70                                INTEGER(0..69),
        ms80                                INTEGER(0..79),
        ms128                               INTEGER(0..127),
        ms160                               INTEGER(0..159),
        ms256                               INTEGER(0..255),
        ms320                               INTEGER(0..319),
        ms512                               INTEGER(0..511),
        ms640                               INTEGER(0..639),
        ms1024                              INTEGER(0..1023),
        ms1280                              INTEGER(0..1279),
        ms2048                              INTEGER(0..2047),
        ms2560                              INTEGER(0..2559),
        ms5120                              INTEGER(0..5119),
        ms10240                             INTEGER(0..10239)
    },

    shortDRX                            SEQUENCE {
        drx-ShortCycle                      ENUMERATED  {
                                                ms2, ms3, ms4, ms5, ms6, ms7, ms8, ms10, ms14, ms16, ms20, ms30, ms32,
                                                ms35, ms40, ms64, ms80, ms128, ms160, ms256, ms320, ms512, ms640, spare9,
                                                spare8, spare7, spare6, spare5, spare4, spare3, spare2, spare1 },
        drx-ShortCycleTimer                 INTEGER (1..16)
    }                                                                                                                   OPTIONAL,   -- Need R
    drx-SlotOffset                      INTEGER (0..31)
}

-- TAG-DRX-CONFIG-STOP
-- ASN1STOP

DRX-Config field descriptions
drx-HARQ-RTT-TimerDL
Value in number of symbols of the BWP where the transport block was received.
drx-HARQ-RTT-TimerUL
Value in number of symbols of the BWP where the transport block was received.
drx-InactivityTimer
Value in multiple integers of 1ms. ms0 corresponds to 0, ms1 corresponds to 1ms, ms2 corresponds to 2ms, and so on.
drx-LongCycleStartOffset
drx-LongCycle in ms and drx-StartOffset in multiples of 1ms. If drx-ShortCycle is configured, the value of drx-LongCycle shall be a multiple of the drx-ShortCycle value.
drx-onDurationTimer
Value in multiples of 1/32 ms (subMilliSeconds) or in ms (milliSecond). For the latter, ms1 corresponds to 1ms, ms2 corresponds to 2ms, and so on.
drx-RetransmissionTimerDL
Value in number of slot lengths of the BWP where the transport block was transmitted. sl0 corresponds to 0 slots, sl1 corresponds to 1 slot, sl2 corresponds to 2 slots, and so on.
drx-RetransmissionTimerUL
Value in number of slot lengths of the BWP where the transport block was transmitted. sl0 corresponds to 0 slots, sl1 corresponds to 1 slot, sl2 corresponds to 2 slots, and so on.
drx-ShortCycleTimer
Value in multiples of drx-ShortCycle. A value of 1 corresponds to drx-ShortCycle, a value of 2 corresponds to 2 * drx-ShortCycle and so on.
drx-ShortCycle
Value in ms. ms1 corresponds to 1ms, ms2 corresponds to 2ms, and so on.
drx-SlotOffset
Value in 1/32 ms. Value 0 corresponds to 0ms, value 1 corresponds to 1/32ms, value 2 corresponds to 2/32ms, and so on.

–	FilterCoefficient
The IE FilterCoefficient specifies the measurement filtering coefficient. Value fc0 corresponds to k = 0, fc1 corresponds to k = 1, and so on.
FilterCoefficient information element
-- ASN1START
-- TAG-FILTERCOEFFICIENT-START

FilterCoefficient ::=               ENUMERATED { fc0, fc1, fc2, fc3, fc4, fc5, fc6, fc7, fc8, fc9, fc11, fc13, fc15, fc17, fc19, spare1, ...}

-- TAG-FILTERCOEFFICIENT-STOP
-- ASN1STOP

Editor's Note: Values should be checked.

–	FreqBandIndicatorNR
The IE FreqBandIndicatorNR is used to convey an NR frequency band number as defined in 38.101.
FreqBandIndicatorNR information element
-- ASN1START
-- TAG-FREQBANDINDICATORNR-START

FreqBandIndicatorNR ::=             INTEGER (1..1024)

-- TAG-FREQBANDINDICATORNR-STOP
-- ASN1STOP

–	FrequencyInfoDL
The IE FrequencyInfoDL provides basic parameters of a downlink carrier and transmission thereon.
FrequencyInfoDL information element
-- ASN1START
-- TAG-FREQUENCY-INFO-DL-START

FrequencyInfoDL ::=                 SEQUENCE {
    absoluteFrequencySSB                ARFCN-ValueNR                                                               OPTIONAL,   -- Cond SpCellAdd
    frequencyBandList                   MultiFrequencyBandListNR,
    absoluteFrequencyPointA             ARFCN-ValueNR,
    scs-SpecificCarrierList             SEQUENCE (SIZE (1..maxSCSs)) OF SCS-SpecificCarrier,
    ...
}

-- TAG-FREQUENCY-INFO-UL-STOP
-- ASN1STOP

FrequencyInfoDL field descriptions
absoluteFrequencyPointA
Absolute frequency position of the reference resource block (Common RB 0). Its lowest subcarrier is also known as Point A. Note that the lower edge of the actual carrier is not defined by this field but rather in the scs-SpecificCarrierList. Corresponds to L1 parameter 'offset-ref-low-scs-ref-PRB' (see 38.211, section FFS_Section)
absoluteFrequencySSB
Frequency of the SSB to be used for this serving cell. SSB related parameters (e.g. SSB index) provided for a serving cell refer to this SSB frequency unless mentioned otherwise. The frequency provided in this field identifies the position of resource element RE=#0 (subcarrier #0) of resource block RB#10 of the SS block. The cell-defining SSB of the PCell is always on the sync raster. Frequencies are considered to be on the sync raster if they are also identifiable with a GSCN value (see 38.101). If the field is absent, the SSB related parameters should be absent, e.g. ssb-PositionsInBurst, ssb-periodicityServingCell and subcarrierSpacing in ServingCellConfigCommon IE. If the field is absent, the UE obtains timing reference from the SpCell. This is only supported in case the Scell is in the same frequency band as the SpCell.
frequencyBandList
List containing only one frequency band to which this carrier(s) belongs. Multiple values are not supported.
scs-SpecificCarrierList
A set of carriers for different subcarrier spacings (numerologies). Defined in relation to Point A. The network configures a scs-SpecificCarrier at least for each numerology (SCS) that is used e.g. in a BWP. Corresponds to L1 parameter 'offset-pointA-set' (see 38.211, section FFS_Section)

Conditional Presence
Explanation
SpCellAdd
The field is mandatory present if this FrequencyInfoDL is for SpCell. Otherwise the field is optionally present, Need S.

–	FrequencyInfoDL-SIB
The IE FrequencyInfoDL-SIB provides basic parameters of a downlink carrier and transmission thereon.
FrequencyInfoDL-SIB information element
-- ASN1START
-- TAG-FREQUENCY-INFO-DL-SIB-START

FrequencyInfoDL-SIB ::=             SEQUENCE {
    frequencyBandList                   MultiFrequencyBandListNR-SIB,
    offsetToPointA                      INTEGER (0..2199),
    scs-SpecificCarrierList             SEQUENCE (SIZE (1..maxSCSs)) OF SCS-SpecificCarrier
}

-- TAG-FREQUENCY-INFO-DL-SIB-STOP
-- ASN1STOP

FrequencyInfoDL-SIB field descriptions
offsetToPointA
The offset in PRB between the Point A and the lowest subcarrier of the lowest PRB of the cell-defining SSB after floating SSB is resolved [FFS Ref]
frequencyBandList
List of one or multiple frequency bands to which this carrier(s) belongs. 
scs-SpecificCarrierList
A set of carriers for different subcarrier spacings (numerologies). Defined in relation to Point A. The network configures a scs-SpecificCarrier at least for each numerology (SCS) that is used e.g. in a BWP. Corresponds to L1 parameter 'offset-pointA-set' (see 38.211, section FFS_Section)

–	FrequencyInfoUL
The IE FrequencyInfoUL provides basic parameters of an uplink carrier and transmission thereon.
FrequencyInfoUL information element
-- ASN1START
-- TAG-FREQUENCY-INFO-UL-START

FrequencyInfoUL ::=                 SEQUENCE {
    frequencyBandList                   MultiFrequencyBandListNR                                        OPTIONAL,   -- Cond FDD-OrSUL
    absoluteFrequencyPointA             ARFCN-ValueNR                                                   OPTIONAL,   -- Cond FDD-OrSUL
    scs-SpecificCarrierList             SEQUENCE (SIZE (1..maxSCSs)) OF SCS-SpecificCarrier,
    additionalSpectrumEmission          AdditionalSpectrumEmission                                      OPTIONAL,   -- Need S
    p-Max                               P-Max                                                           OPTIONAL,   -- Need S
    frequencyShift7p5khz                ENUMERATED {true}                                               OPTIONAL,   -- Cond FDD-OrSUL-Optional
    ...
}

-- TAG-FREQUENCY-INFO-UL-STOP
-- ASN1STOP

FrequencyInfoUL field descriptions
absoluteFrequencyPointA
Absolute frequency of the reference resource block (Common RB 0). Its lowest subcarrier is also known as Point A. Note that the lower edge of the actual carrier is not defined by this field but rather in the scs-SpecificCarrierList. Corresponds to L1 parameter 'offset-ref-low-scs-ref-PRB' (see 38.211, section FFS_Section)
additionalSpectrumEmission
The additional spectrum emission requirements to be applied by the UE on this uplink. If the field is absent, the UE applies the value FFS_RAN4. (see FFS_section, section FFS_Section)
frequencyBandList
List containing only one frequency band to which this carrier(s) belongs. Multiple values are not supported.
frequencyShift7p5khz
Enable the NR UL transmission with a 7.5KHz shift to the LTE raster. If the field is absent, the frequency shift is disabled.
p-Max
Maximum transmit power allowed in this serving cell. The maximum transmit power that the UE may use on this serving cell may be additionally limited by p-NR-FR1 (configured for the cell group) and by p-UE-FR1 (configured total for all serving cells operating on FR1). If absent, the UE applies the maximum power according to TS 38.101 [15].
scs-SpecificCarrierList
A set of carriers for different subcarrier spacings (numerologies). Defined in relation to Point A. The network configures a scs-SpecificCarrier at least for each numerology (SCS) that is used e.g. in a BWP. Corresponds to L1 parameter 'offset-pointA-set' (see 38.211, section FFS_Section)

Conditional Presence
Explanation
FDD-OrSUL
The field is mandatory present if this FrequencyInfoUL is for the paired UL for a DL (defined in a FrequencyInfoDL) or if this FrequencyInfoUL is for a supplementary uplink (SUL). It is absent otherwise (if this FrequencyInfoUL is for an unpaired UL (TDD).
FDD-OrSUL-Optional
The field is optionally present, Need R, if this FrequencyInfoUL is for the paired UL for a DL (defined in a FrequencyInfoDL) or if this FrequencyInfoUL is for a supplementary uplink (SUL). It is absent otherwise.

–	FrequencyInfoUL-SIB
The IE FrequencyInfoUL-SIB provides basic parameters of an uplink carrier and transmission thereon.
FrequencyInfoUL-SIB information element
-- ASN1START
-- TAG-FREQUENCY-INFO-UL-SIB-START

FrequencyInfoUL-SIB ::=                 SEQUENCE {
    frequencyBandList                   MultiFrequencyBandListNR-SIB                                    OPTIONAL,   -- Cond FDD-OrSUL
    absoluteFrequencyPointA             ARFCN-ValueNR                                                   OPTIONAL,   -- Cond FDD-OrSUL
    scs-SpecificCarrierList             SEQUENCE (SIZE (1..maxSCSs)) OF SCS-SpecificCarrier,
    p-Max                               P-Max                                                           OPTIONAL,   -- Need S
    frequencyShift7p5khz                ENUMERATED {true}                                               OPTIONAL,   -- Cond FDD-OrSUL-Optional
    ...
}

-- TAG-FREQUENCY-INFO-UL-SIB-STOP
-- ASN1STOP

FrequencyInfoUL-SIB field descriptions
absoluteFrequencyPointA
Absolute frequency of the reference resource block (Common RB 0). Its lowest subcarrier is also known as Point A. Note that the lower edge of the actual carrier is not defined by this field but rather in the scs-SpecificCarrierList. Corresponds to L1 parameter 'offset-ref-low-scs-ref-PRB' (see 38.211, section FFS_Section)
frequencyBandList
Provides the frequency band indicator and a list of additionalPmax and additionalSpectrumEmission values as defined in TS 38.101 [table 6.2.3-1]. The UE shall apply the first listed band which it supports in the frequencyBandList field. 
frequencyShift7p5khz
Enable the NR UL transmission with a 7.5KHz shift to the LTE raster. If the field is absent, the frequency shift is disabled.
p-Max
FFS_Definition. Corresponds to parameter FFS_RAN4. (see FFS_Spec, section FFS_Section) If the field is absent, the UE applies the value FFS_RAN4.
scs-SpecificCarrierList
A set of carriers for different subcarrier spacings (numerologies). Defined in relation to Point A. Corresponds to L1 parameter 'offset-pointA-set' (see 38.211, section FFS_Section)

Conditional Presence
Explanation
FDD-OrSUL
The field is mandatory present if this FrequencyInfoUL is for the paired UL for a DL (defined in a FrequencyInfoDL) or if this FrequencyInfoUL is for a supplementary uplink (SUL). It is absent otherwise (if this FrequencyInfoUL is for an unpaired UL (TDD).
FDD-OrSUL-Optional
The field is optionally present, Need R, if this FrequencyInfoUL is for the paired UL for a DL (defined in a FrequencyInfoDL) or if this FrequencyInfoUL is for a supplementary uplink (SUL). It is absent otherwise.

–	Hysteresis
The IE Hysteresis is a parameter used within the entry and leave condition of an event triggered reporting condition. The actual value is field value * 0.5 dB.
Hysteresis information element
-- ASN1START

Hysteresis ::=                      INTEGER (0..30)

-- ASN1STOP
Editor's Note: Values should be checked.

–	I-RNTI-Value
The I-RNTI-Value IE is used to identify the suspended UE context of a UE in RRC_INACTIVE.
I-RNTI-Value information element
-- ASN1START
-- TAG-I-RNTI-VALUE-START

I-RNTI-Value ::=                        BIT STRING (SIZE(40))

-- TAG-I-RNTI-VALUE-STOP
-- ASN1STOP

–	LocationMeasurementInfo
The IE LocationMeasurementInfo defines the information sent by the UE to the network to assist with the configuration of measurement gaps for location related measurements.
-- ASN1START
-- TAG-LOCATION-MEASUREMENT-INFO-START

LocationMeasurementInfo ::=     CHOICE {
        eutra-RSTD                      EUTRA-RSTD-InfoList,
        ...
}

EUTRA-RSTD-InfoList ::= SEQUENCE (SIZE (1..maxInterRAT-RSTD-Freq)) OF EUTRA-RSTD-Info

EUTRA-RSTD-Info ::= SEQUENCE {
    carrierFreq                 ARFCN-ValueEUTRA,
    measPRS-Offset              INTEGER (0..39),
    ...
}

-- TAG-LOCATION-MEASUREMENT-INFO-STOP
-- ASN1STOP

LocationMeasurementInfo field descriptions
carrierFreq
The EARFCN value of the carrier received from upper layers for which the UE needs to perform the inter-RAT RSTD measurements.
measPRS-Offset
Indicates the requested gap offset for performing RSTD measurements towards E-UTRA. It is the smallest subframe offset from the beginning of subframe 0 of SFN=0 of the serving cell of the requested gap for measuring PRS positioning occasions in the carrier frequency carrierFreq for which the UE needs to perform the inter-RAT RSTD measurements. The PRS positioning occasion information is received from upper layers. The value of measPRS-Offset is obtained by mapping the starting subframe of the PRS positioning occasion in the measured cell onto the corresponding subframe in the serving cell and is calculated as the serving cell's number of subframes from SFN=0 mod 40.
The UE shall take into account any additional time required by the UE to start PRS measurements on the other carrier when it does this mapping for determining the measPRS-Offset.
NOTE: Figure 6.2.2-1 in TS 36.331[10] illustrates the measPRS-Offset field.

–	LogicalChannelConfig
The IE LogicalChannelConfig is used to configure the logical channel parameters.
LogicalChannelConfig information element
-- ASN1START
-- TAG-LOGICAL-CHANNEL-CONFIG-START

LogicalChannelConfig ::=            SEQUENCE {
    ul-SpecificParameters               SEQUENCE {
        priority                            INTEGER (1..16),
        prioritisedBitRate                  ENUMERATED {kBps0, kBps8, kBps16, kBps32, kBps64, kBps128, kBps256, kBps512,
                                            kBps1024, kBps2048, kBps4096, kBps8192, kBps16384, kBps32768, kBps65536, infinity},
        bucketSizeDuration                  ENUMERATED {ms5, ms10, ms20, ms50, ms100, ms150, ms300, ms500, ms1000,
                                                            spare7, spare6, spare5, spare4, spare3,spare2, spare1},

        allowedServingCells                 SEQUENCE (SIZE (1..maxNrofServingCells-1)) OF ServCellIndex                 OPTIONAL,   -- PDCP-CADuplication
        allowedSCS-List                     SEQUENCE (SIZE (1..maxSCSs)) OF SubcarrierSpacing                           OPTIONAL,   -- Need R
        maxPUSCH-Duration                   ENUMERATED { ms0p02, ms0p04, ms0p0625, ms0p125, ms0p25, ms0p5, spare2, spare1 }
                                                                                                                        OPTIONAL,   -- Need R
        configuredGrantType1Allowed         ENUMERATED {true}                                                           OPTIONAL,   -- Need R

        logicalChannelGroup                 INTEGER (0..maxLCG-ID)                                                      OPTIONAL,   -- Need R
        schedulingRequestID                 SchedulingRequestId                                                         OPTIONAL,   -- Need R
        logicalChannelSR-Mask               BOOLEAN,
        logicalChannelSR-DelayTimerApplied  BOOLEAN,
        ...,
        bitRateQueryProhibitTimer       ENUMERATED { s0, s0dot4, s0dot8, s1dot6, s3, s6, s12,s30}                       OPTIONAL    -- Need R
    }                                                                                                                   OPTIONAL,   -- Cond UL

    ...
}

-- TAG-LOGICAL-CHANNEL-CONFIG-STOP
-- ASN1STOP

LogicalChannelConfig field descriptions
allowedSCS-List
If present, UL MAC SDUs from this logical channel can only be mapped to the indicated numerology. Otherwise, UL MAC SDUs from this logical channel can be mapped to any configured numerology. Only the values 15/30/60 KHz (for FR1) and 60/120 KHz (for FR2) are applicable. Corresponds to 'allowedSCS-List' as specified in TS 38.321 [3].
allowedServingCells
If present, UL MAC SDUs from this logical channel can only be mapped to the serving cells indicated in this list. Otherwise, UL MAC SDUs from this logical channel can be mapped to any configured serving cell of this cell group. Corresponds to 'allowedServingCells' in TS 38.321 [3].
bitRateQueryProhibitTimer
The timer is used for bit rate recommendation query in TS 38.321 [3], in seconds. Value s0 means 0s, s0dot4 means 0.4s and so on.
bucketSizeDuration
Value in ms. ms5 corresponds to 5ms, ms10 corresponds to 10ms, and so on.
configuredGrantType1Allowed
If present, UL MAC SDUs from this logical channel can be transmitted on a configured grant type 1. Corresponds to 'configuredGrantType1Allowed' in TS 38.321 [3].
logicalChannelGroup
ID of the logical channel group, as specified in TS 38.321 [3], which the logical channel belongs to.
logicalChannelSR-Mask
Controls SR triggering when a configured uplink grant of type1 or type2 is configured. TRUE indicates that SR masking is configured for this logical channel as specified in 38.321 [3].
logicalChannelSR-DelayTimerApplied
Indicates whether to apply the delay timer for SR transmission for this logical channel. Set to FALSE if logicalChannelSR-DelayTimer is not included in BSR-Config.
maxPUSCH-Duration
If present, UL MAC SDUs from this logical channel can only be transmitted using uplink grants that result in a PUSCH duration shorter than or equal to the duration indicated by this field. Otherwise, UL MAC SDUs from this logical channel can be transmitted using an uplink grant resulting in any PUSCH duration. Corresponds to "maxPUSCH-Duration" in TS 38.321 [3].
priority
Logical channel priority, as specified in TS 38.321 [3].
prioritisedBitRate
Value in kiloBytes/s. 0kBps corresponds to 0, 8kBps corresponds to 8 kiloBytes/s,16 kBps corresponds to 16 kiloBytes/s, and so on. For SRBs, the value can only be set to infinity.
schedulingRequestId
If present, it indicates the scheduling request configuration applicable for this logical channel, as specified in TS 38.321 [3].

Conditional Presence
Explanation
PDCP-CADuplication
The field is mandatory present if the UE is configured with PDCP CA duplication in UL (see PDCP-Config -> moreThanOneRLC -> primaryPath -> logicalChannel). Otherwise the field is optionally present, need R.
UL
The field is mandatory present for a logical channel with uplink if it serves DRB. It is optionally present for a logical channel with uplink if it serves an SRB. otherwise it is not present.

–	LogicalChannelIdentity
The IE LogicalChannelIdentity is used to identify one logical channel (LogicalChannelConfig) and the corresponding RLC bearer (RLC-BearerConfig).
LogicalChannelIdentity information element
-- ASN1START
-- TAG-LOGICALCHANNELIDENTITY-START

LogicalChannelIdentity ::=          INTEGER (1..maxLC-ID)

-- TAG-LOGICALCHANNELIDENTITY-STOP
-- ASN1STOP

–	MAC-CellGroupConfig
The IE MAC-CellGroupConfig is used to configure MAC parameters for a cell group, including DRX.
MAC-CellGroupConfig information element
-- ASN1START
-- TAG-MAC-CELL-GROUP-CONFIG-START

MAC-CellGroupConfig ::=             SEQUENCE {
    drx-Config                          SetupRelease { DRX-Config }                                                 OPTIONAL,   -- Need M
    schedulingRequestConfig             SchedulingRequestConfig                                                     OPTIONAL,   -- Need M
    bsr-Config                          BSR-Config                                                                  OPTIONAL,   -- Need M
    tag-Config                          TAG-Config                                                                  OPTIONAL,   -- Need M
    phr-Config                          SetupRelease { PHR-Config }                                                 OPTIONAL,   -- Need M
    skipUplinkTxDynamic                 BOOLEAN,
    ...,
    [[
    csi-Mask-v1530                          BOOLEAN                                                                 OPTIONAL    ,   -- Need M
    dataInactivityTimer-v1530               SetupRelease { DataInactivityTimer }                                    OPTIONAL        -- Need PCellOnly
    ]]
}

DataInactivityTimer ::=         ENUMERATED {s1, s2, s3, s5, s7, s10, s15, s20, s40, s50, s60, s80, s100, s120, s150, s180}

-- TAG-MAC-CELL-GROUP-CONFIG-STOP
-- ASN1STOP

MAC-CellGroupConfig field descriptions
csi-Mask-v1530
If set to true, the UE limits CSI reports to the on-duration period of the DRX cycle, see TS 38.321 [3].
dataInactivityTimer-v1530
Releases the RRC connection upon data inactivity as specified in section 5.3.8.5 and in 38.321. Value s1 corresponds to 1 second, s2 corresponds to 2 seconds and so on.
drx-Config
Used to configure DRX as specified in TS 38.321 [3].
skipUplinkTxDynamic
If set to true, the UE skips UL transmissions for an uplink grant other than a configured uplink grant if no data is available for transmission in the UE buffer as described in TS 38.321 [3]. FFS : configurable per SCell?

Conditional Presence
Explanation
PCellOnly
This field is optionally present, Need M, for the MAC-CellGroupConfig of the PCell. It is absent otherwise.

–	MeasConfig
The IE MeasConfig specifies measurements to be performed by the UE, and covers intra-frequency, inter-frequency and inter-RAT mobility as well as configuration of measurement gaps.
MeasConfig information element
-- ASN1START
-- TAG-MEAS-CONFIG-START

MeasConfig ::=                      SEQUENCE {
    measObjectToRemoveList              MeasObjectToRemoveList                                              OPTIONAL,   -- Need N
    measObjectToAddModList              MeasObjectToAddModList                                              OPTIONAL,   -- Need N

    reportConfigToRemoveList            ReportConfigToRemoveList                                            OPTIONAL,   -- Need N
    reportConfigToAddModList            ReportConfigToAddModList                                            OPTIONAL,   -- Need N

    measIdToRemoveList                  MeasIdToRemoveList                                                  OPTIONAL,   -- Need N
    measIdToAddModList                  MeasIdToAddModList                                                  OPTIONAL,   -- Need N

    s-MeasureConfig                     CHOICE {
        ssb-RSRP                            RSRP-Range,
        csi-RSRP                            RSRP-Range
    }                                                                                                       OPTIONAL,   -- Need M

    quantityConfig                      QuantityConfig                                                      OPTIONAL,   -- Need M

    measGapConfig                       MeasGapConfig                                                       OPTIONAL,   -- Need M
    measGapSharingConfig                    MeasGapSharingConfig                                            OPTIONAL,   -- Need M
    ...
}

MeasObjectToRemoveList ::=              SEQUENCE (SIZE (1..maxNrofObjectId)) OF MeasObjectId

MeasIdToRemoveList ::=                  SEQUENCE (SIZE (1..maxNrofMeasId)) OF MeasId

ReportConfigToRemoveList ::=            SEQUENCE (SIZE (1..maxReportConfigId)) OF ReportConfigId

-- TAG-MEAS-CONFIG-STOP
-- ASN1STOP

MeasConfig field descriptions
measGapConfig
Used to setup and release measurement gaps in NR.
measIdToAddModList
List of measurement identities to add and/or modify.
measIdToRemoveList
List of measurement identities to remove.
measObjectToAddModList
List of measurement objects to add and/or modify.
measObjectToRemoveList
List of measurement objects to remove.
reportConfigToAddModList
List of measurement reporting configurations to add and/or modify
reportConfigToRemoveList
List of measurement reporting configurations to remove.
s-MeasureConfig
Threshold for NR SpCell RSRP measurement controlling when the UE is required to perform measurements on non-serving cells. Choice of ssb-RSRP corresponds to cell RSRP based on SS/PBCH block and choice of csi-RSRP corresponds to cell RSRP of CSI-RS. 
MeasGapSharingConfig
The IE MeasGapSharingConfig specifies the measurement gap sharing scheme

–	MeasGapConfig
The IE MeasGapConfig specifies the measurement gap configuration and controls setup/ release of measurement gaps.
MeasGapConfig information element
-- ASN1START
--TAG-MEAS-GAP-CONFIG-START

MeasGapConfig ::=                   SEQUENCE {
    gapFR2                              SetupRelease { GapConfig }                                                      OPTIONAL,   -- Need M
    ...,
    [[
        gapFR1                          SetupRelease { GapConfig }                                                      OPTIONAL,   -- Need M
        gapUE                           SetupRelease { GapConfig }                                                      OPTIONAL    -- Need M
    ]]

}

GapConfig ::=                       SEQUENCE {
    gapOffset                           INTEGER (0..159),
    mgl                                 ENUMERATED {ms1dot5, ms3, ms3dot5, ms4, ms5dot5, ms6},
    mgrp                                ENUMERATED {ms20, ms40, ms80, ms160},
    mgta                                ENUMERATED {ms0, ms0dot25, ms0dot5},
    ...
}

-- TAG-MEAS-GAP-CONFIG-STOP
-- ASN1STOP

MeasGapConfig field descriptions
gapFR1
Indicates measurement gap configuration that applies to FR1 only. In the case of EN-DC, gapFR1 cannot be set up by NR RRC (i.e. only LTE RRC can configure FR1 gap). gapFR1 can not be configured together with gapUE. The applicability of the measurement gap is according to Table 9.1.2-2 in TS 38.133 [14].
gapFR2
Indicates measurement gap configuration applies to FR2 only. gapFR2 cannot be configured together with gapUE. The applicability of the measurement gap is according to Table 9.1.2-1 and Table 9.1.2-2 in TS 38.133 [14].
gapUE
Indicates measurement gap configuration that applies to all frequencies (FR1 and FR2). In the case of EN-DC, gapUE cannot be set up by NR RRC (i.e. only LTE RRC can configure per UE gap). If gapUE is configured, then neither gapFR1 nor gapFR2 can be configured. The applicability of the measurement gap is according to Table 9.1.2-2 in TS 38.133 [14].
gapOffset
Value gapOffset is the gap offset of the gap pattern with MGRP indicated in the field mgrp. The value range should be from 0 to mgrp-1.
mgl
Value mgl is the measurement gap length in ms of the measurement gap. The applicability of the measurement gap is according to in Table 9.1.2-1 and Table 9.1.2-2 in TS 38.133 [14]. Value ms1dot5 corresponds to 1.5ms, ms3 corresponds to 3ms and so on.
mgrp
Value mgrp is measurement gap repetition period in (ms) of the measurement gap. The applicability of the measurement gap is according to in Table 9.1.2-1 and Table 9.1.2-2 in TS 38.133 [14].
mgta
Value mgta is the measurement gap timing advance in ms. The applicability of the measurement gap timing advance is according to section 9.1.2 of TS 38.133 [14]. Value ms0 corresponds to 0 ms, ms0dot25 corresponds to 0.25ms and ms0dot5 corresponds to 0.5ms.For FR2, the network only configures 0 and 0.25ms. 

–	MeasGapSharingConfig
The IE MeasGapSharingConfig specifies the measurement gap sharing scheme and controls setup/ release of measurement gap sharing.
MeasGapSharingConfig information element
-- ASN1START
--TAG-MEAS-GAP-SHARING-CONFIG-START

MeasGapSharingConfig ::=        SEQUENCE {
    gapSharingFR2                   SetupRelease { MeasGapSharingScheme }       OPTIONAL,   -- Need M
    ...,
    [[
    gapSharingFR1                   SetupRelease { MeasGapSharingScheme }       OPTIONAL,   --Need M
    gapSharingUE                    SetupRelease { MeasGapSharingScheme }       OPTIONAL    --Need M
    ]]

}

MeasGapSharingScheme::=         ENUMERATED {scheme00, scheme01, scheme10, scheme11}

--TAG-MEAS-GAP-SHARING-CONFIG-STOP
-- ASN1STOP

MeasGapSharingConfig field descriptions
gapSharingFR1
Indicates the measurement gaps sharing scheme that applies to the gap set for FR1 only. In the case of EN-DC, gapSharingFR1 cannot be set up by NR RRC (i.e. only LTE RRC can configure FR1 gap sharing). gapSharingFR1 can not be configured together with gapSharingUE. For the different gap sharing schemes, see TS 38.133 [14]. Value scheme00 corresponds to "00", value scheme01 corresponds to "01", and so on.
gapSharingFR2
Indicates the measurement gaps sharing scheme that applies to the gap set for FR2 only. gapSharingFR2 cannot be configured together with gapSharingUE. For the different gap sharing schemes, see TS 38.133 [14]. Value scheme00 corresponds to "00", value scheme01 corresponds to "01", and so on.
gapSharingUE
Indicates the measurement gaps sharing scheme that applies to the gap set per UE.  In EN-DC, gapSharingUE cannot be set up by NR RRC (i.e. only LTE RRC can configure per UE gap sharing). If gapSharingUE is configured, then neither gapSharingFR1 nor gapSharingFR2 can be configured. For the different gap sharing schemes, see TS 38.133 [14]. Value scheme00 corresponds to "00", value scheme01 corresponds to "01", and so on.

–	MeasId
The IE MeasId is used to identify a measurement configuration, i.e., linking of a measurement object and a reporting configuration.
MeasId information element
-- ASN1START
-- TAG-MEAS-ID-START

MeasId ::=                          INTEGER (1..maxNrofMeasId)

-- TAG-MEAS-ID-STOP
-- ASN1STOP

–	MeasIdToAddModList
The IE MeasIdToAddModList concerns a list of measurement identities to add or modify, with for each entry the measId, the associated measObjectId and the associated reportConfigId.
MeasIdToAddModList information element
-- ASN1START
-- TAG-MEAS-ID-TO-ADD-MOD-LIST-START

MeasIdToAddModList ::=              SEQUENCE (SIZE (1..maxNrofMeasId)) OF MeasIdToAddMod

MeasIdToAddMod ::=                  SEQUENCE {
    measId                              MeasId,
    measObjectId                        MeasObjectId,
    reportConfigId                      ReportConfigId
}

-- TAG-MEAS-ID-TO-ADD-MOD-LIST-STOP
-- ASN1STOP

–	MeasObjectEUTRA
The IE MeasObjectEUTRA specifies information applicable for E‑UTRA cells.
MeasObjectEUTRA information element
-- ASN1START
-- TAG-MEAS-OBJECT-EUTRA-NR-START

MeasObjectEUTRA::=                          SEQUENCE {
    carrierFreq                                 ARFCN-ValueEUTRA,
    allowedMeasBandwidth                        EUTRA-AllowedMeasBandwidth,
    cellsToRemoveListEUTRAN                     EUTRA-CellIndexList         OPTIONAL,   -- Need N
    cellsToAddModListEUTRAN                     SEQUENCE (SIZE (1..maxCellMeasEUTRA)) OF EUTRA-Cell     OPTIONAL,   -- Need N
    blackCellsToRemoveListEUTRAN                EUTRA-CellIndexList             OPTIONAL,   -- Need N
    blackCellsToAddModListEUTRAN                SEQUENCE (SIZE (1..maxCellMeasEUTRA)) OF EUTRA-BlackCell    OPTIONAL,   -- Need N
    eutra-PresenceAntennaPort1                  EUTRA-PresenceAntennaPort1  ,
    eutra-Q-OffsetRange                         EUTRA-Q-OffsetRange     OPTIONAL,   -- Need R
    widebandRSRQ-Meas                           BOOLEAN,
    ...
}

EUTRA-CellIndexList ::=                     SEQUENCE (SIZE (1..maxCellMeasEUTRA)) OF EUTRA-CellIndex

EUTRA-CellIndex ::=                         INTEGER (1..maxCellMeasEUTRA)


EUTRA-Cell ::=                              SEQUENCE {
    cellIndexEUTRA                              EUTRA-CellIndex,
    physCellId                                  EUTRA-PhysCellId,
    cellIndividualOffset                        EUTRA-Q-OffsetRange
}


EUTRA-BlackCell ::=                         SEQUENCE {
    cellIndexEUTRA                              EUTRA-CellIndex,
    physCellIdRange                         EUTRA-PhysCellIdRange
}

-- TAG-MEAS-OBJECT-EUTRA-NR-STOP
-- ASN1STOP


MeasObjectEUTRA field descriptions
widebandRSRQ-Meas
If set to TRUE, the UE shall, when performing RSRQ measurements, use a wider bandwidth in accordance with TS 36.133 [16]. The network may set the field to TRUE if the measurement bandwidth indicated by allowedMeasBandwidth is 50 resource blocks or larger; otherwise the network sets this field to FALSE.

–	MeasObjectId
The IE MeasObjectId used to identify a measurement object configuration.
MeasObjectId information element
-- ASN1START
-- TAG-MEAS-OBJECT-ID-START

MeasObjectId ::=                    INTEGER (1..maxNrofObjectId)

-- TAG-MEAS-OBJECT-ID-STOP
-- ASN1STOP

–	MeasObjectNR
The IE MeasObjectNR specifies information applicable for SS/PBCH block(s) intra/inter-frequency measurements or CSI-RS intra/inter-frequency measurements.
MeasObjectNR information element
-- ASN1START
-- TAG-MEAS-OBJECT-NR-START

MeasObjectNR ::=                    SEQUENCE {
    ssbFrequency                        ARFCN-ValueNR                                                   OPTIONAL,   -- Cond SSBorAssociatedSSB
    ssbSubcarrierSpacing                    SubcarrierSpacing                                           OPTIONAL,   -- Cond SSBorAssociatedSSB
    smtc1                               SSB-MTC                                                         OPTIONAL,   -- Cond SSBorAssociatedSSB
    smtc2                               SSB-MTC2                                                        OPTIONAL,   -- Cond IntraFreqConnected

    refFreqCSI-RS                       ARFCN-ValueNR                                                           OPTIONAL,
    referenceSignalConfig               ReferenceSignalConfig,
    absThreshSS-BlocksConsolidation     ThresholdNR                                                             OPTIONAL,   -- Need R
    absThreshCSI-RS-Consolidation       ThresholdNR                                                             OPTIONAL,   -- Need R
    nrofSS-BlocksToAverage              INTEGER (2..maxNrofSS-BlocksToAverage)                                  OPTIONAL,   -- Need R
    nrofCSI-RS-ResourcesToAverage       INTEGER (2..maxNrofCSI-RS-ResourcesToAverage)                           OPTIONAL,   -- Need R
    quantityConfigIndex                 INTEGER (1..maxNrofQuantityConfig),

    offsetMO                            Q-OffsetRangeList,

    cellsToRemoveList                   PCI-List                                                                OPTIONAL,   -- Need N
    cellsToAddModList                   CellsToAddModList                                                       OPTIONAL,   -- Need N

    blackCellsToRemoveList              PCI-RangeIndexList                                                      OPTIONAL,   -- Need N
    blackCellsToAddModList              SEQUENCE (SIZE (1..maxNrofPCI-Ranges)) OF PCI-RangeElement          OPTIONAL,   -- Need N

    whiteCellsToRemoveList              PCI-RangeIndexList                                                      OPTIONAL,   -- Need N
    whiteCellsToAddModList              SEQUENCE (SIZE (1..maxNrofPCI-Ranges)) OF PCI-RangeElement      OPTIONAL,   -- Need N
    ... ,
    [[
    freqBandIndicatorNR-v1530               FreqBandIndicatorNR                                     OPTIONAL,   -- Need R
    measCycleSCell-v1530                    ENUMERATED {sf160, sf256, sf320, sf512,sf640, sf1024, sf1280}   OPTIONAL    -- Need R
    ]]
}

ReferenceSignalConfig::=            SEQUENCE {
    ssb-ConfigMobility                  SSB-ConfigMobility                                                      OPTIONAL,   -- Need M
    csi-rs-ResourceConfigMobility       SetupRelease { CSI-RS-ResourceConfigMobility }                          OPTIONAL    -- Need M
}

SSB-ConfigMobility::=               SEQUENCE {

    ssb-ToMeasure                           SetupRelease { SSB-ToMeasure }                                      OPTIONAL,   -- Need M
    deriveSSB-IndexFromCell             BOOLEAN,
    ss-RSSI-Measurement                         SS-RSSI-Measurement                                         OPTIONAL,   -- Need M
    ...
}


Q-OffsetRangeList ::=               SEQUENCE {
    rsrpOffsetSSB                       Q-OffsetRange               DEFAULT dB0,
    rsrqOffsetSSB                       Q-OffsetRange               DEFAULT dB0,
    sinrOffsetSSB                       Q-OffsetRange               DEFAULT dB0,
    rsrpOffsetCSI-RS                    Q-OffsetRange               DEFAULT dB0,
    rsrqOffsetCSI-RS                    Q-OffsetRange               DEFAULT dB0,
    sinrOffsetCSI-RS                    Q-OffsetRange               DEFAULT dB0
}


ThresholdNR ::=                     SEQUENCE{
    thresholdRSRP                       RSRP-Range                  OPTIONAL,   -- Need R
    thresholdRSRQ                       RSRQ-Range                  OPTIONAL,   -- Need R
    thresholdSINR                       SINR-Range                  OPTIONAL    -- Need R
}

CellsToAddModList ::=               SEQUENCE (SIZE (1..maxNrofCellMeas)) OF CellsToAddMod

CellsToAddMod ::=                   SEQUENCE {
    physCellId                          PhysCellId,
    cellIndividualOffset                Q-OffsetRangeList
}




-- TAG-MEAS-OBJECT-NR-STOP
-- ASN1STOP

CellsToAddMod field descriptions
cellIndividualOffset
Cell individual offsets applicable to a specific cell.
physCellId
Physical cell identity of a cell in the cell list.

MeasObjectNR field descriptions
absThreshCSI-RS-Consolidation
Absolute threshold for the consolidation of measurement results per CSI-RS resource(s) from L1 filter(s). The values above the threshold are used as input to the derivation of cell measurement results as described in 5.5.3.3 and the L3 filter(s) per CSI-RS resource as described in 5.5.3.2.
absThreshSS-BlocksConsolidation
Absolute threshold for the consolidation of measurement results per SS/PBCH block(s) from L1 filter(s). The values above the threshold are used as input to the derivation of cell measurement results as described in 5.5.3.3and the L3 filter(s) per SS/PBCH block index as described in 5.5.3.2.
blackCellsToAddModList
List of cells to add/modify in the black list of cells. It applies only to SSB resources.
blackCellsToRemoveList
List of cells to remove from the black list of cells.
cellsToAddModList
List of cells to add/modify in the cell list.
cellsToRemoveList
List of cells to remove from the cell list. 
freqBandIndicatorNR
The frequency band in which the ssbFrequency is located and according to which the UE shall perform the RRC measurements. 
measCycleSCell
The parameter is used only when an SCell is configured on the frequency indicated by the measObjectNR and is in deactivated state, see TS 38.133 [14]. gNB configures the parameter whenever an SCell is configured on the frequency indicated by the measObjectNR, but the field may also be signalled when an SCell is not configured. Value sf160 corresponds to 160 sub-frames, sf256 corresponds to 256 sub-frames and so on.
nrofCSInrofCSI-RS-ResourcesToAverage
Indicates the maximum number of measurement results per beam based on CSI-RS resources to be averaged. The same value applies for each detected cell associated with this MeasObjectNR.
nrofSS-BlocksToAverage
Indicates the maximum number of measurement results per beam based on SS/PBCH blocks to be averaged. The same value applies for each detected cell associated with this MeasObject.
offsetMO
Offset values applicable to all measured cells with reference signal(s) indicated in this MeasObjectNR.
quantityConfigIndex
Indicates the n-th element of quantityConfigNR-List provided in MeasConfig.
referenceSignalConfig
RS configuration (e.g. SMTC window, CSI-RS resource, etc.)
refFreqCSI-RS
Point A which is used for mapping of CSI-RS to physical resources according to TS 38.211 section 7.4.1.5.3.
smtc1
Primary measurement timing configuration. (see section 5.5.2.10).
smtc2
Secondary measurement timing configuration for SS corresponding to this MeasObjectNR with PCI listed in pci-List. For these SS, the periodicity is indicated by periodicity in smtc2 and the timing offset is equal to the offset indicated in periodicityAndOffset modulo periodicity. periodicity in smtc2 can only be set to a value strictly shorter than the periodicity indicated by periodicityAndOffset in smtc1 (e.g. if periodicityAndOffset indicates sf10, periodicity can only be set of sf5, if periodicityAndOffset indicates sf5, smtc2 cannot be configured).
ssbFrequency
Indicates the frequency of the SS associated to this MeasObjectNR.
ssbSubcarrierSpacing
Subcarrier spacing of SSB. Only the values 15 or 30 (<6GHz), 120 kHz or 240 kHz (>6GHz) are applicable.
whiteCellsToAddModList
List of cells to add/modify in the white list of cells. It applies only to SSB resources.
whiteCellsToRemoveList
List of cells to remove from the white list of cells.

ReferenceSignalConfig field descriptions
csi-rs-ResourceConfigMobility
CSI-RS resources to be used for CSI-RS based RRM measurements
ssb-ConfigMobility
SSB configuration for mobility (nominal SSBs, timing configuration)

SSB-ConfigMobility field descriptions
deriveSSB-IndexFromCell
If this field is set to TRUE, UE assumes SFN and frame boundary alignment across cells on the same frequency carrier as specified in 38.133 [14]. Hence, if the UE is configured with a serving cell for which (absoluteFrequencySSB, subcarrierSpacing) in ServingCellConfigCommon is equal to (ssbFrequency, ssbSubcarrierSpacing) in this MeasObjectNR, this field indicates whether the UE can utilize the timing of this serving cell to derive the index of SS block transmitted by neighbour cell. Otherwise, this field indicates whether the UE may use the timing of any detected cell on that target frequency to derive the SSB index of all neighbour cells on that frequency.
ssb-ToMeasure
The set of SS blocks to be measured within the SMTC measurement duration. The first/ leftmost bit corresponds to SS/PBCH block index 0, the second bit corresponds to SS/PBCH block index 1, and so on. Value 0 in the bitmap indicates that the corresponding SS/PBCH block is not to be measured while value 1 indicates that the corresponding SS/PBCH block is to be measured (see 38.215). When the field is not configured the UE measures on all SS blocks. Regardless of the value of this field, SS/PBCH block outside of the applicable smtc are not to be measured. See TS 38.215 section 5.1.1.

Conditional Presence
Explanation
SSBorAssociatedSSB
This field is mandatory present if ssb-ConfigMobility is configured or associatedSSB is configured in at least one cell, otherwise, it is absent and the UE releases a previously configured value.
IntraFreqConnected
This field is optionally present, Need R if the UE is configured with a serving cell for which (absoluteFrequencySSB, subcarrierSpacing) in ServingCellConfigCommon is equal to (ssbFrequency, ssbSubcarrierSpacing) in this MeasObjectNR, otherwise, it is absent.

–	MeasObjectToAddModList
The IE MeasObjectToAddModList concerns a list of measurement objects to add or modify.
MeasObjectToAddModList information element
-- ASN1START
-- TAG-MEAS-OBJECT-TO-ADD-MOD-LIST-START

MeasObjectToAddModList ::=                  SEQUENCE (SIZE (1..maxNrofObjectId)) OF MeasObjectToAddMod

MeasObjectToAddMod ::=                      SEQUENCE {
    measObjectId                                MeasObjectId,
    measObject                                  CHOICE {
        measObjectNR                                MeasObjectNR,
        ... ,
        measObjectEUTRA                             MeasObjectEUTRA
    }
}

-- TAG-MEAS-OBJECT-TO-ADD-MOD-LIST-STOP
-- ASN1STOP

–	MeasResultCellListSFTD
The IE MeasResultCellListSFTD consists of SFN and radio frame boundary difference between the PCell and an NR  cell as specified in TS 38.215 [9] and TS 38.133 [14].
MeasResultCellListSFTD information element
-- ASN1START
-- TAG-MEASRESULT-CELL-LIST-SFTD-START

MeasResultCellListSFTD ::=          SEQUENCE (SIZE (1..maxCellSFTD)) OF MeasResultCellSFTD

MeasResultCellSFTD ::=              SEQUENCE {
    physCellId                          PhysCellId,
    sfn-OffsetResult                    INTEGER (0..1023),
    frameBoundaryOffsetResult           INTEGER (-30720..30719),
    rsrp-Result                         RSRP-Range                      OPTIONAL
}

-- TAG-MEASRESULT-CELL-LIST-SFTD-STOP
-- ASN1STOP

MeasResultSFTD field descriptions
sfn-OffsetResult
Indicates the SFN difference between the PCell and the NR cell as an integer value according to TS 38.215 [9].
frameBoundaryOffsetResult
Indicates the frame boundary difference between the PCell and the NR cell as an integer value according to TS 38.215 [9].

–	MeasResults
The IE MeasResults covers measured results for intra-frequency, inter-frequency, and inter-RAT mobility.
MeasResults information element
-- ASN1START
-- TAG-MEAS-RESULTS-START

MeasResults ::=                         SEQUENCE {
    measId                                  MeasId,
    measResultServingMOList                 MeasResultServMOList,
    measResultNeighCells                    CHOICE {
        measResultListNR                        MeasResultListNR,
        ...,
        measResultListEUTRA                     MeasResultListEUTRA
    }                                                                                                                   OPTIONAL,
    ...
}

MeasResultServMOList ::=                SEQUENCE (SIZE (1..maxNrofServingCells)) OF MeasResultServMO

MeasResultServMO ::=                    SEQUENCE {
    servCellId                              ServCellIndex,
    measResultServingCell                   MeasResultNR,
    measResultBestNeighCell                 MeasResultNR                                                                OPTIONAL,
    ...
}

MeasResultListNR ::=                    SEQUENCE (SIZE (1..maxCellReport)) OF MeasResultNR

MeasResultNR ::=                        SEQUENCE {
    physCellId                              PhysCellId                                                                  OPTIONAL,
    measResult                              SEQUENCE {
        cellResults                             SEQUENCE{
            resultsSSB-Cell                         MeasQuantityResults                                                 OPTIONAL,
            resultsCSI-RS-Cell                      MeasQuantityResults                                                 OPTIONAL
        },
        rsIndexResults                          SEQUENCE{
            resultsSSB-Indexes                      ResultsPerSSB-IndexList                                             OPTIONAL,
            resultsCSI-RS-Indexes                   ResultsPerCSI-RS-IndexList                                          OPTIONAL
        }                                                                                                               OPTIONAL
    },
    ...,
    [[
    cgi-Info                                CGI-Info                                                                    OPTIONAL
    ]]
}

MeasResultListEUTRA ::=                 SEQUENCE (SIZE (1..maxCellReport)) OF MeasResultEUTRA

MeasResultEUTRA ::=                     SEQUENCE {
    physCellId                              PhysCellId,
    measResult                              MeasQuantityResultsEUTRA,

    cgi-Info                                SEQUENCE {
        cgi-info-EPC                            SEQUENCE {
            cgi-info-EPC-legacy                     CellAccessRelatedInfo-EUTRA-EPC,
            cgi-info-EPC-list                       SEQUENCE (SIZE (1..maxPLMN)) OF CellAccessRelatedInfo-EUTRA-EPC     OPTIONAL
        } OPTIONAL,

        cgi-info-5GC                            SEQUENCE (SIZE (1..maxPLMN)) OF CellAccessRelatedInfo-EUTRA-5GC         OPTIONAL,
        freqBandIndicator                       FreqBandIndicatorEUTRA,
        multiBandInfoList                       MultiBandInfoListEUTRA                                                  OPTIONAL,
        freqBandIndicatorPriority               ENUMERATED {true}                                                       OPTIONAL
    }                                                                                                                   OPTIONAL,
    ...
}

MultiBandInfoListEUTRA ::=              SEQUENCE (SIZE (1..maxMultiBands)) OF FreqBandIndicatorEUTRA

MeasQuantityResults ::=                 SEQUENCE {
    rsrp                                    RSRP-Range                                                                  OPTIONAL,
    rsrq                                    RSRQ-Range                                                                  OPTIONAL,
    sinr                                    SINR-Range                                                                  OPTIONAL
}


MeasQuantityResultsEUTRA ::=            SEQUENCE {
    rsrp                                    RSRP-RangeEUTRA                                                             OPTIONAL,
    rsrq                                    RSRQ-RangeEUTRA                                                             OPTIONAL,
    sinr                                    SINR-RangeEUTRA                                                             OPTIONAL
}


ResultsPerSSB-IndexList::=              SEQUENCE (SIZE (1..maxNrofIndexesToReport2)) OF ResultsPerSSB-Index

ResultsPerSSB-Index ::=                 SEQUENCE {
    ssb-Index                               SSB-Index,
    ssb-Results                             MeasQuantityResults                                                         OPTIONAL
}

ResultsPerCSI-RS-IndexList::=           SEQUENCE (SIZE (1..maxNrofIndexesToReport2)) OF ResultsPerCSI-RS-Index

ResultsPerCSI-RS-Index ::=              SEQUENCE {
    csi-RS-Index                            CSI-RS-Index,
    csi-RS-Results                          MeasQuantityResults                                                         OPTIONAL
}

-- TAG-MEAS-RESULTS-STOP
-- ASN1STOP

MeasResultServFreq field descriptions
measResultBestNeighCell
Measured results of the best detected neighbour cell on the corresponding serving frequency.
cgi-info-EPC-legacy	
This field includes the cellAccessRelatedInfo of 36.331 [X].
cgi-info-EPC-list
This field includes the cellAccessRelatedInfoList-r14 of 36.331 [X].

Editor's Note: FFS locationInfo.

MeasResults field descriptions
csi-rs-Index
CSI-RS resource index associated to the measurement information to be reported.
measId
Identifies the measurement identity for which the reporting is being performed.
measResult
Measured results of an NR cell.
measResultListNR
List of measured results for the maximum number of reported best cells for an NR measurement identity.
measResultServingMOList
Measured results of measured cells with reference signals indicated in the serving cell measurement objects including measurement results of SpCell, configured SCell(s) and best neighbouring cell within measured cells with reference signals indicated in on each serving cell measurement object.
resultsCSI-RS-Indexes
List of measurement information per CSI-RS resource index of an NR cell.
resultsSSB-Indexes
List of measurement information per SS/PBCH index of an NR cell.
resultsCSI-RS-Cell
Cell level measurement results (e.g. RSRP, RSRQ, SINR) to be reported derived from CSI-RS measurements.
resultsSSB-Cell
Cell level measurement results (e.g. RSRP, RSRQ, SINR) to be reported derived on SS/PBCH block measurements.
rsrp
Measured SS-RSRP or CSI-RSRP results as defined in TS 38.215 [9], either per NR cell from the L1 filter(s) or per (SS/PBCH)/(CSI-RS) index as specified in 5.5.3.3a.
rsrq
Measured SS-RSRQ or CSI-RSRQ results as defined in TS 38.215 [9], either per NR cell from the L1 filter(s) or per (SS/PBCH)/(CSI-RS) index as specified in 5.5.3.3a.
sinr
Measured SS-SINR or CSI-SINR results as defined in TS 38.215 [9], either per NR cell from the L1 filter(s) or per (SS/PBCH)/(CSI-RS) index as specified in 5.5.3.3a.
ssb-Index
SS/PBCH block index associated to the measurement information to be reported.

–	MeasResultSCG-Failure
The IE MeasResultSCG-Failure is used to provide information regarding failures detected by the UE in case of EN-DC.
MeasResultSCG-Failure information element
-- ASN1START
-- TAG-MEAS-RESULT-SCG-FAILURE-START

MeasResultSCG-Failure ::=           SEQUENCE {
    measResultPerMOList                     MeasResultList2NR,
    ...
}

MeasResultList2NR ::=               SEQUENCE (SIZE (1..maxFreq)) OF MeasResult2NR

MeasResult2NR ::=                   SEQUENCE {
    ssbFrequency                        ARFCN-ValueNR                           OPTIONAL,
    refFreqCSI-RS                       ARFCN-ValueNR                           OPTIONAL,
    measResultServingCell               MeasResultNR                            OPTIONAL,
    measResultNeighCellListNR           MeasResultListNR                        OPTIONAL,
    ...
}

-- TAG-MEAS-RESULT-SCG-FAILURE-STOP
-- ASN1STOP

–	MobilityStateParameters
The IE MobilityStateParameters contains parameters to determine UE mobility state.
MobilityStateParameters information element
-- ASN1START
-- TAG-MOBILITY-STATE-PARAMETERS-START

MobilityStateParameters ::=         SEQUENCE{
    t-Evaluation                        ENUMERATED {
                                            s30, s60, s120, s180, s240, spare3, spare2, spare1},
    t-HystNormal                        ENUMERATED {
                                            s30, s60, s120, s180, s240, spare3, spare2, spare1},
    n-CellChangeMedium                  INTEGER (1..16),
    n-CellChangeHigh                    INTEGER (1..16)
}

-- TAG-MOBILITY-STATE-PARAMETERS-STOP
-- ASN1STOP

MobilityStateParameters field descriptions
n-CellChangeHigh
The number of cell changes to enter high mobility state. Corresponds to NCR_H in TS 38.304 [4].
n-CellChangeMedium
The number of cell changes to enter medium mobility state. Corresponds to NCR_M in TS 38.304 [4].
t-Evaluation
The duration for evaluating criteria to enter mobility states. Corresponds to TCRmax in TS 38.304 [4]. Value in seconds, s30 corresponds to 30 s and so on.
t-HystNormal
The additional duration for evaluating criteria to enter normal mobility state. Corresponds to TCRmaxHyst in TS 38.304 [4]. Value in seconds, s30 corresponds to 30 s and so on.

–	MultiFrequencyBandListNR
The IE MultiFrequencyBandListNR is used to configure a list of one or multiple NR frequency bands.
MultiFrequencyBandListNR information element
-- ASN1START
-- TAG-MULTIFREQUENCYBANDLISTNR-START

MultiFrequencyBandListNR ::=        SEQUENCE (SIZE (1..maxNrofMultiBands)) OF FreqBandIndicatorNR

-- TAG-MULTIFREQUENCYBANDLISTNR-STOP
-- ASN1STOP

–	NextHopChainingCount
The IE NextHopChainingCount is used to update the KgNB key and corresponds to parameter NCC: See TS 33.501 [11].
NextHopChainingCount information element
-- ASN1START
-- TAG-NEXTHOPCHAININGCOUNT-START

NextHopChainingCount ::=                    INTEGER (0..7)

-- TAG-NEXTHOPCHAININGCOUNT-STOP
-- ASN1STOP

–	NG-5G-S-TMSI
The IE NG-5G-TMSI contains a 5G S-Temporary Mobile Subscription Identifier (5G-S-TMSI), a temporary UE identity provided by the 5GC which uniquely identifies the UE within the tracking area, see TS 23.003 [20].
NG-5G-S-TMSI information element
-- ASN1START
-- TAG-NG-5G-S-TMSI-START

NG-5G-S-TMSI::=                         BIT STRING (SIZE (48))

-- TAG-NG-5G-S-TMSI-STOP
-- ASN1STOP

NG-5G-S-TMSI field descriptions
ng-5g-TMSI
Indicates the 5G-TMSI as defined in TS 23.003 [20].

–	NZP-CSI-RS-Resource
The IE NZP-CSI-RS-Resource is used to configure Non-Zero-Power (NZP) CSI-RS transmitted in the cell where the IE is included, which the UE may be configured to measure on (see 38.214, section 5.2.2.3.1).
NZP-CSI-RS-Resource information element
-- ASN1START
-- TAG-NZP-CSI-RS-RESOURCE-START

NZP-CSI-RS-Resource ::=             SEQUENCE {
    nzp-CSI-RS-ResourceId               NZP-CSI-RS-ResourceId,
    resourceMapping                     CSI-RS-ResourceMapping,
    powerControlOffset                  INTEGER (-8..15),
    powerControlOffsetSS                ENUMERATED{db-3, db0, db3, db6}                         OPTIONAL,   -- Need R
    scramblingID                        ScramblingId,
    periodicityAndOffset                CSI-ResourcePeriodicityAndOffset                            OPTIONAL,   -- Cond PeriodicOrSemiPersistent
    qcl-InfoPeriodicCSI-RS              TCI-StateId                                                 OPTIONAL,   -- Cond Periodic
    ...
}

-- TAG-NZP-CSI-RS-RESOURCE-STOP
-- ASN1STOP

NZP-CSI-RS-Resource field descriptions
periodicityAndOffset
Periodicity and slot offset sl1 corresponds to a periodicity of 1 slot, sl2 to a periodicity of two slots, and so on. The corresponding offset is also given in number of slots. Corresponds to L1 parameter 'CSI-RS-timeConfig' (see 38.214, section 5.2.2.3.1)
powerControlOffset
Power offset of NZP CSI-RS RE to PDSCH RE. Value in dB. Corresponds to L1 parameter Pc (see 38.214, sections 5.2.2.3.1 and 4.1)
powerControlOffsetSS
Power offset of NZP CSI-RS RE to SS RE. Value in dB. Corresponds to L1 parameter 'Pc_SS' (see 38.214, section 5.2.2.3.1)
qcl-InfoPeriodicCSI-RS
For a target periodic CSI-RS, contains a reference to one TCI-State in TCI-States for providing the QCL source and QCL type. For periodic CSI-RS, the source can be SSB or another periodic-CSI-RS. Refers to the TCI-State which has this value for tci-StateId and is defined in tci-StatesToAddModList in the PDSCH-Config included in the BWP-Downlink corresponding to the serving cell and to the DL BWP to which the resource belongs to. Corresponds to L1 parameter 'QCL-Info-PeriodicCSI-RS' (see 38.214, section 5.2.2.3.1)
resourceMapping
OFDM symbol location(s) in a slot and subcarrier occupancy in a PRB of the CSI-RS resource
scramblingID
Scrambling ID (see 38.214, section 5.2.2.3.1)

Conditional Presence
Explanation
Periodic
The field is optionally present, Need M, for periodic NZP-CSI-RS-Resources (as indicated in CSI-ResourceConfig). The field is absent otherwise
PeriodicOrSemiPersistent
The field is mandatory present, Need M, for periodic and semi-persistent NZP-CSI-RS-Resources (as indicated in CSI-ResourceConfig). The field is absent otherwise.

–	NZP-CSI-RS-ResourceId
The IE NZP-CSI-RS-ResourceId is used to identify one NZP-CSI-RS-Resource.
NZP-CSI-RS-ResourceId information element
-- ASN1START
-- TAG-NZP-CSI-RS-RESOURCEID-START

NZP-CSI-RS-ResourceId ::=           INTEGER (0..maxNrofNZP-CSI-RS-Resources-1)

-- TAG-NZP-CSI-RS-RESOURCEID-STOP
-- ASN1STOP

–	NZP-CSI-RS-ResourceSet
The IE NZP-CSI-RS-ResourceSet is a set of Non-Zero-Power (NZP) CSI-RS resources (their IDs) and set-specific parameters.
NZP-CSI-RS-ResourceSet information element
-- ASN1START
-- TAG-NZP-CSI-RS-RESOURCESET-START
NZP-CSI-RS-ResourceSet ::=          SEQUENCE {
    nzp-CSI-ResourceSetId               NZP-CSI-RS-ResourceSetId,
    nzp-CSI-RS-Resources                SEQUENCE (SIZE (1..maxNrofNZP-CSI-RS-ResourcesPerSet)) OF NZP-CSI-RS-ResourceId,
    repetition                          ENUMERATED { on, off }                                                          OPTIONAL,   -- Need S
    aperiodicTriggeringOffset           INTEGER(0..4)                                                                   OPTIONAL,   -- Need S
    trs-Info                            ENUMERATED {true}                                                               OPTIONAL,   -- Need R
    ...
}

-- TAG-NZP-CSI-RS-RESOURCESET-STOP
-- ASN1STOP

NZP-CSI-RS-ResourceSet field descriptions
aperiodicTriggeringOffset
Offset X between the slot containing the DCI that triggers a set of aperiodic NZP CSI-RS resources and the slot in which the CSI-RS resource set is transmitted. When the field is absent the UE applies the value 0. Corresponds to L1 parameter 'Aperiodic-NZP-CSI-RS-TriggeringOffset' (see 38.214, section FFS_Section)
nzp-CSI-RS-Resources
NZP-CSI-RS-Resources associated with this NZP-CSI-RS resource set. Corresponds to L1 parameter 'CSI-RS-ResourceConfigList' (see 38.214, section 5.2). For CSI, there are at most 8 NZP CSI RS resources per resource set
repetition
Indicates whether repetition is on/off. If the field is set to 'OFF' or if the field is absent, the UE may not assume that the NZP-CSI-RS resources within the resource set are transmitted with the same downlink spatial domain transmission filter and with same NrofPorts in every symbol. Corresponds to L1 parameter 'CSI-RS-ResourceRep' (see 38.214, sections 5.2.2.3.1 and 5.1.6.1.2). Can only be configured for CSI-RS resource sets which are associated with CSI-ReportConfig with report of L1 RSRP or "no report"
trs-Info
Indicates that the antenna port for all NZP-CSI-RS resources in the CSI-RS resource set is same. If the field is absent or released the UE applies the value "false". Corresponds to L1 parameter 'TRS-Info' (see 38.214, section 5.2.2.3.1)

–	NZP-CSI-RS-ResourceSetId
The IE NZP-CSI-RS-ResourceSetId is used to identify one NZP-CSI-RS-ResourceSet.
NZP-CSI-RS-ResourceSetId information element
-- ASN1START
-- TAG-NZP-CSI-RS-RESOURCESETID-START

NZP-CSI-RS-ResourceSetId ::=        INTEGER (0..maxNrofNZP-CSI-RS-ResourceSets-1)

-- TAG-NZP-CSI-RS-RESOURCESETID-STOP
-- ASN1STOP

–	P-Max
The IE P-Max is used to limit the UE's uplink transmission power on a carrier frequency, see TS 38.101 [14].
P-Max information element
-- ASN1START
-- TAG-P-MAX-START

P-Max ::=                           INTEGER (-30..33)

-- TAG-P-MAX-STOP
-- ASN1STOP

–	PCI-List
The IE PCI-List concerns a list of physical cell identities, which may be used for different purposes.
PCI-List information element
-- ASN1START
-- TAG-PCI-LIST-START

PCI-List ::=                        SEQUENCE (SIZE (1..maxNrofCellMeas)) OF PhysCellId

-- TAG-PCI-LIST-STOP
-- ASN1STOP

–	PCI-Range
The IE PCI-Range is used to encode either a single or a range of physical cell identities. The range is encoded by using a start value and by indicating the number of consecutive physical cell identities (including start) in the range. For fields comprising multiple occurrences of PCI-Range, the Network may configure overlapping ranges of physical cell identities.
PCI-Range information element
-- ASN1START
-- TAG-PCI-RANGE-START

PCI-Range ::=                       SEQUENCE {
    start                               PhysCellId,
    range                               ENUMERATED {n4, n8, n12, n16, n24, n32, n48, n64, n84,
                                                    n96, n128, n168, n252, n504, n1008,spare1}                  OPTIONAL    -- Need S
}

-- TAG-PCI-RANGE-STOP
-- ASN1STOP

PCI-Range field descriptions
range
Indicates the number of physical cell identities in the range (including start). Value n4 corresponds with 4, n8 corresponds with 8 and so on. The UE shall apply value 1 in case the field is absent, in which case only the physical cell identity value indicated by start applies.
start
Indicates the lowest physical cell identity in the range.

–	PCI-RangeElement
The IE PCI-RangeElement is used to define a PCI-Range as part of a list (e.g. AddMod list).
PCI-RangeElement information element
-- ASN1START
-- TAG-PCI-RANGEELEMENT-START

PCI-RangeElement ::=                SEQUENCE {
    pci-RangeIndex                      PCI-RangeIndex,
    pci-Range                           PCI-Range
}

-- TAG-PCI-RANGEELEMENT-STOP
-- ASN1STOP

PCI-RangeElement field descriptions
pci-Range
Physical cell identity or a range of physical cell identities.

–	PCI-RangeIndex
The IE PCI-RangeIndex identifies a physical cell id range, which may be used for different purposes.
PCI-RangeIndex information element
-- ASN1START
-- TAG-PCI-RANGE-INDEX-START

PCI-RangeIndex ::=                  INTEGER (1..maxNrofPCI-Ranges)

-- TAG-PCI-RANGE-INDEX-STOP
-- ASN1STOP

–	PCI-RangeIndexList
The IE PCI-RangeIndexList concerns a list of indexes of physical cell id ranges, which may be used for different purposes.
PCI-RangeIndexList information element
-- ASN1START
-- TAG-PCI-RANGE-INDEX-LIST-START

PCI-RangeIndexList ::=              SEQUENCE (SIZE (1..maxNrofPCI-Ranges)) OF PCI-RangeIndex

-- TAG-PCI-Range-INDEX-LIST-STOP
-- ASN1STOP

–	PDCCH-Config
The PDCCH-Config IE is used to configure UE specific PDCCH parameters such as control resource sets (CORESET), search spaces and additional parameters for acquiring the PDCCH.
PDCCH-Config information element
-- ASN1START
-- TAG-PDCCH-CONFIG-START

PDCCH-Config ::=                    SEQUENCE {
    controlResourceSetToAddModList      SEQUENCE(SIZE (1..3)) OF ControlResourceSet                         OPTIONAL,   -- Need N
    controlResourceSetToReleaseList     SEQUENCE(SIZE (1..3)) OF ControlResourceSetId                       OPTIONAL,   -- Need N
    searchSpacesToAddModList            SEQUENCE(SIZE (1..10)) OF SearchSpace                               OPTIONAL,   -- Need N
    searchSpacesToReleaseList           SEQUENCE(SIZE (1..10)) OF SearchSpaceId                             OPTIONAL,   -- Need N
    downlinkPreemption                  SetupRelease { DownlinkPreemption }                                 OPTIONAL,   -- Need M
    tpc-PUSCH                           SetupRelease { PUSCH-TPC-CommandConfig }                            OPTIONAL,   -- Need M
    tpc-PUCCH                           SetupRelease { PUCCH-TPC-CommandConfig }                            OPTIONAL,   -- Cond PUCCH-CellOnly
    tpc-SRS                             SetupRelease { SRS-TPC-CommandConfig}                               OPTIONAL,   -- Need M
    ...
}

-- TAG-PDCCH-CONFIG-STOP
-- ASN1STOP

PDCCH-Config field descriptions
controlResourceSetToAddModList
List of UE specifically configured Control Resource Sets (CORESETs) to be used by the UE. The network configures at most 3 CORESETs per BWP per cell (including UE-specific and common CORESETs).
downlinkPreemption
Configuration of downlink preemption indications to be monitored in this cell. Corresponds to L1 parameter 'Preemp-DL' (see 38.214, section 11.2)
FFS_RAN1: LS R1-1801281 indicates this is "Per Cell (but association with each configured BWP is needed)" => Unclear, keep on BWP for now.
searchSpacesToAddModList
List of UE specifically configured Search Spaces. The network configures at most 10 Search Spaces per BWP per cell (including UE-specific and common Search Spaces).

tpc-PUCCH
Enable and configure reception of group TPC commands for PUCCH
tpc-PUSCH
Enable and configure reception of group TPC commands for PUSCH
tpc-SRS
Enable and configure reception of group TPC commands for SRS

Conditional Presence
Explanation
PUCCH-CellOnly
The field is optionally present, Need M, for the PDCCH-Config of an SpCells as well as for PUCCH SCells. The field is absent otherwise.

–	PDCCH-ConfigCommon
The IE PDCCH-ConfigCommon is used to configure cell specific PDCCH parameters provided in SIB as well as during handover and PSCell/SCell addition.
PDCCH-ConfigCommon information element
-- ASN1START
-- TAG-PDCCH-CONFIGCOMMON-START

PDCCH-ConfigCommon ::=              SEQUENCE {
    controlResourceSetZero              ControlResourceSetZero                                              OPTIONAL,   -- Cond InitialBWP-Only
    commonControlResourceSet            ControlResourceSet                                      OPTIONAL,   -- Need R
    searchSpaceZero                     SearchSpaceZero                                         OPTIONAL,   -- Cond InitialBWP-Only
    commonSearchSpaceList               SEQUENCE (SIZE(1..4)) OF SearchSpace                                OPTIONAL,   -- Need R
    searchSpaceSIB1                     SearchSpaceId                                                       OPTIONAL,   -- Need S
    searchSpaceOtherSystemInformation   SearchSpaceId                                                       OPTIONAL,   -- Need S
    pagingSearchSpace                   SearchSpaceId                                                       OPTIONAL,   -- Need S
    ra-SearchSpace                      SearchSpaceId                                                       OPTIONAL,   -- Need S
    ...
}

-- TAG-PDCCH-CONFIGCOMMON-STOP
-- ASN1STOP

PDCCH-ConfigCommon field descriptions
commonControlResourceSet
An additional common control resource set which may be configured and used for RAR/paging/system information. If the network configures this field, it uses a ControlResourceSetId other than 0 for this ControlResourceSet.
commonSearchSpaceList
A list of additional common search spaces. If the network configures this field, it uses the SearchSpaceIds other than 0.
controlResourceSetZero
Parameters of the common CORESET#0. The values are interpreted like the corresponding bits in MIB pdcch-ConfigSIB1. Even though this field is only configured in the initial BWP (BWP#0) controlResourceSetZero can be used in search spaces configured in other DL BWP(s) than the initial DL BWP if the conditions defined in 38.213, section 10 are satisfied.
pagingSearchSpace
ID of the Search space for paging. Corresponds to L1 parameter 'paging-SearchSpace' (see 38.213, section 10). If the field is absent, the UE does not receive paging in this BWP (see 38.213, section 10).
ra-SearchSpace
ID of the Search space for random access procedure. Corresponds to L1 parameter 'ra-SearchSpace' (see 38.214?, section FFS_Section) If the field is absent, the UE does not receive RAR in this BWP. This field is mandatory present in the DL BWP(s) if the conditions described in TS 38.321 [3], subclause 5.15 are met.
searchSpaceOtherSystemInformation
ID of the Search space for other system information, i.e., SIB2 and beyond. Corresponds to L1 parameter 'osi-SearchSpace' (see 38.213, section 10) If the field is absent, the UE does not receive other system information in this BWP.
searchSpaceSIB1
ID of the search space for SIB1 message. If the field is absent, the UE does not receive SIB1 in this BWP. (see 38.213, section 10)
searchSpaceZero
Parameters of the common SearchSpace#0. The values are interpreted like the corresponding bits in MIB pdcch-ConfigSIB1. Even though this field is only configured in the initial BWP (BWP#0) searchSpaceZero can be used in search spaces configured in other DL BWP(s) than the initial DL BWP if the conditions described in Spec38.213 [13], section 10 are satisfied.

Conditional Presence
Explanation
InitialBWP-Only
If SIB1 is broadcast the field is mandatory present in the PDCCH-ConfigCommon of the initial BWP (BWP#0) in dedicated signalling. It is absent in other BWPs and when sent in system information. In other cases, the field is optionally present.

–	PDCCH-ConfigSIB1
The IE PDCCH-ConfigSIB1 is used to configure the initial DL BWP.
PDCCH-ConfigSIB1 information element
-- ASN1START
-- TAG-PDCCH-CONFIGSIB1-START

PDCCH-ConfigSIB1 ::=                SEQUENCE {
    controlResourceSetZero              ControlResourceSetZero,
    searchSpaceZero                     SearchSpaceZero
}

-- TAG-PDCCH-CONFIGSIB1-STOP
-- ASN1STOP

PDCCH-ConfigSIB1 field descriptions
controlResourceSetZero
Corresponds to the 4 MSB RMSI-PDCCH-Config in TS 38.213 [13], section 13. Determines a common ControlResourceSet (CORESET) of initial DL BWP.
searchSpaceZero
Corresponds to 4 LSB of RMSI-PDCCH-Config in TS 38.213 [13], section 13. Determines a common search space of initial DL BWP

–	PDCCH-ServingCellConfig
The IE PDCCH-ServingCellConfig is used to configure UE specific PDCCH parameters applicable across all bandwidth parts of a serving cell.
PDCCH-ServingCellConfig information element
-- ASN1START
-- TAG-PDCCH-SERVINGCELLCONFIG-START

PDCCH-ServingCellConfig ::=         SEQUENCE {
    slotFormatIndicator                 SetupRelease { SlotFormatIndicator }                                OPTIONAL,   -- Need M
    ...
}

-- TAG-PDCCH-SERVINGCELLCONFIG-STOP
-- ASN1STOP

PDCCH-ServingCellConfig field descriptions
slotFormatIndicator
Configuration of Slot-Format-Indicators to be monitored in the correspondingly configured PDCCHs this serving cell.

–	PDCP-Config
The IE PDCP-Config is used to set the configurable PDCP parameters for signalling and data radio bearers.
PDCP-Config information element
-- ASN1START
-- TAG-PDCP-CONFIG-START

PDCP-Config ::=         SEQUENCE {
    drb                     SEQUENCE {
        discardTimer            ENUMERATED {ms10, ms20, ms30, ms40, ms50, ms60, ms75, ms100, ms150, ms200,
                                            ms250, ms300, ms500, ms750, ms1500, infinity}           OPTIONAL, -- Cond Setup
        pdcp-SN-SizeUL          ENUMERATED {len12bits, len18bits}                                   OPTIONAL, -- Cond Setup2
        pdcp-SN-SizeDL          ENUMERATED {len12bits, len18bits}                                   OPTIONAL, -- Cond Setup2
        headerCompression       CHOICE {
            notUsed                 NULL,
            rohc                    SEQUENCE {
                maxCID                  INTEGER (1..16383)                                          DEFAULT 15,
                profiles                SEQUENCE {
                    profile0x0001           BOOLEAN,
                    profile0x0002           BOOLEAN,
                    profile0x0003           BOOLEAN,
                    profile0x0004           BOOLEAN,
                    profile0x0006           BOOLEAN,
                    profile0x0101           BOOLEAN,
                    profile0x0102           BOOLEAN,
                    profile0x0103           BOOLEAN,
                    profile0x0104           BOOLEAN
                },
                drb-ContinueROHC            ENUMERATED { true }                                     OPTIONAL    -- Need N
            },
            uplinkOnlyROHC          SEQUENCE {
                maxCID                  INTEGER (1..16383)                                          DEFAULT 15,
                profiles                SEQUENCE {
                    profile0x0006           BOOLEAN
                },
                drb-ContinueROHC            ENUMERATED { true }                                     OPTIONAL    -- Need N
            },
            ...
        },
        integrityProtection     ENUMERATED { enabled }                                              OPTIONAL,   -- Cond ConnectedTo5GC
        statusReportRequired    ENUMERATED { true }                                                 OPTIONAL,   -- Cond Rlc-AM
        outOfOrderDelivery      ENUMERATED { true }                                                 OPTIONAL    -- Need R
    }                                                                                               OPTIONAL,   -- Cond DRB
    moreThanOneRLC          SEQUENCE {
        primaryPath             SEQUENCE {
            cellGroup               CellGroupId                                                     OPTIONAL,   -- Need R
            logicalChannel          LogicalChannelIdentity                                          OPTIONAL    -- Need R
        },
        ul-DataSplitThreshold   UL-DataSplitThreshold                                               OPTIONAL, -- Cond SplitBearer
        pdcp-Duplication            BOOLEAN                                                         OPTIONAL    -- Need R
    }                                                                                               OPTIONAL, -- Cond MoreThanOneRLC

    t-Reordering                ENUMERATED {
                                    ms0, ms1, ms2, ms4, ms5, ms8, ms10, ms15, ms20, ms30, ms40,
                                    ms50, ms60, ms80, ms100, ms120, ms140, ms160, ms180, ms200, ms220,
                                    ms240, ms260, ms280, ms300, ms500, ms750, ms1000, ms1250,
                                    ms1500, ms1750, ms2000, ms2250, ms2500, ms2750,
                                    ms3000, spare28, spare27, spare26, spare25, spare24,
                                    spare23, spare22, spare21, spare20,
                                    spare19, spare18, spare17, spare16, spare15, spare14,
                                    spare13, spare12, spare11, spare10, spare09,
                                    spare08, spare07, spare06, spare05, spare04, spare03,
                                    spare02, spare01 }                                              OPTIONAL, -- Need S
    ...,
    [[
    cipheringDisabled       ENUMERATED {true}                                                       OPTIONAL    -- Cond ConnectedTo5GC
    ]]

}

UL-DataSplitThreshold ::= ENUMERATED {
                                            b0, b100, b200, b400, b800, b1600, b3200, b6400, b12800, b25600, b51200, b102400, b204800,
                                            b409600, b819200, b1228800, b1638400, b2457600, b3276800, b4096000, b4915200, b5734400,
                                            b6553600, infinity, spare8, spare7, spare6, spare5, spare4, spare3, spare2, spare1}

-- TAG-PDCP-CONFIG-STOP
-- ASN1STOP

PDCP-Config field descriptions
cipheringDisabled
If included, ciphering is disabled for this DRB regardless of which ciphering algorithm is configured for the SRB/DRBs. The field may only be included if the UE is connected to 5GC. Otherwise the field is absent. The network configures all DRBs with the same PDU-session ID with same value for this field.
discardTimer
Value in ms of discardTimer specified in TS 38.323 [5]. Value ms50 corresponds to 50 ms, ms100 corresponds to 100 ms and so on.
drb-ContinueROHC
Indicates whether the PDCP entity continues or resets the ROHC header compression protocol during PDCP re-establishment, as specified in TS 38.323 [5]. This field is configured only in case of reconfiguration with sync where the PDCP termination point is not changed and the fullConfig is not indicated.
headerCompression
If rohc is configured, the UE shall apply the configured ROHC profile(s) in both uplink and downlink. If uplinkOnlyROHC is configured, the UE shall apply the configure ROHC profile(s) in uplink (there is no header compression in downlink). ROHC can be configured for any bearer type. The network reconfigures headerCompression only upon reconfiguration involving PDCP re-establishment.  Network configures headerCompression to notUsed when outOfOrderDelivery is configured.
integrityProtection
Indicates whether or not integrity protection is configured for this radio bearer.  The value of integrityProtection for a DRB can only be changed using reconfiguration with sync.
FFS: text to indicate where to find the key.
maxCID
Indicates the value of the MAX_CID parameter as specified in TS 38.323 [5]
FFS: need to specify something with respect to UE capabilities.
moreThanOneRLC
FFS / TODO: Handle more than two secondary cell groups
outOfOrderDelivery
Indicates whether or not outOfOrderDelivery specified in TS 38.323 [5] is configured. Out-of-order delivery is configured only when the radio bearer is established.
pdcp-Duplication
Indicates whether or not uplink duplication status at the time of receiving this IE is configured and activated as specified in TS 38.323 [5]. The presence of this field indicates whether duplication is configured. PDCP duplication is not configured for CA packet duplication of LTE RLC bearer. The value of this field, when the field is present, indicates the initial state of the duplication. If set to TRUE, duplication is activated. The value of this field is always TRUE, when configured for a SRB.
pdcp-SN-SizeDL
PDCP sequence number size for downlink, 12 or 18 bits, as specified in TS 38.323 [5]. For SRBs only the value 12 is applicable.
pdcp-SN-SizeUL
PDCP sequence number size for uplink, 12 or 18 bits, as specified in TS 38.323 [5]. For SRBs only the value 12 is applicable.
primaryPath
Indicates the cell group ID and LCID of the primary RLC entity as specified in TS 38.323 clause 5.2.1 for UL data transmission when more than one RLC entity is associated with the PDCP entity. In this version of the specification, only cell group ID corresponding to MCG is supported for SRBs. The NW indicates cellGroup for split bearers using logical channels in different cell groups. The NW indicates logicalChannel for CA based PDCP duplication, i.e., if both logical channels terminate in the same cell group.
statusReportRequired
For AM DRBs, indicates whether the DRB is configured to send a PDCP status report in the uplink, as specified in TS 38.323 [5]. For UL DRBs, the value shall be ignored by the UE.
t-Reordering
Value in ms of t-Reordering specified in TS 38.323 [5]. Value ms0 corresponds to 0ms, value ms20 corresponds to 20ms, value ms40 corresponds to 40ms, and so on.  When the field is absent the UE applies the value infinity.
ul-DataSplitThreshold
Parameter specified in TS 38.323 [5]. Value b0 corresponds to 0 bytes, value b100 corresponds to 100 bytes, value b200 corresponds to 200 bytes, and so on. The network sets this field to 'infinity' for UEs not supporting splitDRB-withUL-Both-MCG-SCG.

Conditional presence
Explanation
DRB
This field is mandatory present when the corresponding DRB is being set up, not present for SRBs.  Otherwise this field is optionally present, need M.
MoreThanOneRLC
This field is mandatory present upon RRC reconfiguration with setup of a PDCP entity for a radio bearer with more than one associated logical channel and upon RRC reconfiguration with the association of an additional logical channel to the PDCP entity.
Upon RRC reconfiguration when a PDCP entity is associated with multiple logical channels, this field is optionally present need M. Otherwise, this field is absent, and all its included parameters are released.
Rlc-AM
For RLC AM, the field is optionally present, need R. Otherwise, the field is not present.
Setup
The field is mandatory present in case of radio bearer setup. Otherwise the field is optionally present, need M.
SplitBearer
The field is optional present, need M, in case of radio bearer with more than one associated RLC mapped to different cell groups. If the field is absent when the split bearer is configured for the radio bearer first time, then the default value infinity is applied. 
ConnectedTo5GC
The field is optionally present, need R, if the UE is connected to 5GC. Otherwise the field is absent.
Setup2
This field is mandatory present in case for radio bearer setup for RLC-AM and RLC-UM. Otherwise, this field is not present.

–	PDSCH-Config
The PDSCH-Config IE is used to configure the UE specific PDSCH parameters.
PDSCH-Config information element
-- ASN1START
-- TAG-PDSCH-CONFIG-START

PDSCH-Config ::=                        SEQUENCE {
    dataScramblingIdentityPDSCH             INTEGER (0..1023)                                                       OPTIONAL,   -- Need S
    dmrs-DownlinkForPDSCH-MappingTypeA      SetupRelease { DMRS-DownlinkConfig }                                    OPTIONAL,   -- Need M
    dmrs-DownlinkForPDSCH-MappingTypeB      SetupRelease { DMRS-DownlinkConfig }                                    OPTIONAL,   -- Need M

    tci-StatesToAddModList                  SEQUENCE (SIZE(1..maxNrofTCI-States)) OF TCI-State                      OPTIONAL,   -- Need N
    tci-StatesToReleaseList                 SEQUENCE (SIZE(1..maxNrofTCI-States)) OF TCI-StateId                    OPTIONAL,   -- Need N
    vrb-ToPRB-Interleaver                   ENUMERATED {n2, n4}                                                     OPTIONAL,   -- Need S
    resourceAllocation                      ENUMERATED { resourceAllocationType0, resourceAllocationType1, dynamicSwitch},
    pdsch-TimeDomainAllocationList          SetupRelease { PDSCH-TimeDomainResourceAllocationList }                 OPTIONAL,   -- Need M
    pdsch-AggregationFactor                 ENUMERATED { n2, n4, n8 }                                               OPTIONAL,   -- Need S
    rateMatchPatternToAddModList            SEQUENCE (SIZE (1..maxNrofRateMatchPatterns)) OF RateMatchPattern       OPTIONAL,   -- Need N
    rateMatchPatternToReleaseList           SEQUENCE (SIZE (1..maxNrofRateMatchPatterns)) OF RateMatchPatternId     OPTIONAL,   -- Need N
    rateMatchPatternGroup1                  RateMatchPatternGroup       OPTIONAL,   -- Need R
    rateMatchPatternGroup2                  RateMatchPatternGroup       OPTIONAL,   -- Need R

    rbg-Size                                ENUMERATED {config1, config2},
    mcs-Table                               ENUMERATED {qam256, qam64LowSE}                                 OPTIONAL,   -- Need S
    maxNrofCodeWordsScheduledByDCI          ENUMERATED {n1, n2}                                                     OPTIONAL,   -- Need R

    prb-BundlingType                        CHOICE {
        staticBundling                          SEQUENCE {
            bundleSize                              ENUMERATED { n4, wideband }                                     OPTIONAL        -- Need S
        },
        dynamicBundling                     SEQUENCE {
            bundleSizeSet1                          ENUMERATED { n4, wideband, n2-wideband, n4-wideband }           OPTIONAL,   -- Need S
            bundleSizeSet2                          ENUMERATED { n4, wideband }                                     OPTIONAL        -- Need S
        }
    },
    zp-CSI-RS-ResourceToAddModList                  SEQUENCE (SIZE (1..maxNrofZP-CSI-RS-Resources)) OF ZP-CSI-RS-Resource       OPTIONAL, -- Need N
    zp-CSI-RS-ResourceToReleaseList                 SEQUENCE (SIZE (1..maxNrofZP-CSI-RS-Resources)) OF ZP-CSI-RS-ResourceId     OPTIONAL, -- Need N
    aperiodic-ZP-CSI-RS-ResourceSetsToAddModList    SEQUENCE (SIZE (1..maxNrofZP-CSI-RS-ResourceSets)) OF ZP-CSI-RS-ResourceSet OPTIONAL, -- Need N
    aperiodic-ZP-CSI-RS-ResourceSetsToReleaseList   SEQUENCE (SIZE (1..maxNrofZP-CSI-RS-ResourceSets)) OF ZP-CSI-RS-ResourceSetId   OPTIONAL,
                                                                                                                                        -- NeedN
    sp-ZP-CSI-RS-ResourceSetsToAddModList   SEQUENCE (SIZE (1..maxNrofZP-CSI-RS-ResourceSets)) OF ZP-CSI-RS-ResourceSet         OPTIONAL,   -- Need N
    sp-ZP-CSI-RS-ResourceSetsToReleaseList  SEQUENCE (SIZE (1..maxNrofZP-CSI-RS-ResourceSets)) OF ZP-CSI-RS-ResourceSetId       OPTIONAL,   -- Need N
    p-ZP-CSI-RS-ResourceSet                 SetupRelease { ZP-CSI-RS-ResourceSet }                                              OPTIONAL,   -- Need M
    ...
}
RateMatchPatternGroup ::=               SEQUENCE (SIZE (1..maxNrofRateMatchPatternsPerGroup)) OF CHOICE {
    cellLevel                               RateMatchPatternId,
    bwpLevel                                RateMatchPatternId
}

-- TAG-PDSCH-CONFIG-STOP
-- ASN1STOP

PDSCH-Config field descriptions
aperiodic-ZP-CSI-RS-ResourceSetsToAddModList
AddMod/Release lists for configuring aperiodically triggered zero-power CSI-RS resource sets. Each set contains a ZP-CSI-RS-ResourceSetId and the IDs of one or more ZP-CSI-RS-Resources (the actual resources are defined in the zp-CSI-RS-ResourceToAddModList). The network configures the UE with at most 3 aperiodic ZP-CSI-RS-ResourceSets and it uses only the ZP-CSI-RS-ResourceSetId 1 to 3. The network triggers a set by indicating its ZP-CSI-RS-ResourceSetId in the DCI payload. The DCI codepoint '01' triggers the resource set with ZP-CSI-RS-ResourceSetId 1, the DCI codepoint '10' triggers the resource set with ZP-CSI-RS-ResourceSetId 2, and the DCI codepoint '11' triggers the resource set with ZP-CSI-RS-ResourceSetId 3. Corresponds to L1 parameter 'Aperiodic-ZP-CSI-RS-Resource-List' (see 38.214, section 5.1.4.2)
dataScramblingIdentityPDSCH
Identifier used to initialize data scrambling (c_init) for PDSCH. If the field is absent, the UE applies the physical cell ID. (see 38.211, section 7.3.1.1).
dmrs-DownlinkForPDSCH-MappingTypeA
DMRS configuration for PDSCH transmissions using PDSCH mapping type A (chosen dynamically via PDSCH-TimeDomainResourceAllocation). Only the fields dmrs-Type, dmrs-AdditionalPosition and maxLength may be set differently for mapping type A and B.
dmrs-DownlinkForPDSCH-MappingTypeB
DMRS configuration for PDSCH transmissions using PDSCH mapping type B (chosen dynamically via PDSCH-TimeDomainResourceAllocation). Only the fields dmrs-Type, dmrs-AdditionalPosition and maxLength may be set differently for mapping type A and B.
maxNrofCodeWordsScheduledByDCI
Maximum number of code words that a single DCI may schedule. This changes the number of MCS/RV/NDI bits in the DCI message from 1 to 2.
mcs-Table
Indicates which MCS table the UE shall use for PDSCH. (see 38.214, section 5.1.3.1). If the field is absent the UE applies the value 64QAM.
pdsch-AggregationFactor
Number of repetitions for data. Corresponds to L1 parameter 'aggregation-factor-DL' (see 38.214, section FFS_Section) When the field is absent the UE applies the value 1
pdsch-TimeDomainAllocationList
List of time-domain configurations for timing of DL assignment to DL data. If configured, the values provided herein override the values received in corresponding PDSCH-ConfigCommon for PDCCH scrambled with C-RNTI or CS-RNTI but not for CORESET#0 for which the default values in 38.214, table 5.1.2.1.1-1 apply.
prb-BundlingType
Indicates the PRB bundle type and bundle size(s). Corresponds to L1 parameter 'PRB_bundling' (see 38.214, section 5.1.2.3). If dynamic is chosen, the actual bundleSizeSet1 or bundleSizeSet2 to use is indicated via DCI. Constraints on bundleSize(Set) setting depending on vrb-ToPRB-Interleaver and rbg-Size settings are described in TS 38.214 ([19], section 5.1.2.3). If a bundleSize(Set) value is absent, the UE applies the value n2. 
p-ZP-CSI-RS-ResourceSet
A set of periodically occurring ZP-CSI-RS-Resources (the actual resources are defined in the zp-CSI-RS-ResourceToAddModList). The network uses the ZP-CSI-RS-ResourceSetId=0 for this set.
rateMatchPatternGroup1
The IDs of a first group of RateMatchPatterns defined in PDSCH-Config->rateMatchPatternToAddModList (BWP level) or in ServingCellConfig ->rateMatchPatternToAddModList (cell level). These patterns can be activated dynamically by DCI.  Corresponds to L1 parameter 'Resource-set-group-1'. (see 38.214, section FFS_Section).
rateMatchPatternGroup2
The IDs of a second group of RateMatchPatterns defined in PDSCH-Config->rateMatchPatternToAddModList (BWP level) or in ServingCellConfig ->rateMatchPatternToAddModList (cell level). These patterns can be activated dynamically by DCI.  Corresponds to L1 parameter 'Resource-set-group-2'. (see 38.214, section FFS_Section).
rateMatchPatternToAddModList
Resources patterns which the UE should rate match PDSCH around. The UE rate matches around the union of all resources indicated in the nested bitmaps. Corresponds to L1 parameter 'Resource-set-BWP' (see 38.214, section 5.1.2.2.3) FFS: RAN1 indicates that there should be a set of patterns per cell and one per BWP => Having both seems unnecessary.
rbg-Size
Selection between config 1 and config 2 for RBG size for PDSCH. The NW may only set the field to config2 if resourceAllocation is set to resourceAllocationType0 or dynamicSwitch. Corresponds to L1 parameter 'RBG-size-PDSCH' (see 38.214, section 5.1.2.2.1).
resourceAllocation
Configuration of resource allocation type 0 and resource allocation type 1 for non-fallback DCI Corresponds to L1 parameter 'Resouce-allocation-config' (see 38.214, section 5.1.2).
sp-ZP-CSI-RS-ResourceSetsToAddModList
AddMod/Release lists for configuring semi-persistent zero-power CSI-RS resource sets. Each set contains a ZP-CSI-RS-ResourceSetId and the IDs of one or more ZP-CSI-RS-Resources (the actual resources are defined in the zp-CSI-RS-ResourceToAddModList). Corresponds to L1 parameter 'ZP-CSI-RS-ResourceSetConfigList' (see 38.214, section FFS_Section).
tci-StatesToAddModList
A list of Transmission Configuration Indicator (TCI) states indicating a transmission configuration which includes QCL-relationships between the DL RSs in one RS set and the PDSCH DMRS ports (see 38.214, section 5.1.4).
vrb-ToPRB-Interleaver
Interleaving unit configurable between 2 and 4 PRBs Corresponds to L1 parameter 'VRB-to-PRB-interleaver' (see 38.211, section 6.3.1.7). When the field is absent, the UE performs non-interleaved VRB-to-PRB mapping.
zp-CSI-RS-ResourceToAddModList
A list of Zero-Power (ZP) CSI-RS resources used for PDSCH rate-matching. Each resource in this list may be referred to from only one type of resource set, i.e., aperiodic, semi-persistent or periodic (see 38.214).

–	PDSCH-ConfigCommon
The IE PDSCH-ConfigCommon is used to configure FFS
PDSCH-ConfigCommon information element
-- ASN1START
-- TAG-PDSCH-CONFIGCOMMON-START

PDSCH-ConfigCommon ::=                  SEQUENCE {
    pdsch-TimeDomainAllocationList                  PDSCH-TimeDomainResourceAllocationList          OPTIONAL,   -- Need R
    ...
}

-- TAG-PDSCH-CONFIGCOMMON-STOP
-- ASN1STOP

PDSCH-ConfigCommon field descriptions
pdsch-AllocationListAllocationList
List of time-domain configurations for timing of DL assignment to DL data. The configuration applies for PDCCH scrambled with C-RNTI or CS-RNTI but not for CORESET#0 for which the default values in 38.214, table 5.1.2.1.1-1 apply.

–	PDSCH-ServingCellConfig
The IE PDSCH-ServingCellConfig is used to configure UE specific PDSCH parameters that are common across the UE's BWPs of one serving cell.
PDSCH-ServingCellConfig information element
-- ASN1START
-- TAG-PDSCH-SERVINGCELLCONFIG-START

PDSCH-ServingCellConfig ::=             SEQUENCE {
    codeBlockGroupTransmission              SetupRelease { PDSCH-CodeBlockGroupTransmission }                       OPTIONAL,   -- Need M
    xOverhead                               ENUMERATED { xOh6, xOh12, xOh18 }                                       OPTIONAL,   -- Need S
    nrofHARQ-ProcessesForPDSCH              ENUMERATED {n2, n4, n6, n10, n12, n16}                                  OPTIONAL,   -- Need S
    pucch-Cell                              ServCellIndex                                                           OPTIONAL    ,   -- Cond SCellAddOnly
    ...
}

PDSCH-CodeBlockGroupTransmission ::=    SEQUENCE {
    maxCodeBlockGroupsPerTransportBlock     ENUMERATED {n2, n4, n6, n8},
    codeBlockGroupFlushIndicator            BOOLEAN,
    ...
}

-- TAG-PDSCH-SERVINGCELLCONFIG-STOP
-- ASN1STOP

PDSCH-CodeBlockGroupTransmission field descriptions
codeBlockGroupFlushIndicator
Indicates whether CBGFI for CBG based (re)transmission in DL is enabled (true). (see 38.212, section 7.3.1.2.2)
maxCodeBlockGroupsPerTransportBlock
Maximum number of code-block-groups (CBGs) per TB. In case of multiple CW, the maximum CBG is 4 (see 38.213, section 9.1.1)

PDSCH-ServingCellConfig field descriptions
codeBlockGroupTransmission
Enables and configures code-block-group (CBG) based transmission (see 38.213, section 9.1.1)
nrofHARQ-ProcessesForPDSCH
The number of HARQ processes to be used on the PDSCH of a serving cell. n2 corresponds to 2 HARQ processes, n4 to 4 HARQ processes and so on. If the field is absent, the UE uses 8 HARQ processes. Corresponds to L1 parameter 'number-HARQ-process-PDSCH' (see 38.214, section REF)
pucch-Cell
The ID of the serving cell (of the same cell group) to use for PUCCH. If the field is absent, the UE sends the HARQ feedback on the PUCCH of the SpCell of this cell group.
xOverhead
Accounts for overhead from CSI-RS, CORESET, etc. If the field is absent, the UE applies value xOh0. Corresponds to L1 parameter 'Xoh-PDSCH' (see 38.214, section 5.1.3.2)

Conditional Presence
Explanation
SCellAddOnly
It is optionally present, Need M, for (non-PUCCH) SCells when adding a new SCell. The field is absent when reconfiguring SCells. The field is also absent for the SpCells as well as for a PUCCH SCell.

–	PDSCH-TimeDomainResourceAllocationList
The IE PDSCH-TimeDomainResourceAllocation is used to configure a time domain relation between PDCCH and PDSCH. The PDSCH-TimeDomainResourceAllocationList contains one or more of such PDSCH-TimeDomainResourceAllocations. 	The network indicates in the DL assignment which of the configured time domain allocations the UE shall apply for that DL assignment. The UE determines the bit width of the DCI field based on the number of entries in the PDSCH-TimeDomainResourceAllocationList. Value 0 in the DCI field refers to the first element in this list, value 1 in the DCI field refers to the second element in this list, and so on.
PDSCH-TimeDomainResourceAllocationList information element
-- ASN1START
-- TAG-PDSCH-TIMEDOMAINRESOURCEALLOCATIONLIST-START


PDSCH-TimeDomainResourceAllocationList ::=  SEQUENCE (SIZE(1..maxNrofDL-Allocations)) OF PDSCH-TimeDomainResourceAllocation

PDSCH-TimeDomainResourceAllocation ::= 	SEQUENCE {
    k0                                      INTEGER(0..32)                      OPTIONAL,   -- Need S
    mappingType                             ENUMERATED {typeA, typeB},
    startSymbolAndLength                    INTEGER (0..127)
}

-- TAG-PDSCH-TIMEDOMAINRESOURCEALLOCATIONLIST-STOP
-- ASN1STOP

PDSCH-TimeDomainResourceAllocation field descriptions
k0
The n1 corresponds to the value 1, n2 corresponds to value 2, and so on. Corresponds to L1 parameter 'K0' (see 38.214, section 5.1.2.1) When the field is absent the UE applies the value 0.
mappingType
PDSCH mapping type. (see 38.214, section 5.3)
startSymbolAndLength
An index giving valid combinations of start symbol and length (jointly encoded) as start and length indicator (SLIV). The network configures the field so that the allocation does not cross the slot boundary.
Corresponds to L1 parameter 'Index-start-len' (see 38.214, section 5.1.2.1)

–	PHR-Config
The IE PHR-Config is used to configure parameters for power headroom reporting.
PHR-Config information element
-- ASN1START
-- TAG-PHR-CONFIG-START

PHR-Config ::=                      SEQUENCE {
    phr-PeriodicTimer                   ENUMERATED {sf10, sf20, sf50, sf100, sf200,sf500, sf1000, infinity},
    phr-ProhibitTimer                   ENUMERATED {sf0, sf10, sf20, sf50, sf100,sf200, sf500, sf1000},
    phr-Tx-PowerFactorChange            ENUMERATED {dB1, dB3, dB6, infinity},
    multiplePHR                         BOOLEAN,
    dummy                               BOOLEAN,
    phr-Type2OtherCell                  BOOLEAN,
    phr-ModeOtherCG                     ENUMERATED {real, virtual},
    ...
}

-- TAG-PHR-CONFIG-STOP
-- ASN1STOP

PHR-Config field descriptions
dummy
This field is not used in this version of the specification and the UE ignores the received value.
multiplePHR
Indicates if power headroom shall be reported using the Single Entry PHR MAC control element or Multiple Entry PHR MAC control element defined in TS 38.321 [3]. True means to use Multiple Entry PHR MAC control element and False means to use the Single Entry PHR MAC control element defined in TS 38.321 [3].
phr-ModeOtherCG
Indicates the mode (i.e. real or virtual) used for the PHR of the activated cells that are part of the other Cell Group (i.e. MCG or SCG), when DC is configured. If the UE is configured with only one cell group (no DC), it ignores the field.
phr-PeriodicTimer
Value in number of subframes for PHR reporting as specified in TS 38.321 [3]. sf10 corresponds to 10 subframes, sf20 corresponds to 20 subframes, and so on.
phr-ProhibitTimer
Value in number of subframes for PHR reporting as specified in TS 38.321 [3]. sf0 corresponds to 0 subframe, sf10 corresponds to 10 subframes, sf20 corresponds to 20 subframes, and so on.
phr-Tx-PowerFactorChange
Value in dB for PHR reporting as specified in TS 38.321 [3]. Value dB1 corresponds to 1 dB, dB3 corresponds to 3 dB and so on. The same value applies for each serving cell (although the associated functionality is performed independently for each cell).
phr-Type2OtherCell
If set to true, the UE shall report a PHR type 2 for the SpCell of the other MAC entity or for the PUCCH SCells of this MAC entity. See 38.321, section 5.4.6.

–	PhysCellId
The PhysCellId identifies the physical cell identity (PCI).
PhysCellId information element
-- ASN1START
-- TAG-PHYS-CELL-ID-START

PhysCellId ::=                      INTEGER (0..1007)

-- TAG-PHYS-CELL-ID-STOP
-- ASN1STOP

–	PhysicalCellGroupConfig
The IE PhysicalCellGroupConfig is used to configure cell-group specific L1 parameters.
PhysicalCellGroupConfig information element
-- ASN1START
-- TAG-PHYSICALCELLGROUPCONFIG-START

PhysicalCellGroupConfig ::=         SEQUENCE {
    harq-ACK-SpatialBundlingPUCCH       ENUMERATED {true}                                                   OPTIONAL,   -- Need S
    harq-ACK-SpatialBundlingPUSCH       ENUMERATED {true}                                                   OPTIONAL,   -- Need S
    p-NR-FR1                            P-Max                                                               OPTIONAL,   -- Need R
    pdsch-HARQ-ACK-Codebook             ENUMERATED {semiStatic, dynamic},
    tpc-SRS-RNTI                        RNTI-Value                                                          OPTIONAL,   -- Need R
    tpc-PUCCH-RNTI                      RNTI-Value                                                          OPTIONAL,   -- Need R
    tpc-PUSCH-RNTI                      RNTI-Value                                                          OPTIONAL,   -- Need R
    sp-CSI-RNTI                         RNTI-Value                                                          OPTIONAL,   -- Cond SP-CSI-Report
    cs-RNTI                             SetupRelease { RNTI-Value }                                         OPTIONAL,    -- Need M
    ...,
    [[
    mcs-C-RNTI                          RNTI-Value                                                          OPTIONAL,   -- Need R
    p-UE-FR1                            P-Max                                                               OPTIONAL    -- Cond MCG-Only
    ]]
}

-- TAG-PHYSICALCELLGROUPCONFIG-STOP
-- ASN1STOP

PhysicalCellGroupConfig field descriptions
cs-RNTI
RNTI value for downlink SPS (see SPS-Config) and uplink configured grant (see ConfiguredGrantConfig).
harq-ACK-SpatialBundlingPUCCH
Enables spatial bundling of HARQ ACKs. It is configured per cell group (i.e. for all the cells within the cell group) for PUCCH reporting of HARQ-ACK. It is only applicable when more than 4 layers are possible to schedule. When the field is absent, the spatial bundling is disabled.
Corresponds to L1 parameter 'HARQ-ACK-spatial-bundling' (see 38.213, section FFS_Section) 
harq-ACK-SpatialBundlingPUSCH
Enables spatial bundling of HARQ ACKs. It is configured per cell group (i.e. for all the cells within the cell group) for PUSCH reporting of HARQ-ACK. It is only applicable when more than 4 layers are possible to schedule. When the field is absent, the spatial bundling is disabled.
Corresponds to L1 parameter 'HARQ-ACK-spatial-bundling' (see 38.213, section FFS_Section) 
mcs-C-RNTI
RNTI to indicate use of qam64LowSE for grant-based transmissions. When the MCS-C-RNTI is configured, RNTI scrambling of DCI CRC is used to choose the corresponding MCS table.
p-NR-FR1
The maximum total transmit power to be used by the UE in this NR cell group across all serving cells in frequency range 1 (FR1). The maximum transmit power that the UE may use may be additionally limited by p-Max (configured in FrequencyInfoUL) and by p-UE-FR1 (configured total for all serving cells operating on FR1).
p-UE-FR1
The maximum total transmit power to be used by the UE across all serving cells in frequency range 1 (FR1) across all cell groups. The maximum transmit power that the UE may use may be additionally limited by p-Max (configured in FrequencyInfoUL) and by p-NR-FR1 (configured for the cell group).
pdsch-HARQ-ACK-Codebook
The PDSCH HARQ-ACK codebook is either semi-static or dynamic. This is applicable to both CA and none CA operation.
Corresponds to L1 parameter 'HARQ-ACK-codebook' (see 38.213, section FFS_Section)
sp-CSI-RNTI
RNTI for Semi-Persistent CSI reporting on PUSCH (see CSI-ReportConfig). Corresponds to L1 parameter 'SPCSI-RNTI' (see 38.214, section 5.2.1.5.2)
tpc-PUCCH-RNTI
RNTI used for PUCCH TPC commands on DCI. Corresponds to L1 parameter 'TPC-PUCCH-RNTI' (see 38.213, section 10).
tpc-PUSCH-RNTI
RNTI used for PUSCH TPC commands on DCI. Corresponds to L1 parameter 'TPC-PUSCH-RNTI' (see 38.213, section 10)
tpc-SRS-RNTI
RNTI used for SRS TPC commands on DCI. Corresponds to L1 parameter 'TPC-SRS-RNTI' (see 38.213, section 10)

Conditional Presence
Explanation
MCG-Only
This field is optionally present, Need R, in the PhysicalCellGroupConfig of the MCG. It is absent otherwise. 
SP-CSI-Report
The field is mandatory present, Need R, when at least one CSI-ReportConfig with reportConfigType set to semiPersistentOnPUSCH is configured; otherwise it is optionally present, need M.

–	PLMN-Identity
The IE PLMN-Identity identifies a Public Land Mobile Network. Further information regarding how to set the IE is specified in TS 23.003 [20].
PLMN-Identityinformation element
-- ASN1START
-- TAG-PLMN-IDENTITY-INFORMATION-START

PLMN-Identity ::=                   SEQUENCE {
    mcc                                 MCC                 OPTIONAL,                   -- Cond MCC
    mnc                                 MNC
}

MCC ::=                             SEQUENCE (SIZE (3)) OF  MCC-MNC-Digit

MNC ::=                             SEQUENCE (SIZE (2..3)) OF   MCC-MNC-Digit

MCC-MNC-Digit ::=                   INTEGER (0..9)


-- TAG-PLMN-IDENTITY-INFORMATION-STOP
-- ASN1STOP

PLMN-Identity field descriptions
mcc
The first element contains the first MCC digit, the second element the second MCC digit and so on. If the field is absent, it takes the same value as the mcc of the immediately preceding IE PLMN-Identity. See TS 23.003 [20].
mnc
The first element contains the first MNC digit, the second element the second MNC digit and so on. See TS 23.003 [20].

Conditional Presence
Explanation
MCC
This field is mandatory present when PLMN-Identity is not used in a list or if it is the first entry of PLMN-Identity in a list. Otherwise it is optional, Need S.

–	PLMN-IdentityInfoList
Includes a list of PLMN identity information.
PLMN-IdentityInfoList information element
-- ASN1START
-- TAG-PLMN-IDENTITY-LIST-START

PLMN-IdentityInfoList ::=               SEQUENCE (SIZE (1..maxPLMN)) OF PLMN-IdentityInfo

PLMN-IdentityInfo ::=                   SEQUENCE {
    plmn-IdentityList                           SEQUENCE (SIZE (1..maxPLMN)) OF PLMN-Identity,
    trackingAreaCode                            TrackingAreaCode                                            OPTIONAL,   -- Need R
    ranac                                       RAN-AreaCode                                                OPTIONAL,       -- Need R
    cellIdentity                                CellIdentity,
    cellReservedForOperatorUse                  ENUMERATED {reserved, notReserved},
    ...
}
-- TAG-PLMN-IDENTITY-LIST-STOP
-- ASN1STOP

PLMN-IdentityInfo field descriptions
cellReservedForOperatorUse
Indicates whether the cell is reserved for operator use (per PLMN), as defined in 38.304 [20].
trackingAreaCode
Indicates Tracking Area Code to which the cell indicated by cellIdentity field belongs. The presence of the field indicates that the cell supports at least standalone operation; the absence of the field indicates that the cell only supports EN-DC functionality.

–	PRB-Id
The PRB-Id identifies a Physical Resource Block (PRB) position within a carrier.
PRB-Id information element
-- ASN1START
-- TAG-PRB-ID-START

PRB-Id ::=                          INTEGER (0..maxNrofPhysicalResourceBlocks-1)

-- TAG-PRB-ID-STOP
-- ASN1STOP

–	PTRS-DownlinkConfig
The IE PTRS-DownlinkConfig is used to configure downlink phase tracking reference signals (PTRS) (see 38.214 section5.1.6.3)
PTRS-DownlinkConfig information element
-- ASN1START
-- TAG-PTRS-DOWNLINKCONFIG-START

PTRS-DownlinkConfig ::=             SEQUENCE {
    frequencyDensity                    SEQUENCE (SIZE (2)) OF INTEGER (1..276)                                 OPTIONAL,   -- Need S
    timeDensity                         SEQUENCE (SIZE (3)) OF INTEGER (0..29)                                  OPTIONAL,   -- Need S
    epre-Ratio                      INTEGER (0..3)                                                          OPTIONAL,   -- Need S
    resourceElementOffset               ENUMERATED { offset01, offset10, offset11 }                             OPTIONAL,   -- Need S
    ...
}

-- TAG-PTRS-DOWNLINKCONFIG-STOP
-- ASN1STOP

PTRS-DownlinkConfig field descriptions
epre-Ratio
EPRE ratio between PTRS and PDSCH. Value 0 correspond to the codepoint "00" in table 4.1-2. Value 1 corresponds to codepoint "01" If the field is not provided, the UE applies value 0. Corresponds to L1 parameter 'DL-PTRS-EPRE-ratio' (see 38.214, section 4.1)
frequencyDensity
Presence and frequency density of DL PT-RS as a function of Scheduled BW. If the field is absent, the UE uses K_PT-RS = 2. Corresponds to L1 parameter 'DL-PTRS-frequency-density-table' (see 38.214, section 5.1.6.3, Table 5.1.6.3-2)
resourceElementOffset
Indicates the subcarrier offset for DL PTRS. If the field is absent, the UE applies the value offset00. Corresponds to L1 parameter 'DL-PTRS-RE-offset' (see 38.214, section 5.1.6.3)
timeDensity
Presence and time density of DL PT-RS as a function of MCS. The value 29 is only applicable for MCS Table 5.1.3.1-1 (38.214). If the field is absent, the UE uses L_PT-RS = 1. Corresponds to L1 parameter 'DL-PTRS-time-density-table' (see 38.214, section 5.1.6.3, Table 5.1.6.3-1)

–	PTRS-UplinkConfig
The IE PTRS-UplinkConfig is used to configure uplink Phase-Tracking-Reference-Signals (PTRS).
PTRS-UplinkConfig information element
-- ASN1START
-- TAG-PTRS-UPLINKCONFIG-START

PTRS-UplinkConfig ::=                   SEQUENCE {
    transformPrecoderDisabled               SEQUENCE {
        frequencyDensity
                        SEQUENCE (SIZE (2)) OF INTEGER (1..276)                 OPTIONAL,   -- Need S
        timeDensity                         SEQUENCE (SIZE (3)) OF INTEGER (0..29)                  OPTIONAL,   -- Need S
        maxNrofPorts                            ENUMERATED {n1, n2},
        resourceElementOffset                   ENUMERATED {offset01, offset10, offset11 }              OPTIONAL,   -- Need S
        ptrs-Power                              ENUMERATED {p00, p01, p10, p11}
    }                                                                                                       OPTIONAL,   -- Need R
    transformPrecoderEnabled                SEQUENCE {
        sampleDensity                           SEQUENCE (SIZE (5)) OF INTEGER (1..276),
        timeDensityTransformPrecoding           ENUMERATED {d2}                                             OPTIONAL    -- Need S
    }                                                                                                       OPTIONAL,   -- Need R
    ...
}

-- TAG-PTRS-UPLINKCONFIG-STOP
-- ASN1STOP

PTRS-UplinkConfig field descriptions
frequencyDensity
Presence and frequency density of UL PT-RS for CP-OFDM waveform as a function of scheduled BW If the field is absent, the UE uses K_PT-RS = 2. Corresponds to L1 parameter 'UL-PTRS-frequency-density-table' (see 38.214, section 6.1)
maxNrofPorts
The maximum number of UL PTRS ports for CP-OFDM. Corresponds to L1 parameter 'UL-PTRS-ports' (see 38.214, section 6.2.3.1)
ptrs-Power
UL PTRS power boosting factor per PTRS port. Corresponds to L1 parameter 'UL-PTRS-power' (see 38.214, section 6.1, table 6.2.3-5)
resourceElementOffset
Indicates the subcarrier offset for UL PTRS for CP-OFDM. If the field is absent, the UE applies the value offset00. Corresponds to L1 parameter 'UL-PTRS-RE-offset' (see 38.214, section 6.1)
sampleDensity
Sample density of PT-RS for DFT-s-OFDM, pre-DFT, indicating a set of thresholds T={NRBn, n=0,1,2,3,4}, that indicates dependency between presence of PT-RS and scheduled BW and the values of X and K the UE should use depending on the scheduled BW according to the table in 38.214
FFS_Section. Corresponds to L1 parameter 'UL-PTRS-pre-DFT-density' (see 38.214, section 6.1, 6.2.3-3)
timeDensity
Presence and time density of UL PT-RS for CP-OFDM waveform as a function of MCS If the field is absent, the UE uses L_PT-RS = 1. Corresponds to L1 parameter 'UL-PTRS-time-density-table' (see 38.214, section 6.1)
timeDensityTransformPrecoding
Time density (OFDM symbol level) of PT-RS for DFT-s-OFDM. If the field is absent, the UE applies value d1. Corresponds to L1 parameter 'UL-PTRS-time-density-transform-precoding' (see 38.214, section 6.1)
transformPrecoderDisabled
Configuration of UL PTRS without transform precoder (with CP-OFDM).
transformPrecoderEnabled
Configuration of UL PTRS with transform precoder (DFT-S-OFDM).

–	PUCCH-Config
The IE PUCCH-Config is used to configure UE specific PUCCH parameters (per BWP).
PUCCH-Config information element
-- ASN1START
-- TAG-PUCCH-CONFIG-START

PUCCH-Config ::=                        SEQUENCE {
    resourceSetToAddModList                 SEQUENCE (SIZE (1..maxNrofPUCCH-ResourceSets)) OF PUCCH-ResourceSet             OPTIONAL,   -- Need N
    resourceSetToReleaseList                SEQUENCE (SIZE (1..maxNrofPUCCH-ResourceSets)) OF PUCCH-ResourceSetId           OPTIONAL,   -- Need N

    resourceToAddModList                    SEQUENCE (SIZE (1..maxNrofPUCCH-Resources)) OF PUCCH-Resource                   OPTIONAL,   -- Need N
    resourceToReleaseList                   SEQUENCE (SIZE (1..maxNrofPUCCH-Resources)) OF PUCCH-ResourceId                 OPTIONAL,   -- Need N

    format1                                 SetupRelease { PUCCH-FormatConfig }                                             OPTIONAL,   -- Need M
    format2                                 SetupRelease { PUCCH-FormatConfig }                                             OPTIONAL,   -- Need M
    format3                                 SetupRelease { PUCCH-FormatConfig }                                             OPTIONAL,   -- Need M
    format4                                 SetupRelease { PUCCH-FormatConfig }                                             OPTIONAL,   -- Need M

    schedulingRequestResourceToAddModList   SEQUENCE (SIZE (1..maxNrofSR-Resources)) OF SchedulingRequestResourceConfig     OPTIONAL, -- Need N
    schedulingRequestResourceToReleaseList  SEQUENCE (SIZE (1..maxNrofSR-Resources)) OF SchedulingRequestResourceId         OPTIONAL, -- Need N

    multi-CSI-PUCCH-ResourceList            SEQUENCE (SIZE (1..2)) OF PUCCH-ResourceId                                      OPTIONAL,-- Need M
    dl-DataToUL-ACK                         SEQUENCE (SIZE (1..8)) OF INTEGER (0..15)                                           OPTIONAL,   -- Need M

    spatialRelationInfoToAddModList         SEQUENCE (SIZE (1..maxNrofSpatialRelationInfos)) OF PUCCH-SpatialRelationInfo   OPTIONAL,   -- Need N
    spatialRelationInfoToReleaseList        SEQUENCE (SIZE (1..maxNrofSpatialRelationInfos)) OF PUCCH-SpatialRelationInfoId OPTIONAL,   -- Need N

    pucch-PowerControl                      PUCCH-PowerControl                                                              OPTIONAL,   -- Need M
    ...
}

PUCCH-FormatConfig ::=                  SEQUENCE {
    interslotFrequencyHopping               ENUMERATED {enabled}                                                        OPTIONAL,   -- Need R
    additionalDMRS                          ENUMERATED {true}                                                           OPTIONAL,   -- Need R
    maxCodeRate                             PUCCH-MaxCodeRate                                                           OPTIONAL,   -- Need R
    nrofSlots                               ENUMERATED {n2,n4,n8}                                                       OPTIONAL,   -- Need S
    pi2BPSK                                 ENUMERATED {enabled}                                                        OPTIONAL,   -- Need R
    simultaneousHARQ-ACK-CSI                ENUMERATED {true}                                                           OPTIONAL    -- Need R
}

PUCCH-MaxCodeRate ::=                   ENUMERATED {zeroDot08, zeroDot15, zeroDot25, zeroDot35, zeroDot45, zeroDot60, zeroDot80}

-- A set with one or more PUCCH resources
PUCCH-ResourceSet ::=                   SEQUENCE {
    pucch-ResourceSetId                     PUCCH-ResourceSetId,
    resourceList                    SEQUENCE (SIZE (1..maxNrofPUCCH-ResourcesPerSet)) OF PUCCH-ResourceId,
    maxPayloadMinus1                        INTEGER (4..256)                                                        OPTIONAL    -- Need R
}

PUCCH-ResourceSetId ::=                 INTEGER (0..maxNrofPUCCH-ResourceSets-1)

PUCCH-Resource ::=                      SEQUENCE {
    pucch-ResourceId                        PUCCH-ResourceId,
    startingPRB                             PRB-Id,
    intraSlotFrequencyHopping               ENUMERATED { enabled }                                                  OPTIONAL,   -- Need R
    secondHopPRB                            PRB-Id                                                                  OPTIONAL,   -- Need R
    format                                  CHOICE {
        format0                                 PUCCH-format0,
        format1                                 PUCCH-format1,
        format2                                 PUCCH-format2,
        format3                                 PUCCH-format3,
        format4                                 PUCCH-format4
    }
}

PUCCH-ResourceId ::=                    INTEGER (0..maxNrofPUCCH-Resources-1)


PUCCH-format0 ::=                               SEQUENCE {
    initialCyclicShift                              INTEGER(0..11),
    nrofSymbols                                     INTEGER (1..2),
    startingSymbolIndex                             INTEGER(0..13)
}

PUCCH-format1 ::=                               SEQUENCE {
    initialCyclicShift                              INTEGER(0..11),
    nrofSymbols                                     INTEGER (4..14),
    startingSymbolIndex                             INTEGER(0..10),
    timeDomainOCC                                   INTEGER(0..6)
}

PUCCH-format2 ::=                               SEQUENCE {
    nrofPRBs                                        INTEGER (1..16),
    nrofSymbols                                     INTEGER (1..2),
    startingSymbolIndex                             INTEGER(0..13)
}

PUCCH-format3 ::=                               SEQUENCE {
    nrofPRBs                                        INTEGER (1..16),
    nrofSymbols                                     INTEGER (4..14),
    startingSymbolIndex                             INTEGER(0..10)
}

PUCCH-format4 ::=                               SEQUENCE {
    nrofSymbols                                     INTEGER (4..14),
    occ-Length                                      ENUMERATED {n2,n4},
    occ-Index                                       ENUMERATED {n0,n1,n2,n3},
    startingSymbolIndex                             INTEGER(0..10)
}

-- TAG-PUCCH-CONFIG-STOP
-- ASN1STOP


PUCCH-Config field descriptions
dl-DataToUL-ACK
List of timing for given PDSCH to the DL ACK. Corresponds to L1 parameter 'Slot-timing-value-K1' (see TS 38.213, section FFS_Section).
format1
Parameters that are common for all PUCCH resources of format 1.
format2
Parameters that are common for all PUCCH resources of format 2.
format3
Parameters that are common for all PUCCH resources of format 3.
format4.
Parameters that are common for all PUCCH resources of format 4
resourceSetToAddModList
Lists for adding and releasing PUCCH resource sets (see TS 38.213, section 9.2).
resourceToAddModList, resourceToReleaseList
Lists for adding and releasing PUCCH resources applicable for the UL BWP and serving cell in which the PUCCH-Config is defined. The resources defined herein are referred to from other parts of the configuration to determine which resource the UE shall use for which report. The size of the lists is limited to 56 entries.
spatialRelationInfoToAddModList
Configuration of the spatial relation between a reference RS and PUCCH. Reference RS can be SSB/CSI-RS/SRS. If the list has more than one element, MAC-CE selects a single element (see TS 38.321, section FFS_Section and TS 38.213, section 9.2.2).

PUCCH-format3 field descriptions
nrofPRBs
The supported values are 1,2,3,4,5,6,8,9,10,12,15 and 16.

PUCCH-FormatConfig field descriptions
additionalDMRS
If the field is present, the UE enables 2 DMRS symbols per hop of a PUCCH Format 3 or 4 if both hops are more than X symbols when FH is enabled (X=4). And it enables 4 DMRS symbols for a PUCCH Format 3 or 4 with more than 2X+1 symbols when FH is disabled (X=4). The field is not applicable for format 1 and 2. See TS 38.213, section 9.2.2.
interslotFrequencyHopping
If the field is present, the UE enables inter-slot frequency hopping when PUCCH Format 1, 3 or 4 is repeated over multiple slots. For long PUCCH over multiple slots, the intra and inter slot frequency hopping cannot be enabled at the same time for a UE. The field is not applicable for format 2. See TS 38.213, section 9.2.6.
maxCodeRate
Max coding rate to determine how to feedback UCI on PUCCH for format 2, 3 or 4. The field is not applicable for format 1. See TS 38.213, section 9.2.5.
nrofSlots
Number of slots with the same PUCCH F1, F3 or F4. When the field is absent the UE applies the value n1. The field is not applicable for format 2. See TS 38.213, section 9.2.6.
pi2BPSK
If the field is present, the UE uses pi/2 BPSK for UCI symbols instead of QPSK for PUCCH. The field is not applicable for format 1 and 2. See TS 38.213, section 9.2.5.
simultaneousHARQ-ACK-CSI
If the field is present, the UE uses simultaneous transmission of CSI and HARQ-ACK feedback with or without SR with PUCCH Format 2, 3 or 4. See TS 38.213, section 9.2.5. When the field is absent the UE applies the value OFF The field is not applicable for format 1.

PUCCH-Resource field descriptions
format
Selection of the PUCCH format (format 0 - 4) and format-specific parameters, see TS 38.213, section 9.2. format0 and format1 are only allowed for a resource in a first PUCCH resource set. format2, format3 and format4 are only allowed for a resource in non-first PUCCH resource set.
intraSlotFrequencyHopping
Enabling intra-slot frequency hopping, applicable for all types of PUCCH formats. For long PUCCH over multiple slots, the intra and inter slot frequency hopping cannot be enabled at the same time for a UE. See TS 38.213, section 9.2.1.
pucch-ResourceId
Identifier of the PUCCH resource. The range of the field is limited to 0..55.
secondHopPRB
Index of first PRB after frequency hopping (for second hop) of PUCCH. This value is applicable for intra-slot frequency hopping. See TS 38.213, section 9.2.1.

PUCCH-ResourceSet field descriptions
maxPayloadMinus1
Maximum number of payload bits minus 1 that the UE may transmit using this PUCCH resource set. In a PUCCH occurrence, the UE chooses the first of its PUCCH-ResourceSet which supports the number of bits that the UE wants to transmit. The field is not present in the first set (Set0) since the maximum Size of Set0 is specified to be 3 bits. The field is not present in the last configured set since the UE derives its maximum payload size as specified in 38.213. This field can take integer values that are multiples of 4. Corresponds to L1 parameter 'N_2' or 'N_3' (see TS 38.213, section 9.2).
resourceList
PUCCH resources of format0 and format1 are only allowed in the first PUCCH resource set, i.e., in a PUCCH-ResourceSet with pucch-ResourceSetId = 0. This set may contain between 1 and 32 resources. PUCCH resources of format2, format3 and format4 are only allowed in a PUCCH-ResourceSet with pucch-ResourceSetId > 0. If present, these sets contain between 1 and 8 resources each. The UE chooses a PUCCH-Resource from this list as specified in TS 38.213, section 9.2.3. Note that this list contains only a list of resource IDs. The actual resources are configured in PUCCH-Config.

–	PUCCH-ConfigCommon
The PUCCH-ConfigCommon IE is used to configure the cell specific PUCCH parameters.
PUCCH-ConfigCommon information element
-- ASN1START
-- TAG-PUCCH-CONFIGCOMMON-START

PUCCH-ConfigCommon ::=              SEQUENCE {
    pucch-ResourceCommon                INTEGER (0..15)                                                         OPTIONAL,   -- Need R
    pucch-GroupHopping                  ENUMERATED { neither, enable, disable },
    hoppingId                           INTEGER (0..1023)                                                           OPTIONAL,   -- Need R
    p0-nominal                          INTEGER (-202..24)                                                              OPTIONAL,   -- Need R
    ...
}

-- TAG-PUCCH-CONFIGCOMMON-STOP
-- ASN1STOP

PUCCH-ConfigCommon field descriptions
hoppingId
Cell-Specific scrambling ID for group hopping and sequence hopping if enabled. Corresponds to L1 parameter 'HoppingID' (see 38.211, section 6.3.2.2)
p0-nominal
Power control parameter P0 for PUCCH transmissions. Value in dBm. Only even values (step size 2) allowed. Corresponds to L1 parameter 'p0-nominal-pucch' (see 38.213, section 7.2)
pucch-GroupHopping
Configuration of group- and sequence hopping for all the PUCCH formats 0, 1, 3 and 4. "neither" implies neither group or sequence hopping is enabled. "enable" enables group hopping and disables sequence hopping. "disable" disables group hopping and enables sequence hopping. Corresponds to L1 parameter 'PUCCH-GroupHopping' (see 38.211, section 6.4.1.3)
pucch-ResourceCommon
An entry into a 16-row table where each row configures a set of cell-specific PUCCH resources/parameters. The UE uses those PUCCH resources during initial access on the initial uplink BWP. Once the network provides a dedicated PUCCH-Config for that bandwidth part the UE applies that one instead of the one provided in this field. Corresponds to L1 parameter 'PUCCH-resource-common' (see 38.213, section 9.2)

–	PUCCH-PathlossReferenceRS-Id
The IE PUCCH-PathlossReferenceRS-Id is an ID for a reference signal (RS) configured as PUCCH pathloss reference. It corresponds to L1 parameter 'pucch-pathlossreference-index' (see 38.213, section 7.2).
PUCCH-PathlossReferenceRS-Id information element
-- ASN1START
-- TAG-PUCCH-PATHLOSSREFERENCERS-ID-START

PUCCH-PathlossReferenceRS-Id ::=            INTEGER (0..maxNrofPUCCH-PathlossReferenceRSs-1)

-- TAG-PUCCH-PATHLOSSREFERENCERS-ID-STOP
-- ASN1STOP

–	PUCCH-PowerControl
The IE PUCCH-PowerControl is used to configure FFS
PUCCH-PowerControl information element
-- ASN1START
-- TAG-PUCCH-POWERCONTROL-START
PUCCH-PowerControl ::=              SEQUENCE {
    deltaF-PUCCH-f0                     INTEGER (-16..15)                                                                   OPTIONAL,   -- Need R
    deltaF-PUCCH-f1                     INTEGER (-16..15)                                                                   OPTIONAL,   -- Need R
    deltaF-PUCCH-f2                     INTEGER (-16..15)                                                                   OPTIONAL,   -- Need R
    deltaF-PUCCH-f3                     INTEGER (-16..15)                                                                   OPTIONAL,   -- Need R
    deltaF-PUCCH-f4                     INTEGER (-16..15)                                                                   OPTIONAL,   -- Need R
    p0-Set                              SEQUENCE (SIZE (1..maxNrofPUCCH-P0-PerSet)) OF P0-PUCCH                             OPTIONAL, -- Need M
    pathlossReferenceRSs                SEQUENCE (SIZE (1..maxNrofPUCCH-PathlossReferenceRSs)) OF PUCCH-PathlossReferenceRS OPTIONAL, -- Need M
    twoPUCCH-PC-AdjustmentStates        ENUMERATED {twoStates}                                                              OPTIONAL, -- Need S
    ...
}

P0-PUCCH ::=                            SEQUENCE {
    p0-PUCCH-Id                             P0-PUCCH-Id,
    p0-PUCCH-Value                          INTEGER (-16..15)
}

P0-PUCCH-Id ::=                         INTEGER (1..8)

PUCCH-PathlossReferenceRS ::=                   SEQUENCE {
    pucch-PathlossReferenceRS-Id                PUCCH-PathlossReferenceRS-Id,
    referenceSignal                             CHOICE {
        ssb-Index                                   SSB-Index,
        csi-RS-Index                                NZP-CSI-RS-ResourceId
    }
}

-- TAG-PUCCH-POWERCONTROL-STOP
-- ASN1STOP


P0-PUCCH field descriptions
p0-PUCCH-Value
P0 value for PUCCH with 1dB step size.

PUCCH-PowerControl field descriptions
deltaF-PUCCH-f0
deltaF for PUCCH format 0 with 1dB step size (see 38.213, section 7.2)
deltaF-PUCCH-f1
deltaF for PUCCH format 1 with 1dB step size (see 38.213, section 7.2)
deltaF-PUCCH-f2
deltaF for PUCCH format 2 with 1dB step size (see 38.213, section 7.2)
deltaF-PUCCH-f3
deltaF for PUCCH format 3 with 1dB step size (see 38.213, section 7.2)
deltaF-PUCCH-f4
deltaF for PUCCH format 4 with 1dB step size (see 38.213, section 7.2)
p0-Set
A set with dedicated P0 values for PUCCH, i.e.,  {P01, P02,... }. Corresponds to L1 parameter 'p0-pucch-set' (see 38.213, section 7.2)
pathlossReferenceRSs
A set of Reference Signals (e.g. a CSI-RS config or a SS block) to be used for PUCCH pathloss estimation. Up to maxNrofPUCCH-PathlossReference-RSs may be configured FFS_CHECK: Is it possible not to configure it at all? What does the UE use then? Any SSB? Corresponds to L1 parameter 'pucch-pathlossReference-rs-config' (see 38.213, section 7.2)
twoPUCCH-PC-AdjustmentStates
Number of PUCCH power control adjustment states maintained by the UE (i.e., g(i)). If the field is present (n2) the UE maintains two power control states (i.e., g(i,0) and g(i,1)). If the field is absent, it applies one (i.e., g(i,0)). Corresponds to L1 parameter 'num-pucch-pcadjustment-states' (see 38.213, section 7.2)

–	PUCCH-SpatialRelationInfo
The IE PUCCH-SpatialRelationInfo is used to configure FFS
PUCCH-SpatialRelationInfo information element
-- ASN1START
-- TAG-PUCCH-SPATIALRELATIONINFO-START

PUCCH-SpatialRelationInfo ::=           SEQUENCE {
    pucch-SpatialRelationInfoId         PUCCH-SpatialRelationInfoId,
    servingCellId                           ServCellIndex                                       OPTIONAL,   -- Need S
    referenceSignal                         CHOICE {
        ssb-Index                               SSB-Index,
        csi-RS-Index                                NZP-CSI-RS-ResourceId,
        srs                                     SEQUENCE {
                                                    resource                            SRS-ResourceId,
                                                    uplinkBWP                           BWP-Id
                                                }
    },
    pucch-PathlossReferenceRS-Id            PUCCH-PathlossReferenceRS-Id,
    p0-PUCCH-Id                             P0-PUCCH-Id,
    closedLoopIndex                         ENUMERATED { i0, i1 }
}

PUCCH-SpatialRelationInfoId ::=         INTEGER (1..maxNrofSpatialRelationInfos)


-- TAG-PUCCH-SPATIALRELATIONINFO-STOP
-- ASN1STOP

PUCCH-SpatialRelationInfo field descriptions
servingCellId
If the field is absent, the UE applies the ServCellId of the serving cell in which this PUCCH-SpatialRelationInfo is configured

–	PUCCH-TPC-CommandConfig
The IE PUCCH-TPC-CommandConfig is used to configure the UE for extracting TPC commands for PUCCH from a group-TPC messages on DCI.
PUCCH-TPC-CommandConfig information element
-- ASN1START
-- TAG-PUCCH-TPC-COMMANDCONFIG-START

PUCCH-TPC-CommandConfig ::=             SEQUENCE {
    tpc-IndexPCell                          INTEGER (1..15)                                     OPTIONAL,   -- Cond PDCCH-OfSpcell
    tpc-IndexPUCCH-SCell                    INTEGER (1..15)                                     OPTIONAL,   -- Cond PDCCH-ofSpCellOrPUCCH-Scell
    ...
}

-- TAG-PUCCH-TPC-COMMANDCONFIG-STOP
-- ASN1STOP

PUCCH-TPC-CommandConfig field descriptions
tpc-IndexPCell
An index determining the position of the first bit of TPC command (applicable to the SpCell) inside the DCI format 2-2 payload.
tpc-IndexPUCCH-SCell
An index determining the position of the first bit of TPC command (applicable to the PUCCH SCell) inside the DCI format 2-2 payload.

Conditional Presence
Explanation
PDCCH-OfSpcell
The field is mandatory present, need R, if the PUCCH-TPC-CommandConfig is provided in the PDCCH-Config for the SpCell. Otherwise, the field is absent.
PDCCH-ofSpCellOrPUCCH-Scell
The field is mandatory present, need R, if the PUCCH-TPC-CommandConfig is provided in the PDCCH-Config for the PUCCH-SCell.
The field is optionally present, need R, if the UE is configured with a PUCCH SCell in this cell group and if the PUCCH-TPC-CommandConfig is provided in the PDCCH-Config for the SpCell.
Otherwise, the field is absent. 

–	PUSCH-Config
The IE PUSCH-Config is used to configure the UE specific PUSCH parameters applicable to a particular BWP.
PUSCH-Config information element
-- ASN1START
-- TAG-PUSCH-CONFIG-START

PUSCH-Config ::=                        SEQUENCE {
    dataScramblingIdentityPUSCH             INTEGER (0..1023)                                                           OPTIONAL,   -- Need S
    txConfig                                ENUMERATED {codebook, nonCodebook}                                      OPTIONAL,   -- Need S
    dmrs-UplinkForPUSCH-MappingTypeA        SetupRelease { DMRS-UplinkConfig }                                          OPTIONAL,   -- Need M
    dmrs-UplinkForPUSCH-MappingTypeB        SetupRelease { DMRS-UplinkConfig }                                          OPTIONAL,   -- Need M

    pusch-PowerControl                      PUSCH-PowerControl                                                          OPTIONAL, -- Need M
    frequencyHopping                        ENUMERATED {intraSlot, interSlot}                                               OPTIONAL,   -- Need S
    frequencyHoppingOffsetLists             SEQUENCE (SIZE (1..4)) OF INTEGER (1.. maxNrofPhysicalResourceBlocks-1)     OPTIONAL,   -- Need M
    resourceAllocation                      ENUMERATED { resourceAllocationType0, resourceAllocationType1, dynamicSwitch},
    pusch-TimeDomainAllocationList          SetupRelease { PUSCH-TimeDomainResourceAllocationList }                     OPTIONAL,   -- Need M
    pusch-AggregationFactor                 ENUMERATED { n2, n4, n8 }                                       OPTIONAL,   -- Need S
    mcs-Table                               ENUMERATED {qam256, qam64LowSE}                                     OPTIONAL,   -- Need S
    mcs-TableTransformPrecoder              ENUMERATED {qam256, qam64LowSE}                                 OPTIONAL,   -- Need S
    transformPrecoder                       ENUMERATED {enabled, disabled}                                  OPTIONAL,   -- Need S
    codebookSubset                          ENUMERATED {fullyAndPartialAndNonCoherent, partialAndNonCoherent,
                                                            nonCoherent}                                        OPTIONAL,   -- Cond codebookBased
    maxRank                                 INTEGER (1..4)                                                  OPTIONAL,   -- Cond codebookBased
    rbg-Size                                ENUMERATED { config2}                                               OPTIONAL,   -- Need S
    uci-OnPUSCH                             SetupRelease { UCI-OnPUSCH}                                 OPTIONAL, -- Need M
    tp-pi2BPSK                              ENUMERATED {enabled}                                            OPTIONAL,   -- Need S
    ...
}

UCI-OnPUSCH ::=                         SEQUENCE {
    betaOffsets                             CHOICE {
            dynamic                             SEQUENCE (SIZE (4)) OF BetaOffsets,
            semiStatic                          BetaOffsets
    }                                                                                                                   OPTIONAL, -- Need M
    scaling                                 ENUMERATED { f0p5, f0p65, f0p8, f1 }
}

-- TAG-PUSCH-CONFIG-STOP
-- ASN1STOP

PUSCH-Config field descriptions
codebookSubset
Subset of PMIs addressed by TPMI, where PMIs are those supported by UEs with maximum coherence capabilities Corresponds to L1 parameter 'ULCodebookSubset' (see 38.211, section 6.3.1.5).
dataScramblingIdentityPUSCH
Identifier used to initalite data scrambling (c_init) for PUSCH. If the field is absent, the UE applies the physical cell ID. (see 38.211, section 6.3.1.1).
dmrs-UplinkForPUSCH-MappingTypeA
DMRS configuration for PUSCH transmissions using PUSCH mapping type A (chosen dynamically via PUSCH-TimeDomainResourceAllocation). Only the fields dmrs-Type, dmrs-AdditionalPosition and maxLength may be set differently for mapping type A and B.
dmrs-UplinkForPUSCH-MappingTypeB
DMRS configuration for PUSCH transmissions using PUSCH mapping type B (chosen dynamically via PUSCH-TimeDomainResourceAllocation).Only the fields dmrs-Type, dmrs-AdditionalPosition and maxLength may be set differently for mapping type A and B.
frequencyHopping
The value intraSlot enables 'Intra-slot frequency hopping' and the value interSlot enables 'Inter-slot frequency hopping'. If the field is absent, frequency hopping is not configured. Corresponds to L1 parameter 'Frequency-hopping-PUSCH' (see 38.214, section 6).
frequencyHoppingOffsetLists
Set of frequency hopping offsets used when frequency hopping is enabled for granted transmission (not msg3) and type 2 Corresponds to L1 parameter 'Frequency-hopping-offsets-set' (see 38.214, section 6.3).
maxRank
Subset of PMIs addressed by TRIs from 1 to ULmaxRank. Corresponds to L1 parameter 'ULmaxRank' (see 38.211, section 6.3.1.5).
mcs-Table
Indicates which MCS table the UE shall use for PUSCH without transform precoder (see 38.214, section 6.1.4.1). If the field is absent the UE applies the value 64QAM
mcs-TableTransformPrecoder
Indicates which MCS table the UE shall use for PUSCH with transform precoding (see 38.214, section 6.1.4.1) If the field is absent the UE applies the value 64QAM
pusch-AggregationFactor
Number of repetitions for data. Corresponds to L1 parameter 'aggregation-factor-UL' (see 38.214, section FFS_Section). If the field is absent the UE applies the value 1.
pusch-TimeDomainAllocationList
List of time domain allocations for timing of UL assignment to UL data. If configured, the values provided herein override the values received in corresponding PUSCH-ConfigCommon for PDCCH scrambled with C-RNTI or CS-RNTI but not for CORESET#0 (see 38.214, table 6.1.2.1.1-1).
rbg-Size
Selection between configuration 1 and configuration 2 for RBG size for PUSCH. When the field is absent the UE applies the value config1. The NW may only set the field to config2 if resourceAllocation is set to resourceAllocationType0 or dynamicSwitch. Corresponds to L1 parameter 'RBG-size-PUSCH' (see 38.214, section 6.1.2.2.1).
resourceAllocation
Configuration of resource allocation type 0 and resource allocation type 1 for non-fallback DCI Corresponds to L1 parameter 'Resouce-allocation-config' (see 38.214, section 6.1.2).
tp-pi2BPSK
Enables pi/2-BPSK modulation with transform precoding if the field is present and disables it otherwise. 
transformPrecoder
The UE specific selection of transformer precoder for PUSCH. When the field is absent the UE applies the value msg3-tp. Corresponds to L1 parameter 'PUSCH-tp' (see 38.211, section 6.3.1.4).
txConfig
Whether UE uses codebook based or non-codebook based transmission. Corresponds to L1 parameter 'ulTxConfig' (see 38.214, section 6.1.1). If the field is absent, the UE transmits PUSCH on one antenna port, see 38.214, section 6.1.1.




UCI-OnPUSCH field descriptions
betaOffsets
Selection between and configuration of dynamic and semi-static beta-offset. If the field is absent or released, the UE applies the value 'semiStatic' and the BetaOffsets according to FFS [BetaOffsets and/or section 9.x.x). Corresponds to L1 parameter 'UCI-on-PUSCH' (see 38.213, section 9.3).
scaling
Indicates a scaling factor to limit the number of resource elements assigned to UCI on PUSCH. Value f0p5 corresponds to 0.5, value f0p65 corresponds to 0.65, and so on. The value configured herein is applicable for PUCCH with configured grant. Corresponds to L1 parameter 'uci-on-pusch-scaling' (see 38.212, section 6.3).

Conditional Presence
Explanation
codebookBased
The field is mandatory present if txConfig is set to codebook and absent otherwise.

–	PUSCH-ConfigCommon
The IE PUSCH-ConfigCommon IE is used to configure the cell specific PUSCH parameters.
PUSCH-Config information element
-- ASN1START
-- TAG-PUSCH-CONFIGCOMMON-START

PUSCH-ConfigCommon ::=                  SEQUENCE {
    groupHoppingEnabledTransformPrecoding   ENUMERATED {enabled}                                                    OPTIONAL,   -- Need R
    pusch-TimeDomainAllocationList          PUSCH-TimeDomainResourceAllocationList                              OPTIONAL,   -- Need R
    msg3-DeltaPreamble                      INTEGER (-1..6)                                                         OPTIONAL,   -- Need R
    p0-NominalWithGrant                     INTEGER (-202..24)                                                      OPTIONAL,   -- Need R
    ...
}

-- TAG-PUSCH-CONFIGCOMMON-STOP
-- ASN1STOP

PUSCH-ConfigCommon field descriptions
groupHoppingEnabledTransformPrecoding
Sequence-group hopping can be enabled or disabled by means of this cell-specific parameter. Corresponds to L1 parameter 'Group-hopping-enabled-Transform-precoding' (see 38.211, section FFS_Section) This field is Cell specific
msg3-DeltaPreamble
Power offset between msg3 and RACH preamble transmission. Actual value = field value * 2 [dB]. Corresponds to L1 parameter 'Delta-preamble-msg3' (see 38.213, section 7.1)
p0-NominalWithGrant
P0 value for PUSCH with grant (except msg3). Value in dBm. Only even values (step size 2) allowed. Corresponds to L1 parameter 'p0-nominal-pusch-withgrant' (see 38.213, section 7.1) This field is cell specific
pusch-TimeDomainAllocationList
List of time domain allocations for timing of UL assignment to UL data

–	PUSCH-PowerControl
The IE PUSCH-PowerControl is used to configure UE specific power control parameter for PUSCH.
PUSCH-PowerControl information element
-- ASN1START
-- TAG-PUSCH-POWERCONTROL-START

PUSCH-PowerControl ::=              SEQUENCE {
    tpc-Accumulation                    ENUMERATED { disabled }                                                     OPTIONAL,   -- Need S
    msg3-Alpha                          Alpha                                                                       OPTIONAL,   -- Need S
    p0-NominalWithoutGrant              INTEGER (-202..24)                                                          OPTIONAL,   -- Need M,
    p0-AlphaSets                        SEQUENCE (SIZE (1..maxNrofP0-PUSCH-AlphaSets)) OF P0-PUSCH-AlphaSet         OPTIONAL,   -- Need M,
    pathlossReferenceRSToAddModList     SEQUENCE (SIZE (1..maxNrofPUSCH-PathlossReferenceRSs)) OF PUSCH-PathlossReferenceRS
                                                                                                                    OPTIONAL,   -- Need N
    pathlossReferenceRSToReleaseList    SEQUENCE (SIZE (1..maxNrofPUSCH-PathlossReferenceRSs)) OF PUSCH-PathlossReferenceRS-Id
                                                                                                                    OPTIONAL,   -- Need N
    twoPUSCH-PC-AdjustmentStates        ENUMERATED {twoStates}                                                      OPTIONAL, -- Need S
    deltaMCS                            ENUMERATED {enabled}                                                        OPTIONAL, -- Need S
    sri-PUSCH-MappingToAddModList       SEQUENCE (SIZE (1..maxNrofSRI-PUSCH-Mappings)) OF SRI-PUSCH-PowerControl    OPTIONAL, -- Need N
    sri-PUSCH-MappingToReleaseList      SEQUENCE (SIZE (1..maxNrofSRI-PUSCH-Mappings)) OF SRI-PUSCH-PowerControlId  OPTIONAL        -- Need N
}

-- A set of p0-pusch and alpha used for PUSCH with grant. 'PUSCH beam indication' (if present) gives the index of the set to
-- be used for a particular PUSCH transmission. (see 38.213, section 7.1.1)
P0-PUSCH-AlphaSet ::=               SEQUENCE {
    p0-PUSCH-AlphaSetId                 P0-PUSCH-AlphaSetId,
    p0                                  INTEGER (-16..15)                                                           OPTIONAL,   -- Need S
    alpha                               Alpha                                                                       OPTIONAL    -- Need S
}

-- ID for a P0-PUSCH-AlphaSet. Corresponds to L1 parameter 'p0alphasetindex' (see 38.213, section 7.1)
P0-PUSCH-AlphaSetId ::=             INTEGER (0..maxNrofP0-PUSCH-AlphaSets-1)

-- A reference signal (RS) configured as pathloss reference signal for PUSCH power control
-- Corresponds to L1 parameter 'pusch-pathlossReference-rs' (see 38.213, section 7.1)
PUSCH-PathlossReferenceRS ::=       SEQUENCE {
    pusch-PathlossReferenceRS-Id        PUSCH-PathlossReferenceRS-Id,
    referenceSignal                     CHOICE {
        ssb-Index                           SSB-Index,
        csi-RS-Index                        NZP-CSI-RS-ResourceId
    }
}

-- ID for a referemce signal (RS) configured as PUSCH pathloss reference
-- Corresponds to L1 parameter 'pathlossreference-index' (see 38.213, section 7.1)
PUSCH-PathlossReferenceRS-Id ::=    INTEGER (0..maxNrofPUSCH-PathlossReferenceRSs-1)


-- A set of PUSCH power control parameters associated with one SRS-ResourceIndex (SRI)
SRI-PUSCH-PowerControl ::=          SEQUENCE {
    sri-PUSCH-PowerControlId            SRI-PUSCH-PowerControlId,
    sri-PUSCH-PathlossReferenceRS-Id    PUSCH-PathlossReferenceRS-Id,
    sri-P0-PUSCH-AlphaSetId             P0-PUSCH-AlphaSetId,
    sri-PUSCH-ClosedLoopIndex           ENUMERATED { i0, i1 }
}

SRI-PUSCH-PowerControlId ::=        INTEGER (0..maxNrofSRI-PUSCH-Mappings-1)

-- A set of beta-offset values
BetaOffsets ::=                     SEQUENCE {
    betaOffsetACK-Index1                INTEGER(0..31)                                                          OPTIONAL, -- Need S
    betaOffsetACK-Index2                INTEGER(0..31)                                                          OPTIONAL, -- Need S
    betaOffsetACK-Index3                INTEGER(0..31)                                                          OPTIONAL, -- Need S
    betaOffsetCSI-Part1-Index1          INTEGER(0..31)                                                          OPTIONAL, -- Need S
    betaOffsetCSI-Part1-Index2          INTEGER(0..31)                                                          OPTIONAL, -- Need S
    betaOffsetCSI-Part2-Index1          INTEGER(0..31)                                                          OPTIONAL, -- Need S
    betaOffsetCSI-Part2-Index2          INTEGER(0..31)                                                          OPTIONAL    -- Need S
}

-- TAG-PUSCH-POWERCONTROL-STOP
-- ASN1STOP

BetaOffsets field descriptions
betaOffsetACK-Index1
Up to 2 bits HARQ-ACK. Corresponds to L1 parameter 'betaOffset-ACK-Index-1' (see 38.213, section 9.3) When the field is absent the UE applies the value 11
betaOffsetACK-Index2
Up to 11 bits HARQ-ACK. Corresponds to L1 parameter 'betaOffset-ACK-Index-2' (see 38.213, section 9.3) When the field is absent the UE applies the value 11
betaOffsetACK-Index3
Above 11 bits HARQ-ACK. Corresponds to L1 parameter 'betaOffset-ACK-Index-3' (see 38.213, section 9.3) When the field is absent the UE applies the value 11
betaOffsetCSI-Part1-Index1
Up to 11 bits of CSI part 1 bits. Corresponds to L1 parameter 'betaOffset-CSI-part-1-Index-1' (see 38.213, section 9.3) When the field is absent the UE applies the value 13
betaOffsetCSI-Part1-Index2
Above 11 bits of CSI part 1 bits. Corresponds to L1 parameter 'betaOffset-CSI-part-1-Index-2' (see 38.213, section 9.3) When the field is absent the UE applies the value 13
betaOffsetCSI-Part2-Index1
Up to 11 bits of CSI part 2 bits. Corresponds to L1 parameter 'betaOffset-CSI-part-2-Index-1' (see 38.213, section 9.3) When the field is absent the UE applies the value 13
betaOffsetCSI-Part2-Index2
Above 11 bits of CSI part 2 bits. Corresponds to L1 parameter 'betaOffset-CSI-part-2-Index-2' (see 38.213, section 9.3) When the field is absent the UE applies the value 13

P0-PUSCH-AlphaSet field descriptions
alpha
alpha value for PUSCH with grant (except msg3) (see 38.213, section 7.1) When the field is absent the UE applies the value 1
p0
P0 value for PUSCH with grant (except msg3) in steps of 1dB.  Corresponds to L1 parameter 'p0-pusch' (see 38.213, section 7.1)

PUSCH-PowerControl field descriptions
deltaMCS
Indicates whether to apply delta MCS. When the field is absent, the UE applies Ks = 0 in delta_TFC formula for PUSCH. Corresponds to L1 parameter 'deltaMCS-Enabled' (see 38.213, section 7.1)
msg3-Alpha
Dedicated alpha value for msg3 PUSCH. Corresponds to L1 parameter 'alpha-ue-pusch-msg3' (see 38.213, section 7.1) When the field is absent the UE applies the value 1.
p0-AlphaSets
configuration {p0-pusch, alpha} sets for PUSCH (except msg3), i.e., { {p0,alpha,index1}, {p0,alpha,index2},...}. Corresponds to L1 parameter 'p0-push-alpha-setconfig' (see 38.213, section 7.1). When no set is configured, the UE uses the P0-nominal for msg3 PUSCH, P0-UE is set to 0 and alpha is set according to msg3-Alpha configured for msg3 PUSCH.
p0-NominalWithoutGrant
P0 value for UL grant-free/SPS based PUSCH. Value in dBm. Only even values (step size 2) allowed. Corresponds to L1 parameter 'p0-nominal-pusch-withoutgrant' (see 38.213, section 7.1)
pathlossReferenceRSToAddModList
A set of Reference Signals (e.g. a CSI-RS config or a SS block) to be used for PUSCH path loss estimation. Up to maxNrofPUSCH-PathlossReferenceRSs may be configured. Corresponds to L1 parameter 'pusch-pathlossReference-rs-config' (see 38.213, section 7.1)
sri-PUSCH-MappingToAddModList
A list of SRI-PUSCH-PowerControl elements among which one is selected by the SRI field in DCI. Corresponds to L1 parameter 'SRI-PUSCHPowerControl-mapping' (see 38.213, section 7.1)
tpc-Accumulation
If enabled, UE applies TPC commands via accumulation. If not enabled, UE applies the TPC command without accumulation. If the field is absent, TPC accumulation is enabled. Corresponds to L1 parameter 'Accumulation-enabled' (see 38.213, section 7.1)
twoPUSCH-PC-AdjustmentStates
Number of PUSCH power control adjustment states maintained by the UE (i.e., fc(i)). If the field is present (n2) the UE maintains two power control states (i.e., fc(i,1) and fc(i,2)). If the field is absent, it applies one (i.e., fc(i,1)). Corresponds to L1 parameter 'num-pusch-pcadjustment-states' (see 38.213, section 7.1)

SRI-PUSCH-PowerControl field descriptions
sri-P0-PUSCH-AlphaSetId
The ID of a P0-PUSCH-AlphaSet as configured in p0-AlphaSets in PUSCH-PowerControl.
sri-PUSCH-ClosedLoopIndex
The index of the closed power control loop associated with this SRI-PUSCH-PowerControl
sri-PUSCH-PathlossReferenceRS-Id
The ID of PUSCH-PathlossReferenceRS as configured in the pathlossReferenceRSToAddModList in PUSCH-PowerControl.
sri-PUSCH-PowerControlId
The ID of this SRI-PUSCH-PowerControl configuration. It is used as the codepoint (payload) in the SRI DCI field.

–	PUSCH-ServingCellConfig
The IE PUSCH-ServingCellConfig is used to configure UE specific PUSCH parameters that are common across the UE's BWPs of one serving cell.
PUSCH-ServingCellConfig information element
-- ASN1START
-- TAG-PUSCH-SERVINGCELLCONFIG-START

PUSCH-ServingCellConfig ::=             SEQUENCE {
    codeBlockGroupTransmission              SetupRelease { PUSCH-CodeBlockGroupTransmission }                           OPTIONAL,   -- Need M
    rateMatching                            ENUMERATED {limitedBufferRM}                                                OPTIONAL,   -- Need S
    xOverhead                               ENUMERATED {xoh6, xoh12, xoh18}                                             OPTIONAL,   -- Need S
    ...
}

PUSCH-CodeBlockGroupTransmission ::=    SEQUENCE {
    maxCodeBlockGroupsPerTransportBlock     ENUMERATED {n2, n4, n6, n8},
    ...
}

-- TAG-PUSCH-SERVINGCELLCONFIG-STOP
-- ASN1STOP

PUSCH-CodeBlockGroupTransmission field descriptions
maxCodeBlockGroupsPerTransportBlock
Maximum number of code-block-groups (CBGs) per TB (see 38.xxx, section x.x.x, FFS_Ref) 

PUSCH-ServingCellConfig field descriptions
codeBlockGroupTransmission
Enables and configures code-block-group (CBG) based transmission (see 38.214, section FFS_Section)
rateMatching
Enables LBRM (Limited buffer rate-matching). When the field is absent the UE applies FBRM (Full buffer rate-matchingLBRM). Corresponds to L1 parameter 'LBRM-FBRM-selection' (see 38.212, section 5.4.2)
xOverhead
Accounts for overhead from CSI-RS, CORESET, etc. If the field is absent, the UE applies the value 'xoh0'. Corresponds to L1 parameter 'Xoh-PUSCH' (see 38.214, section 5.1.3.2)

–	PUSCH-TimeDomainResourceAllocationList
The IE PUSCH-TimeDomainResourceAllocation is used to configure a time domain relation between PDCCH and PUSCH. PUSCH-TimeDomainResourceAllocationList contains one or more of such PUSCH-TimeDomainResourceAllocations. The network indicates in the UL grant which of the configured time domain allocations the UE shall apply for that UL grant. The UE determines the bit width of the DCI field based on the number of entries in the PUSCH-TimeDomainResourceAllocationList. Value 0 in the DCI field refers to the first element in this list, value 1 in the DCI field refers to the second element in this list, and so on.
PUSCH-TimeDomainResourceAllocation information element
-- ASN1START
-- TAG-PUSCH-TIMEDOMAINRESOURCEALLOCATIONLIST-START

PUSCH-TimeDomainResourceAllocationList ::= 	SEQUENCE (SIZE(1..maxNrofUL-Allocations)) OF PUSCH-TimeDomainResourceAllocation

PUSCH-TimeDomainResourceAllocation ::= 	SEQUENCE {
    k2                                      INTEGER(0..32)          OPTIONAL,   -- Need S
    mappingType                             ENUMERATED {typeA, typeB},
    startSymbolAndLength                    INTEGER (0..127)
}

-- TAG-PUSCH-TIMEDOMAINRESOURCEALLOCATIONLIST-STOP
-- ASN1STOP

PUSCH-TimeDomainResourceAllocationList field descriptions
k2
Corresponds to L1 parameter 'K2' (see 38.214, section 6.1.2.1) When the field is absent the UE applies the value 1 when PUSCH SCS is 15/30KHz; 2 when PUSCH SCS is 60KHz and 3 when PUSCH SCS is 120KHz.
mappingType
Mapping type. Corresponds to L1 parameter 'Mapping-type' (see 38.214, section 6.1.2.1)
startSymbolAndLength
An index giving valid combinations of start symbol and length (jointly encoded) as start and length indicator (SLIV). The network configures the field so that the allocation does not cross the slot boundary. (see 38.214, section 6.1.2.1)

–	PUSCH-TPC-CommandConfig
The IE PUSCH-TPC-CommandConfig is used to configure the UE for extracting TPC commands for PUSCH from a group-TPC messages on DCI.
PUSCH-TPC-CommandConfig information element
-- ASN1START
-- TAG-PUSCH-TPC-COMMANDCONFIG-START

PUSCH-TPC-CommandConfig ::=         SEQUENCE {
    tpc-Index                           INTEGER (1..15)                                                         OPTIONAL,   -- Cond SUL
    tpc-IndexSUL                        INTEGER (1..15)                                                         OPTIONAL,   -- Cond SUL-Only
    targetCell                          ServCellIndex                                                           OPTIONAL,   -- Need S
    ...
}

-- TAG-PUSCH-TPC-COMMANDCONFIG-STOP
-- ASN1STOP

PUSCH-TPC-CommandConfig field descriptions
targetCell
The serving cell to which the acquired power control commands are applicable. If the value is absent, the UE applies the TPC commands to the serving cell on which the command has been received.
tpc-Index
An index determining the position of the first bit of TPC command inside the DCI format 2-2 payload.
tpc-IndexSUL
An index determining the position of the first bit of TPC command inside the DCI format 2-2 payload.

Conditional Presence
Explanation
SUL-Only
The field is optionally present, Need R, if this serving cell is configured with a supplementary uplink (SUL). It is absent otherwise.
SUL
The field is optionally present, Need R, if this serving cell is configured with a supplementary uplink (SUL). It is mandatory present otherwise.

–	Q-OffsetRange
The IE Q-OffsetRange is used to indicate a cell, beam or measurement object specific offset to be applied when evaluating candidates for cell re-selection or when evaluating triggering conditions for measurement reporting. The value in dB. Value dB-24 corresponds to -24 dB, dB-22 corresponds to -22 dB and so on.
Q-OffsetRange information element
-- ASN1START
-- TAG-Q-OFFSET-START

Q-OffsetRange ::=                   ENUMERATED {
                                                dB-24, dB-22, dB-20, dB-18, dB-16, dB-14,
                                                dB-12, dB-10, dB-8, dB-6, dB-5, dB-4, dB-3,
                                                dB-2, dB-1, dB0, dB1, dB2, dB3, dB4, dB5,
                                                dB6, dB8, dB10, dB12, dB14, dB16, dB18,
                                                dB20, dB22, dB24}

-- TAG-Q-OFFSET-STOP
-- ASN1STOP

Editor's Note: FFS Confirm the exact values that are supported.

–	Q-QualMin
The IE Q-QualMin is used to indicate for cell selection/ re-selection the required minimum received RSRQ level in the (NR) cell. Corresponds to parameter Qqualmin in TS 38.304 [4]. Actual value Qqualmin = field value [dB].
Q-QualMin information element
-- ASN1START
-- TAG-Q-QUALMIN-START

Q-QualMin ::=                       INTEGER (-34..-3)       -- FFS range

-- TAG-Q-QUALMIN-STOP
-- ASN1STOP

–	Q-RxLevMin
The IE Q-RxLevMin is used to indicate for cell selection/ re-selection the required minimum received RSRP level in the (NR) cell. Corresponds to parameter Qrxlevmin in TS 38.304 [4]. Actual value Qrxlevmin = field value * 2 [dBm].
Q-RxLevMin information element
-- ASN1START
-- TAG-Q-RXLEVMIN-START

Q-RxLevMin ::=                      INTEGER (-70..-22)      -- FFS range

-- TAG-Q-RXLEVMIN-STOP
-- ASN1STOP

–	QuantityConfig
The IE QuantityConfig specifies the measurement quantities and layer 3 filtering coefficients for NR and inter-RAT measurements.
QuantityConfig information element
-- ASN1START
-- TAG-QUANTITY-CONFIG-START


QuantityConfig ::=                  SEQUENCE {
    quantityConfigNR-List               SEQUENCE (SIZE (1..maxNrofQuantityConfig)) OF QuantityConfigNR          OPTIONAL,   -- Need M
    ...,
    [[
    quantityConfigEUTRA                 FilterConfig                                                            OPTIONAL    -- Need M
    ]]
}

QuantityConfigNR::=                 SEQUENCE {
    quantityConfigCell                  QuantityConfigRS,
    quantityConfigRS-Index              QuantityConfigRS                                                        OPTIONAL    -- Need M
}

QuantityConfigRS ::=                SEQUENCE {
    ssb-FilterConfig                    FilterConfig,
    cs-RS-FilterConfig                  FilterConfig
}

FilterConfig ::=                    SEQUENCE {
    filterCoefficientRSRP               FilterCoefficient                                       DEFAULT fc4,
    filterCoefficientRSRQ               FilterCoefficient                                       DEFAULT fc4,
    filterCoefficientRS-SINR            FilterCoefficient                                       DEFAULT fc4
}

-- TAG-QUANTITY-CONFIG-STOP
-- ASN1STOP

QuantityConfigNR field descriptions
quantityConfigCell
Specifies L3 filter configurations for cell measurement results for the configurable RS Types (e.g. SS/PBCH block and CSI-RS) and the configurable measurement quantities (e.g. RSRP, RSRQ and SINR).
quantityConfigRS-Index
Specifies L3 filter configurations for measurement results per RS index for the configurable RS Types (e.g. SS/PBCH block and CSI-RS) and the configurable measurement quantities (e.g. RSRP, RSRQ and SINR).

QuantityConfigRS field descriptions
cs-RS-FilterConfig
CSI-RS basedL3 filter configurations:
Specifies L3 filter configurations for CSI-RSRP, CSI-RSRQ and CSI-SINR measurement results from the L1 filter(s), as defined in 38.215 [9].
ssb-FilterConfig
SS Block based L3 filter configurations:
Specifies L3 filter configurations for SS-RSRP, SS-RSRQ and SS-SINR measurement results from the L1 filter(s), as defined in 38.215 [9].

–	RACH-ConfigCommon
The RACH-ConfigCommon IE is used to specify the cell specific random-access parameters.
RACH-ConfigCommon information element
-- ASN1START
-- TAG-RACH-CONFIG-COMMON-START

RACH-ConfigCommon ::=               SEQUENCE {
    rach-ConfigGeneric                  RACH-ConfigGeneric,
    totalNumberOfRA-Preambles           INTEGER (1..63)                                                                     OPTIONAL,   -- Need S
    ssb-perRACH-OccasionAndCB-PreamblesPerSSB   CHOICE {
        oneEighth                               ENUMERATED {n4,n8,n12,n16,n20,n24,n28,n32,n36,n40,n44,n48,n52,n56,n60,n64},
        oneFourth                               ENUMERATED {n4,n8,n12,n16,n20,n24,n28,n32,n36,n40,n44,n48,n52,n56,n60,n64},
        oneHalf                                 ENUMERATED {n4,n8,n12,n16,n20,n24,n28,n32,n36,n40,n44,n48,n52,n56,n60,n64},
        one                                     ENUMERATED {n4,n8,n12,n16,n20,n24,n28,n32,n36,n40,n44,n48,n52,n56,n60,n64},
        two                                     ENUMERATED {n4,n8,n12,n16,n20,n24,n28,n32},
        four                                    INTEGER (1..16),
        eight                                   INTEGER (1..8),
        sixteen                                 INTEGER (1..4)
    }                                                                                                                       OPTIONAL,   -- Need M

    groupBconfigured                    SEQUENCE {
        ra-Msg3SizeGroupA                   ENUMERATED {b56, b144, b208, b256, b282, b480, b640,
                                                        b800, b1000, b72, spare6, spare5,spare4, spare3, spare2, spare1},
        messagePowerOffsetGroupB            ENUMERATED { minusinfinity, dB0, dB5, dB8, dB10, dB12, dB15, dB18},
        numberOfRA-PreamblesGroupA          INTEGER (1..64)
    }                                                                                                                       OPTIONAL,   -- Need R
    ra-ContentionResolutionTimer            ENUMERATED { sf8, sf16, sf24, sf32, sf40, sf48, sf56, sf64},
    rsrp-ThresholdSSB                       RSRP-Range                                                                      OPTIONAL,   -- Need R
    rsrp-ThresholdSSB-SUL                   RSRP-Range                                                                      OPTIONAL,   -- Cond SUL
    prach-RootSequenceIndex                 CHOICE {
        l839                                    INTEGER (0..837),
        l139                                    INTEGER (0..137)
    },
    msg1-SubcarrierSpacing                  SubcarrierSpacing                                                       OPTIONAL,   -- Cond L139Need S
    restrictedSetConfig                     ENUMERATED {unrestrictedSet, restrictedSetTypeA, restrictedSetTypeB},
    msg3-transformPrecoder                  ENUMERATED {enabled}                                                            OPTIONAL,   -- Need R
    ...
}

-- TAG-RACH-CONFIG-COMMON-STOP
-- ASN1STOP

RACH-ConfigCommon field descriptions
messagePowerOffsetGroupB
Threshold for preamble selection.  Value in dB.  Value minusinfinity corresponds to –infinity. Value dB0 corresponds to 0 dB, dB5 corresponds to 5 dB and so on. (see 38.321, section 5.1.2)
msg1-SubcarrierSpacing
Subcarrier spacing of PRACH. Only the values 15 or 30 kHz (<6GHz), 60 or 120 kHz (>6GHz) are applicable. Corresponds to L1 parameter 'prach-Msg1SubcarrierSpacing' (see 38.211, section FFS_Section). If absent, the UE applies the SCS as derived from the prach-ConfigurationIndex in RACH-ConfigGeneric (see tables Table 6.3.3.1-1 and Table 6.3.3.2-2, 38.211). The value also applies to contention free random access (RACH-ConfigDedicated), to SI-request and to contention based beam failure recovery (CB-BFR). But it does not apply for contention free beam failure recovery (CF-BFR) (see BeamFailureRecoveryConfig).
msg3-transformPrecoder
Enables the transform precoder for Msg3 transmission. If the field is absent, the UE disables the transformer precoder. Corresponds to L1 parameter 'msg3-tp' (see 38.213, section 8.1)
numberOfRA-PreamblesGroupA
The number of CB preambles per SSB in group A. This determines implicitly the number of CB preambles per SSB available in group B. (see 38.321, section 5.1.1). The setting should be consistent with the setting of ssb-perRACH-OccasionAndCB-PreamblesPerSSB.
prach-RootSequenceIndex
PRACH root sequence index. Corresponds to L1 parameter 'PRACHRootSequenceIndex' (see 38.211, section 6.3.3.1). The value range depends on whether L=839 or L=139. The short/long preamble format indicated in this IE should be consistent with the one indicated in prach-ConfigurationIndex in the RACH-ConfigDedicated (if configured).
ra-ContentionResolutionTimer
The initial value for the contention resolution timer (see 38.321, section 5.1.5). Value sf8 corresponds to 8 subframes, value sf16 corresponds to 16 subframes, and so on.
ra-Msg3SizeGroupA
Transport Blocks size threshold in bit below which the UE shall use a contention based RA preamble of group A. (see 38.321, section 5.1.2)
rach-ConfigGeneric
Generic RACH parameters
restrictedSetConfig
Configuration of an unrestricted set or one of two types of restricted sets, see 38.211	6.3.3.1
rsrp-ThresholdSSB
UE may select the SS block and corresponding PRACH resource for path-loss estimation and (re)transmission based on SS blocks that satisfy the threshold (see 38.213)
rsrp-ThresholdSSB-SUL
The UE selects SUL carrier to perform random access based on this threshold (see TS 38.321, section 5.1.1). The value applies to all the BWPs.
ssb-perRACH-OccasionAndCB-PreamblesPerSSB
The meaning of this field is twofold: the CHOICE conveys the information about the number of SSBs per RACH occasion (L1 parameter 'SSB-per-rach-occasion'). Value oneEight corresponds to one SSB associated with 8 RACH occasions, value oneFourth corresponds to one SSB associated with 4 RACH occasions, and so on. The ENUMERATED part indicates the number of Contention Based preambles per SSB (L1 parameter 'CB-preambles-per-SSB'). Value n4 corresponds to 4 Contention Based preambles per SSB, value n8 corresponds to 8 Contention Based preambles per SSB, and so on. The total number of CB preambles in a RACH occasion is given by CB-preambles-per-SSB * max(1, SSB-per-rach-occasion).
totalNumberOfRA-Preambles
Total number of preambles used for contention based and contention free random access in the RACH resources defined in RACH-ConfigCommon, excluding preambles used for other purposes (e.g. for SI request). If the field is absent, the all 64 preambles are available for RA. The setting should be consistent with the setting of ssb-perRACH-OccasionAndCB-PreamblesPerSSB, i.e. it should be a multiple of the number of SSBs per RACH occasion.

Conditional Presence
Explanation
L139
The field is mandatory present if prach-RootSequenceIndex L=139, otherwise the field is absent.
SUL
The field is mandatory present in initialUplinkBWP in supplementaryUplink; otherwise, the field is absent.

–	RACH-ConfigDedicated
The IE RACH-ConfigDedicated is used to specify the dedicated random access parameters.
RACH-ConfigDedicated information element
-- ASN1START
-- TAG-RACH-CONFIG-DEDICATED-START


RACH-ConfigDedicated ::=        SEQUENCE {
    cfra                            CFRA                                                                    OPTIONAL,   -- Need S
    ra-Prioritization               RA-Prioritization                                                               OPTIONAL,   --Need N
    ...
}

CFRA ::=                    SEQUENCE {
    occasions                       SEQUENCE {
        rach-ConfigGeneric              RACH-ConfigGeneric,
        ssb-perRACH-Occasion            ENUMERATED {oneEighth, oneFourth, oneHalf, one, two, four, eight, sixteen}  OPTIONAL    -- Cond SSB-CFRA
    }                                                                                                               OPTIONAL,   -- Need S
    resources                       CHOICE {
        ssb                             SEQUENCE {
            ssb-ResourceList                SEQUENCE (SIZE(1..maxRA-SSB-Resources)) OF CFRA-SSB-Resource,
            ra-ssb-OccasionMaskIndex        INTEGER (0..15)
        },
        csirs                           SEQUENCE {
            csirs-ResourceList              SEQUENCE (SIZE(1..maxRA-CSIRS-Resources)) OF CFRA-CSIRS-Resource,
            rsrp-ThresholdCSI-RS            RSRP-Range
        }
    },
    ...,
    [[
    totalNumberOfRA-Preambles-v1530 INTEGER (1..63)                         OPTIONAL        -- Cond Occasions
    ]]
}

CFRA-SSB-Resource ::=           SEQUENCE {
    ssb                             SSB-Index,
    ra-PreambleIndex                INTEGER (0..63),
    ...
}

CFRA-CSIRS-Resource ::=         SEQUENCE {
    csi-RS                          CSI-RS-Index,
    ra-OccasionList                 SEQUENCE (SIZE(1..maxRA-OccasionsPerCSIRS)) OF INTEGER (0..maxRA-Occasions-1),
    ra-PreambleIndex                INTEGER (0..63),
    ...
}

-- TAG-RACH-CONFIG-DEDICATED-STOP
-- ASN1STOP

CFRA-CSIRS-Resource field descriptions
csi-RS
The ID of a CSI-RS resource defined in the measurement object associated with this serving cell.
ra-OccasionList
RA occasions that the UE shall use when performing CF-RA upon selecting the candidate beam identified by this CSI-RS. The network ensures that the RA occasion indexes provided herein are also configured by prach-ConfigurationIndex and msg1-FDM. Each RACH occasion is sequentially numbered, first, in increasing order of frequency resource indexes for frequency multiplexed PRACH occasions; second, in increasing order of time resource indexes for time multiplexed PRACH occasions within a PRACH slot and Third, in increasing order of indexes for PRACH slots.
ra-PreambleIndex
The RA preamble index to use in the RA occasions associated with this CSI-RS.

CFRA field descriptions
occasions
RA occasions for contention free random access. If the field is absent, the UE uses the RA occasions configured in RACH-ConfigCommon in the first active UL BWP.
ra-ssb-OccasionMaskIndex
Explicitly signalled PRACH Mask Index for RA Resource selection in TS 36.321. The mask is valid for all SSB resources signalled in ssb-ResourceList
rach-ConfigGeneric
Configuration of contention free random access occasions for CFRA. The UE shall ignore preambleReceivedTargetPower, preambleTransMax, powerRampingStep, ra-ResponseWindow signaled within this field and use the corresponding values provided in RACH-ConfigCommon.
ssb-perRACH-Occasion
Number of SSBs per RACH occasion (L1 parameter 'SSB-per-rach-occasion').
totalNumberOfRA-Preambles
Total number of preambles used for contention free random access in the RACH resources defined in CFRA, excluding preambles used for other purposes (e.g. for SI request). If the field is absent but the field occasions is present, the UE may assume all the 64 preambles are for RA. The setting should be consistent with the setting of ssb-perRACH-Occasion, if present, i.e. it should be a multiple of the number of SSBs per RACH occasion.

CFRA-SSB-Resource field descriptions
ra-PreambleIndex
The preamble index that the UE shall use when performing CF-RA upon selecting the candidate beams identified by this SSB.
ssb
The ID of an SSB transmitted by this serving cell.

RACH-ConfigDedicated field descriptions
cfra
Parameters for contention free random access to a given target cell. If the field is absent, the UE performs contention based random access.
ra-prioritization
Parameters which apply for prioritized random access procedure to a given target cell (see 38.321, section 5.1.1).

Conditional Presence
Explanation
SSB-CFRA
The field is mandatory present if the field resources in CFRA is set to ssb; otherwise it is not present.
Occasions
The field is optionally present if the field occasions is present; otherwise it is not present.

–	RACH-ConfigGeneric
The RACH-ConfigGeneric IE is used to specify the cell specific random-access parameters both for regular random access as well as for beam failure recovery.
RACH-ConfigGeneric information element
-- ASN1START
-- TAG-RACH-CONFIG-GENERIC-START

RACH-ConfigGeneric ::=              SEQUENCE {
    prach-ConfigurationIndex            INTEGER (0..255),
    msg1-FDM                            ENUMERATED {one, two, four, eight},
    msg1-FrequencyStart                 INTEGER (0..maxNrofPhysicalResourceBlocks-1),
    zeroCorrelationZoneConfig           INTEGER(0..15),
    preambleReceivedTargetPower         INTEGER (-202..-60),
    preambleTransMax                    ENUMERATED {n3, n4, n5, n6, n7, n8, n10, n20, n50, n100, n200},
    powerRampingStep                    ENUMERATED {dB0, dB2, dB4, dB6},
    ra-ResponseWindow                   ENUMERATED {sl1, sl2, sl4, sl8, sl10, sl20, sl40, sl80},
    ...
}

-- TAG-RACH-CONFIG-GENERIC-STOP
-- ASN1STOP

RACH-ConfigGeneric field descriptions
msg1-FDM
The number of PRACH transmission occasions FDMed in one time instance. (see 38.211, section 6.3.3.2)
msg1-FrequencyStart
Offset of lowest PRACH transmission occasion in frequency domain with respective to PRB 0. The value is configured so that the corresponding RACH resource is entirely within the bandwidth of the UL BWP. (see 38.211, section 6.3.3.2).
powerRampingStep
Power ramping steps for PRACH (see 38.321,5.1.3).
prach-ConfigurationIndex
PRACH configuration index. For prach-ConfigurationIndex configured under beamFailureRecovery-Config, the prach-ConfigurationIndex can only correspond to the short preamble format. Corresponds to L1 parameter 'PRACHConfigurationIndex' (see 38.211, section 6.3.3.2).
preambleReceivedTargetPower
The target power level at the network receiver side (see 38.213, section 7.4, 38.321, section 5.1.2, 5.1.3). Only multiples of 2 dBm may be chosen (e.g. -202, -200, -198, ...). 
preambleTransMax
Max number of RA preamble transmission performed before declaring a failure (see 38.321, section 5.1.4, 5.1.5).
ra-ResponseWindow
Msg2 (RAR) window length in number of slots. The network configures a value lower than or equal to 10 ms (see 38.321, section 5.1.4).
zeroCorrelationZoneConfig
N-CS configuration, see Table 6.3.3.1-5 in 38.211

–	RA-Prioritization
The IE RA-Prioritization is used to configure prioritized random access.
RA-Prioritization information element
-- ASN1START
-- TAG-RA-PRIORITIZATION-START

RA-Prioritization ::=           SEQUENCE {
    powerRampingStepHighPriority        ENUMERATED {dB0, dB2, dB4, dB6},
    scalingFactorBI                 ENUMERATED {zero, dot25, dot5, dot75}                               OPTIONAL,   -- Need R
    ...
}

-- TAG-RA-PRIORITIZATION-STOP
-- ASN1STOP

RA-Prioritization field descriptions
powerRampingStepHighPrioritiy
Power ramping step applied for prioritized random access procedure.
scalingFactorBI
Scaling factor for the backoff indicator (BI) for the prioritized random access procedure. (see 38.321, section 5.1.4). Value zero corresponds to 0, value dot25 corresponds to 0.25 and so on.

–	RadioBearerConfig
The IE RadioBearerConfig is used to add, modify and release signalling and/or data radio bearers. Specifically, this IE carries the parameters for PDCP and, if applicable, SDAP entities for the radio bearers.
RadioBearerConfig information element
-- ASN1START
-- TAG-RADIO-BEARER-CONFIG-START

RadioBearerConfig ::=                   SEQUENCE {
    srb-ToAddModList                        SRB-ToAddModList                                        OPTIONAL,   -- Cond HO-Conn
    srb3-ToRelease                          ENUMERATED{true}                                        OPTIONAL,   -- Need N
    drb-ToAddModList                        DRB-ToAddModList                                        OPTIONAL,   -- Cond HO-toNR
    drb-ToReleaseList                       DRB-ToReleaseList                                       OPTIONAL,   -- Need N
    securityConfig                          SecurityConfig                                          OPTIONAL,   -- Need M
    ...
}

SRB-ToAddModList ::=                    SEQUENCE (SIZE (1..2)) OF SRB-ToAddMod
SRB-ToAddMod ::=                        SEQUENCE {
    srb-Identity                            SRB-Identity,
    reestablishPDCP                         ENUMERATED{true}                                        OPTIONAL,   -- Need N
    discardOnPDCP                           ENUMERATED{true}                                        OPTIONAL,   -- Need N
    pdcp-Config                             PDCP-Config                                             OPTIONAL,   -- Cond PDCP
    ...
}

DRB-ToAddModList ::=                    SEQUENCE (SIZE (1..maxDRB)) OF DRB-ToAddMod
DRB-ToAddMod ::=                        SEQUENCE {
    cnAssociation                           CHOICE {
        eps-BearerIdentity                      INTEGER (0..15),                                    -- EPS-DRB-Setup
        sdap-Config                             SDAP-Config                                         -- 5GC
    }                                       OPTIONAL, -- Cond DRBSetup
    drb-Identity                            DRB-Identity,
    reestablishPDCP                         ENUMERATED{true}                                        OPTIONAL,   -- Need N
    recoverPDCP                             ENUMERATED{true}                                        OPTIONAL,   -- Need N
    pdcp-Config                             PDCP-Config                                             OPTIONAL,   -- Cond PDCP
    ...
}
DRB-ToReleaseList ::=                   SEQUENCE (SIZE (1..maxDRB)) OF DRB-Identity

SecurityConfig ::=                      SEQUENCE {
    securityAlgorithmConfig                 SecurityAlgorithmConfig                                 OPTIONAL,   -- Cond RBTermChange
    keyToUse                                ENUMERATED{master, secondary}                           OPTIONAL,   -- Cond RBTermChange
    ...
}



-- TAG-RADIO-BEARER-CONFIG-STOP
-- ASN1STOP

DRB-ToAddMod field descriptions
cnAssociation
Indicates if the bearer is associated with the eps-bearerIdentity (when connected to EPC) or sdap-Config (when connected to 5GC).
drb-Identity
In case of DC, the DRB identity is unique within the scope of the UE, i.e. an MCG DRB cannot use the same value as a split DRB. For a split DRB the same identity is used for the MCG and SCG parts of the configuration.
eps-BearerIdentity
The EPS bearer ID determines the EPS bearer when NR connects to EPC using EN-DC
reestablishPDCP
Indicates that PDCP should be re-established. Network sets this to TRUE whenever the security key used for this radio bearer changes. Key change could for example be due to termination point change for the bearer, reconfiguration with sync, resuming an RRC connection, or the first reconfiguration after reestablishment. It is also applicable for LTE procedures when NR PDCP is configured.
recoverPDCP
Indicates that PDCP should perform recovery according to TS38.323.
sdap-Config
The SDAP configuration determines how to map QoS flows to DRBs when NR connects to the 5GC and presence/absence of UL/DL SDAP headers.

RadioBearerConfig field descriptions
securityConfig
Indicates the security algorithm and key to use for the signalling and data radio bearers configured with the list in this radioBearerConfig When the field is not included, the UE shall continue to use the currently configured keyToUse and security algorithm for the radio bearers reconfigured with the lists in this radioBearerConfig except for mobility from NR to E-UTRA/5GC.
srb3-ToRelease
Release SRB3. SRB3 release can only be done at SCG release and reconfiguration with sync.

SecurityConfig field descriptions
keyToUse
Indicates if the bearers configured with the list in this radioBearerConfig is using the master key or the secondary key for deriving ciphering and/or integrity protection keys. For EN-DC, network should not configure SRB1 and SRB2 with secondary key and SRB3 with the master key. When the field is not included, the UE shall continue to use the currently configured keyToUse for the radio bearers reconfigured with the lists in this radioBearerConfig except for mobility from NR to E-UTRA/5GC. If EN-DC is not configured, this field is set to master.
securityAlgorithmConfig
Indicates the security algorithm for the signalling and data radio bearers configured with the list in this radioBearerConfig. When the field is not included, the UE shall continue to use the currently configured security algorithm for the radio bearers reconfigured with the lists in this radioBearerConfig except for mobility from NR to E-UTRA/5GC.

SRB-ToAddMod field descriptions
discardOnPDCP
Indicates that PDCP should discard stored SDU and PDU according to TS38.323.
reestablishPDCP
Indicates that PDCP should be re-established. Network sets this to TRUE whenever the security key used for this radio bearer changes. Key change could for example be due to reconfig with sync, and for SRB2 when resuming an RRC connection the first reconfiguration after RRC connection reestablishment in NR. For LTE SRBs using NR PDCP, it could be for handover, RRC connection reestablishment or resume.
srb-Identity
Value 1 is applicable for SRB1 only. Value 2 is applicable for SRB2 only. Value 3 is applicable for SRB3 only.

Conditional Presence
Explanation
RBTermChange
The field is mandatory present in case of set up of signalling and data radio bearer and change of termination point for the radio bearer between MN and SN. It is optionally present otherwise, Need S.
PDCP
The field is mandatory present if the corresponding DRB is being setup or corresponding RB is reconfigured with NR PDCP; otherwise the field is optionally present, need M.
DRBSetup
The field is mandatory present if the corresponding DRB is being setup; otherwise the field is optionally present, need M.
HO-Conn
The field is mandatory present in case of inter-system handover from E-UTRA (connected to EPC) to E-UTRA (connected to 5GC) or NR, or when the fullConfig is included in the RRCReconfiguration message, or in case of RRCSetup; otherwise the field is optionally present, need N. Upon RRCSetup, only SRB1 can be present.
HO-toNR
The field is mandatory present in case of inter-system handover from E-UTRA (connected to EPC) to E-UTRA (connected to 5GC) or NR, or when the fullConfig is included in the RRCReconfiguration message. In case of RRCSetup and RRCReestablishment, the field is not present; otherwise the field is optionally present, need N.

–	RadioLinkMonitoringConfig
The RadioLinkMonitoringConfig IE is used to configure radio link monitoring for detection of beam- and/or cell radio link failure. See also 38.321, section 5.1.1.
RadioLinkMonitoringConfig information element
-- ASN1START
-- TAG-RADIOLINKMONITORINGCONFIG-START

RadioLinkMonitoringConfig ::=       SEQUENCE {
    failureDetectionResourcesToAddModList   SEQUENCE (SIZE(1..maxNrofFailureDetectionResources)) OF RadioLinkMonitoringRS   OPTIONAL,   -- Need N
    failureDetectionResourcesToReleaseList  SEQUENCE (SIZE(1..maxNrofFailureDetectionResources)) OF RadioLinkMonitoringRS-Id    OPTIONAL,-- Need N
    beamFailureInstanceMaxCount             ENUMERATED {n1, n2, n3, n4, n5, n6, n8, n10}                                    OPTIONAL,   -- Need R
    beamFailureDetectionTimer               ENUMERATED {pbfd1, pbfd2, pbfd3, pbfd4, pbfd5, pbfd6, pbfd8, pbfd10}            OPTIONAL,   -- Need R
    ...
}

RadioLinkMonitoringRS ::=           SEQUENCE {
    radioLinkMonitoringRS-Id                RadioLinkMonitoringRS-Id,
    purpose                             ENUMERATED {beamFailure, rlf, both},
    detectionResource                   CHOICE {
        ssb-Index                           SSB-Index,
        csi-RS-Index                        NZP-CSI-RS-ResourceId
    },
    ...
}

-- TAG-RADIOLINKMONITORINGCONFIG-STOP
-- ASN1STOP

RadioLinkMonitoringConfig field descriptions
beamFailureDetectionTimer
Timer for beam failure detection (see 38.321, section 5.17). See also the BeamFailureRecoveryConfig IE. Value in number of "Qout,LR reporting periods of Beam Failure Detection" Reference Signal (see 38.213, section 6). Value pbfd1 corresponds to 1 Qout,LR reporting period of Beam Failure Detection Reference Signal, value pbfd2 corresponds to 2 Qout,LR reporting periods of Beam Failure Detection Reference Signal and so on. 
beamFailureInstanceMaxCount
This field determines after how many beam failure events the UE triggers beam failure recovery (see 38.321, section 5.17). Value n1 corresponds to 1 beam failure instance, n2 corresponds to 2 beam failure instances and so on. 
failureDetectionResourcesToAddModList
A list of reference signals for detecting beam failure and/or cell level radio link failure (RLF). The network configures at most two detectionResources per BWP for the purpose "beamFailure" or "both". If no RSs are provided for the purpose of beam failure detection, the UE performs beam monitoring based on the activated TCI-State for PDCCH as described in TS 38.213, section 6. If no RSs are provided in this list for the purpose of RLF detection, the UE performs Cell-RLM based on the activated TCI-State of PDCCH as described in TS 38.213, section 5. The network ensures that the UE has a suitable set of reference signals for performing cell-RLM. 

RadioLinkMonitoringRS field descriptions
detectionResource
A reference signal that the UE shall use for radio link monitoring or beam failure detection (depending on the indicated purpose). 
purpose
Determines whether the UE shall monitor the associated reference signal for the purpose of cell- and/or beam failure detection.

–	RadioLinkMonitoringRSId
The IE RadioLinkMonitoringRSId is used to identify one RadioLinkMonitoringRS.
RadioLinkMonitoringRSId information element
-- ASN1START
-- TAG-RADIOLINKMONITORINGRSID-START

RadioLinkMonitoringRS-Id ::=            INTEGER (0..maxNrofFailureDetectionResources-1)

-- TAG-RADIOLINKMONITORINGRSID-STOP
-- ASN1STOP

–	RAN-AreaCode
The IE RAN-AreaCode is used to identify a RAN area within the scope of a tracking area.
RAN-AreaCode information element
-- ASN1START
-- TAG-RAN-AREACODE-START

RAN-AreaCode ::=                INTEGER (0..255)

-- TAG-RAN-AREACODE-STOP
-- ASN1STOP

–	RateMatchPattern
The IE RateMatchPattern is used to configure one rate matching pattern for PDSCH. Corresponds to L1 IE 'rate-match-PDSCH-resource-set', see 38.214, section FFS_Section.
RateMatchPattern information element
-- ASN1START
-- TAG-RATEMATCHPATTERN-START

RateMatchPattern ::=                SEQUENCE {
    rateMatchPatternId                  RateMatchPatternId,

    patternType                         CHOICE {
        bitmaps                             SEQUENCE {
            resourceBlocks                      BIT STRING (SIZE (275)),
            symbolsInResourceBlock              CHOICE {
                oneSlot                             BIT STRING (SIZE (14)),
                twoSlots                            BIT STRING (SIZE (28))
            },
            periodicityAndPattern               CHOICE {
                n2                                  BIT STRING (SIZE (2)),
                n4                                  BIT STRING (SIZE (4)),
                n5                                  BIT STRING (SIZE (5)),
                n8                                  BIT STRING (SIZE (8)),
                n10                                 BIT STRING (SIZE (10)),
                n20                                 BIT STRING (SIZE (20)),
                n40                                 BIT STRING (SIZE (40))
            }                                                                                                       OPTIONAL,   -- Need S
            ...
        },
        controlResourceSet                  ControlResourceSetId
    },
    subcarrierSpacing                   SubcarrierSpacing                                                           OPTIONAL,   -- Cond CellLevel
    dummy                               ENUMERATED { dynamic, semiStatic },
    ...
}

-- TAG-RATEMATCHPATTERN-STOP
-- ASN1STOP

RateMatchPattern field descriptions
bitmaps
Indicates rate matching pattern by a pair of bitmaps resourceBlocks and symbolsInResourceBlock to define the rate match pattern within one or two slots, and a third bitmap periodicityAndPattern to define the repetition pattern with which the pattern defined by the above bitmap pair occurs
controlResourceSet
This ControlResourceSet is used as a PDSCH rate matching pattern, i.e., PDSCH reception rate matches around it. In frequency domain, the resource is determined by the frequency domain resource of the CORESET with the corresponding CORESET ID. Time domain resource is determined by the parameters of the associated search space of the CORESET.
periodicityAndPattern
A time domain repetition pattern at which the pattern defined by symbolsInResourceBlock and resourceBlocks recurs. This slot pattern repeats itself continuously. Absence of this field indicates the value n1, i.e., the symbolsInResourceBlock recurs every 14 symbols. Corresponds to L1 parameter 'rate-match-PDSCH-bitmap3' (see 38.214, section 5.1.4.1)
resourceBlocks
A resource block level bitmap in the frequency domain. A bit in the bitmap set to 1 indicates that the UE shall apply rate matching in the corresponding resource block in accordance with the symbolsInResourceBlock bitmap. If used as cell-level rate matching pattern, the bitmap identifies "common resource blocks (CRB)". If used as BWP-level rate matching pattern, the bitmap identifies "physical resource blocks" inside the BWP. The first/ leftmost bit corresponds to resource block 0, and so on. Corresponds to L1 parameter 'rate-match-PDSCH-bitmap1' (see 38.214, section 5.1.4.1) 
subcarrierSpacing
The SubcarrierSpacing for this resource pattern. If the field is absent, the UE applies the SCS of the associated BWP. The value kHz15 corresponds to µ=0, kHz30 to µ=1, and so on. Only the values 15 or 30 kHz  (<6GHz), 60 or 120 kHz (>6GHz) are applicable. Corresponds to L1 parameter 'resource-pattern-scs' (see 38.214, section 5.1.4.1)
symbolsInResourceBlock
A symbol level bitmap in time domain. It indicates with a bit set to true that the UE shall rate match around the corresponding symbol. The first/left-most bit in the bitmap corresponds to the first symbol in the slot, and so on. This pattern recurs (in time domain) with the configured periodicityAndPattern. Corresponds to L1 parameter 'rate-match-PDSCH-bitmap2' (see 38.214, section 5.1.4.1)

Conditional Presence
Explanation
CellLevel
The field is mandatory present if the RateMatchPattern is defined on cell level. The field is absent when the RateMatchPattern is defined on BWP level. If the RateMatchPattern is defined on BWP level, the UE applies the SCS of the BWP.

–	RateMatchPatternId
The IE RateMatchPatternId identifies one RateMatchMattern. Corresponds to L1 parameter 'resource-set-index' (see 38.214, section 5.1.4.2)
RateMatchPatternId information element
-- ASN1START
-- TAG-RATEMATCHPATTERNID-START

RateMatchPatternId ::=              INTEGER (0..maxNrofRateMatchPatterns-1)

-- TAG-RATEMATCHPATTERNID-STOP
-- ASN1STOP


–	RateMatchPatternLTE-CRS
The IE RateMatchPatternLTE-CRS is used to configure a pattern to rate match around LTE CRS. See TS 38214 Section 5.1.4.2.
RateMatchPatternLTE-CRS information element
-- ASN1START
-- TAG-RATEMATCHPATTERNLTE-CRS-START

RateMatchPatternLTE-CRS ::=         SEQUENCE {
    carrierFreqDL                       INTEGER (0..16383),
    carrierBandwidthDL                  ENUMERATED {n6, n15, n25, n50, n75, n100, spare2, spare1},
    mbsfn-SubframeConfigList            EUTRA-MBSFN-SubframeConfigList                                              OPTIONAL,   -- Need M
    nrofCRS-Ports                       ENUMERATED {n1, n2, n4},
    v-Shift                             ENUMERATED {n0, n1, n2, n3, n4, n5}
}

-- TAG-RATEMATCHPATTERNLTE-CRS-STOP
-- ASN1STOP


RateMatchPatternLTE-CRS field descriptions
carrierBandwidthDL
BW of the LTE carrier in number of PRBs. Corresponds to L1 parameter 'BW' (see 38.214, section 5.1.4.2)
carrierFreqDL
Center of the LTE carrier. Corresponds to L1 parameter 'center-subcarrier-location' (see 38.214, section 5.1.4.2)
mbsfn-SubframeConfigList
LTE MBSFN subframe configuration. Corresponds to L1 parameter 'MBSFN-subframconfig' (see 38.214, section 5.1.4.2) FFS_ASN1: Import the LTE MBSFN-SubframeConfigList
nrofCRS-Ports
Number of LTE CRS antenna port to rate-match around. Corresponds to L1 parameter 'rate-match-resources-numb-LTE-CRS-antenna-port' (see 38.214, section 5.1.4.2)
v-Shift
Shifting value v-shift in LTE to rate match around LTE CRS Corresponds to L1 parameter 'rate-match-resources-LTE-CRS-v-shift' (see 38.214, section 5.1.4.2)

–	ReportConfigId
The IE ReportConfigId is used to identify a measurement reporting configuration.
ReportConfigId information element
-- ASN1START
-- TAG-REPORT-CONFIG-ID-START

ReportConfigId ::=                          INTEGER (1..maxReportConfigId)

-- TAG-REPORT-CONFIG-ID-STOP
-- ASN1STOP

–	ReportConfigInterRAT
The IE ReportConfigInterRAT specifies criteria for triggering of an inter-RAT measurement reporting event. The inter-RAT measurement reporting events for EUTRA are labelled BN with N equal to 1, 2 and so on.
Event B1:	Neighbour becomes better than absolute threshold;
Event B2:	PCell becomes worse than absolute threshold1 AND Neighbour becomes better than another absolute threshold2;
ReportConfigInterRAT information element
-- ASN1START
-- TAG-REPORT-CONFIG-INTER-RAT-START

ReportConfigInterRAT ::=                    SEQUENCE {
    reportType                                  CHOICE {
        periodical                                  PeriodicalReportConfigInterRAT,
        eventTriggered                              EventTriggerConfigInterRAT,
        reportCGI                                   ReportCGI-EUTRA,
        ...
    }
}

ReportCGI-EUTRA ::=                         SEQUENCE {
    cellForWhichToReportCGI         EUTRA-PhysCellId,
    ...
}

EventTriggerConfigInterRAT ::=              SEQUENCE {
    eventId                                     CHOICE {
        eventB1                                     SEQUENCE {
            b1-ThresholdEUTRA                           MeasTriggerQuantityEUTRA,
            reportOnLeave                               BOOLEAN,
            hysteresis                                  Hysteresis,
            timeToTrigger                               TimeToTrigger,
            ...
        },
        eventB2                                     SEQUENCE {
            b2-Threshold1                               MeasTriggerQuantity,
            b2-Threshold2EUTRA                          MeasTriggerQuantityEUTRA,
            reportOnLeave                               BOOLEAN,
            hysteresis                                  Hysteresis,
            timeToTrigger                               TimeToTrigger,
            ...
        },
        ...
    },
    rsType                              NR-RS-Type,

    reportInterval                              ReportInterval,
    reportAmount                        ENUMERATED {r1, r2, r4, r8, r16, r32, r64, infinity},
    reportQuantity                      MeasReportQuantity,
    maxReportCells                              INTEGER (1..maxCellReport),
    ...

}

PeriodicalReportConfigInterRAT ::=              SEQUENCE {
    reportInterval                                  ReportInterval,
    reportAmount                                    ENUMERATED {r1, r2, r4, r8, r16, r32, r64, infinity},
    reportQuantity                                  MeasReportQuantity,
    maxReportCells                                  INTEGER (1..maxCellReport),
    ...
}

MeasTriggerQuantityEUTRA::=                         CHOICE {
    rsrp                                        RSRP-RangeEUTRA,
    rsrq                                        RSRQ-RangeEUTRA,
    sinr                                        SINR-RangeEUTRA
}

RSRP-RangeEUTRA ::=                 INTEGER (0..97)
RSRQ-RangeEUTRA ::=                 INTEGER (0..34)
SINR-RangeEUTRA ::=                 INTEGER (0..127)

-- TAG-REPORT-CONFIG-INTER-RAT-STOP
-- ASN1STOP

EventTriggerConfigInterRAT field descriptions
b2-Threshold1
NR threshold to be used in inter RAT measurement report triggering condition for event b2.
bN-ThresholdEUTRA
E-UTRA threshold to be used in inter RAT measurement report triggering condition for event number bN.
eventId
Choice of inter RAT event triggered reporting criteria.
maxReportCells
Max number of non-serving cells to include in the measurement report.
reportAmount
Number of measurement reports applicable for eventTriggered as well as for periodical report types
reportOnLeave
Indicates whether or not the UE shall initiate the measurement reporting procedure when the leaving condition is met for a cell in cellsTriggeredList, as specified in 5.5.4.1.
reportQuantity
The cell measurement quantities to be included in the measurement report.
timeToTrigger
Time during which specific criteria for the event needs to be met in order to trigger a measurement report.
triggerQuantity
The quantity used to evaluate the triggering condition for the event. Set the value according to the quantity of the bN-ThresholdEUTRA for this event. The values rsrp, rsrq and sinr correspond to Reference Signal Received Power (RSRP), Reference Signal Received Quality (RSRQ) and Reference Signal to Noise and Interference Ratio (RS-SINR), see TS 38.214 [19].

PeriodicalReportConfigInterRAT field descriptions
maxReportCells
Max number of non-serving cells to include in the measurement report.
reportAmount
Number of measurement reports applicable for eventTriggered as well as for periodical report types
reportQuantityCell
The cell measurement quantities to be included in the measurement report.

ThresholdEUTRA field descriptions
EUTRA-RSRP
Corresponds to RSRP-Range in TS 36.331 [10].
EUTRA-RSRQ
Corresponds to RSRQ-Range in TS 36.331 [10].
EUTRA-SINR
Corresponds to RS-SINR-Range in TS 36.331 [10].

–	ReportConfigNR
The IE ReportConfigNR specifies criteria for triggering of an NR measurement reporting event. Measurement reporting events are based on cell measurement results, which can either be derived based on SS/PBCH block or CSI-RS. These events are labelled AN with N equal to 1, 2 and so on.
Event A1:	Serving becomes better than absolute threshold;
Event A2:	Serving becomes worse than absolute threshold;
Event A3:	Neighbour becomes amount of offset better than PCell/PSCell;
Event A4:	Neighbour becomes better than absolute threshold;
Event A5:	PCell/PSCell becomes worse than absolute threshold1 AND Neighbour/SCell becomes better than another absolute threshold2.
Event A6:	Neighbour becomes amount of offset better than SCell.
ReportConfigNR information element
-- ASN1START
-- TAG-REPORT-CONFIG-START

ReportConfigNR ::=                          SEQUENCE {
    reportType                                  CHOICE {
        periodical                                  PeriodicalReportConfig,
        eventTriggered                              EventTriggerConfig,
        ...,
        reportCGI                                   ReportCGI
    }
}

ReportCGI ::=                     SEQUENCE {
    cellForWhichToReportCGI          PhysCellId,
        ...
}

EventTriggerConfig::=                       SEQUENCE {
    eventId                                     CHOICE {
        eventA1                                     SEQUENCE {
            a1-Threshold                                MeasTriggerQuantity,
            reportOnLeave                               BOOLEAN,
            hysteresis                                  Hysteresis,
            timeToTrigger                               TimeToTrigger
        },
        eventA2                                     SEQUENCE {
            a2-Threshold                                MeasTriggerQuantity,
            reportOnLeave                               BOOLEAN,
            hysteresis                                  Hysteresis,
            timeToTrigger                               TimeToTrigger
        },
        eventA3                                     SEQUENCE {
            a3-Offset                                   MeasTriggerQuantityOffset,
            reportOnLeave                               BOOLEAN,
            hysteresis                                  Hysteresis,
            timeToTrigger                               TimeToTrigger,
            useWhiteCellList                            BOOLEAN
        },
        eventA4                                     SEQUENCE {
            a4-Threshold                                MeasTriggerQuantity,
            reportOnLeave                               BOOLEAN,
            hysteresis                                  Hysteresis,
            timeToTrigger                               TimeToTrigger,
            useWhiteCellList                            BOOLEAN
        },
        eventA5                                     SEQUENCE {
            a5-Threshold1                               MeasTriggerQuantity,
            a5-Threshold2                               MeasTriggerQuantity,
            reportOnLeave                               BOOLEAN,
            hysteresis                                  Hysteresis,
            timeToTrigger                               TimeToTrigger,
            useWhiteCellList                            BOOLEAN
        },
        eventA6                                     SEQUENCE {
            a6-Offset                                   MeasTriggerQuantityOffset,
            reportOnLeave                               BOOLEAN,
            hysteresis                                  Hysteresis,
            timeToTrigger                               TimeToTrigger,
            useWhiteCellList                            BOOLEAN
        },
        ...
    },

    rsType                                      NR-RS-Type,

    reportInterval                              ReportInterval,
    reportAmount                                ENUMERATED {r1, r2, r4, r8, r16, r32, r64, infinity},

    reportQuantityCell                          MeasReportQuantity,
    maxReportCells                              INTEGER (1..maxCellReport),

    reportQuantityRsIndexes                     MeasReportQuantity                                                OPTIONAL,   -- Need R
    maxNrofRSIndexesToReport                    INTEGER (1..maxNrofIndexesToReport)                               OPTIONAL,   -- Need R
    includeBeamMeasurements                     BOOLEAN,
    reportAddNeighMeas                          ENUMERATED {setup}                                                OPTIONAL,   -- Need R
    ...
}

PeriodicalReportConfig ::=                  SEQUENCE {
    rsType                                      NR-RS-Type,

    reportInterval                              ReportInterval,
    reportAmount                                ENUMERATED {r1, r2, r4, r8, r16, r32, r64, infinity},

    reportQuantityCell                          MeasReportQuantity,
    maxReportCells                              INTEGER (1..maxCellReport),

    reportQuantityRsIndexes                     MeasReportQuantity                                                OPTIONAL,   -- Need R
    maxNrofRsIndexesToReport                    INTEGER (1..maxNrofIndexesToReport)                               OPTIONAL,   -- Need R
    includeBeamMeasurements                     BOOLEAN,
    useWhiteCellList                            BOOLEAN,
    ...
}

NR-RS-Type ::=                              ENUMERATED {ssb, csi-rs}

MeasTriggerQuantity ::=                     CHOICE {
    rsrp                                        RSRP-Range,
    rsrq                                        RSRQ-Range,
    sinr                                        SINR-Range
}

MeasTriggerQuantityOffset ::=               CHOICE {
    rsrp                                        INTEGER (-30..30),
    rsrq                                        INTEGER (-30..30),
    sinr                                        INTEGER (-30..30)
}


MeasReportQuantity ::=                      SEQUENCE {
    rsrp                                        BOOLEAN,
    rsrq                                        BOOLEAN,
    sinr                                        BOOLEAN
}


-- TAG-REPORT-CONFIG-START
-- ASN1STOP

EventTriggerConfig field descriptions
a3-Offset/a6-Offset
Offset value(s) to be used in NR measurement report triggering condition for event a3/a6. The actual value is field value * 0.5 dB.
aN-ThresholdM
Threshold value associated to the selected trigger quantity (e.g. RSRP, RSRQ, SINR) per RS Type (e.g. SS/PBCH block, CSI-RS) to be used in NR measurement report triggering condition for event number aN. If multiple thresholds are defined for event number aN, the thresholds are differentiated by M. The network configures aN-Threshold1 only for events A1, A2, A4, A5 and a5-Threshold2 only for event A5.
eventId
Choice of NR event triggered reporting criteria.
maxNrofRsIndexesToReport
Max number of measurement information per RS index to include in the measurement report for A1-A6 events.
maxReportCells
Max number of non-serving cells to include in the measurement report.
reportAddNeighMeas
Indicates that the UE shall include the best neighbour cells per serving frequency.
reportAmount
Number of measurement reports applicable for eventTriggered as well as for periodical report types
reportOnLeave
Indicates whether or not the UE shall initiate the measurement reporting procedure when the leaving condition is met for a cell in cellsTriggeredList, as specified in 5.5.4.1.
reportQuantityCell
The cell measurement quantities to be included in the measurement report.
reportQuantityRsIndexes
Indicates which measurement information per RS index the UE shall include in the measurement report.
timeToTrigger
Time during which specific criteria for the event needs to be met in order to trigger a measurement report.
useWhiteCellList
Indicates whether only the cells included in the white-list of the associated measObject are applicable as specified in 5.5.4.1.

PeriodicalReportConfig field descriptions
maxNrofRsIndexesToReport
Max number of measurement information per RS index to include in the measurement report for A1-A6 events.
maxReportCells
Max number of non-serving cells to include in the measurement report.
reportAmount
Number of measurement reports applicable for eventTriggered as well as for periodical report types
reportQuantityCell
The cell measurement quantities to be included in the measurement report.
reportQuantityRsIndexes
Indicates which measurement information per RS index the UE shall include in the measurement report.
useWhiteCellList
Indicates whether only the cells included in the white-list of the associated measObject are applicable as specified in 5.5.4.1.

–	ReportConfigToAddModList
The IE ReportConfigToAddModList concerns a list of reporting configurations to add or modify.
ReportConfigToAddModList information element
-- ASN1START
-- TAG-REPORT-CONFIG-TO-ADD-MOD-LIST-START

ReportConfigToAddModList ::=        SEQUENCE (SIZE (1..maxReportConfigId)) OF ReportConfigToAddMod

ReportConfigToAddMod ::=            SEQUENCE {
    reportConfigId                      ReportConfigId,
    reportConfig                        CHOICE {
        reportConfigNR                      ReportConfigNR,
        ...,
        reportConfigInterRAT                ReportConfigInterRAT
    }
}

-- TAG- REPORT-CONFIG-TO-ADD-MOD-LIST-STOP
-- ASN1STOP

–	ReportInterval
The ReportInterval indicates the interval between periodical reports. The ReportInterval is applicable if the UE performs periodical reporting (i.e. when reportAmount exceeds 1), for triggerTypeevent as well as for triggerTypeperiodical. Value ms120 corresponds to 120 ms, ms240 corresponds to 240 ms and so on, while value min1 corresponds to 1 min, min6 corresponds to 6 min and so on.
ReportInterval information element
-- ASN1START

ReportInterval ::=                  ENUMERATED {ms120, ms240, ms480, ms640, ms1024, ms2048, ms5120, ms10240, ms20480, ms40960,
                                                    min1,min6, min12, min30 }

-- ASN1STOP

–	ReselectionThreshold
ReselectionThreshold is used to indicate an Rx level threshold for cell reselection. Actual value of threshold = field value * 2 [dB].
ReselectionThreshold information element
-- ASN1START
-- TAG-RESELECTION-THRESHOLD-START

ReselectionThreshold ::=                INTEGER (0..31)

-- TAG-RESELECTION-THRESHOLD-STOP
-- ASN1STOP

–	ReselectionThresholdQ
The IE ReselectionThresholdQ is used to indicate a quality level threshold for cell reselection. Actual value of threshold = field value [dB].
ReselectionThresholdQ information element
-- ASN1START
-- TAG-RESELECTION-THRESHOLDQ-START

ReselectionThresholdQ ::=           INTEGER (0..31)

-- TAG-RESELECTION-THRESHOLDQ-STOP
-- ASN1STOP

–	ResumeCause
The IE ResumeCause is used to indicate the resume cause in RRCResumeRequest and RRCResumeRequest1.
ResumeCause information element
-- ASN1START
-- TAG-RESUME-CAUSE-START

ResumeCause ::=             ENUMERATED {emergency, highPriorityAccess, mt-Access, mo-Signalling,
                                        mo-Data, mo-VoiceCall, mo-VideoCall, mo-SMS, rna-Update, mps-PriorityAccess, mcs-PriorityAccess,                                                        spare1, spare2, spare3, spare4, spare5 }

-- TAG-RESUME-CAUSE-STOP
-- ASN1STOP

–	RLC-BearerConfig
The IE RLC-BearerConfig is used to configure an RLC entity, a corresponding logical channel in MAC and the linking to a PDCP entity (served radio bearer).
RLC-BearerConfig information element
-- ASN1START
-- TAG-RLC-BEARERCONFIG-START

RLC-BearerConfig ::=                        SEQUENCE {
    logicalChannelIdentity                      LogicalChannelIdentity,
    servedRadioBearer                           CHOICE {
        srb-Identity                                SRB-Identity,
        drb-Identity                                DRB-Identity
    }                                                                                                           OPTIONAL,   -- Cond LCH-SetupOnly

    reestablishRLC                              ENUMERATED {true}                                               OPTIONAL,   -- Need N
    rlc-Config                                  RLC-Config                                                      OPTIONAL,   -- Cond LCH-Setup

    mac-LogicalChannelConfig                    LogicalChannelConfig                                            OPTIONAL,   -- Cond LCH-Setup
    ...
}

-- TAG-RLC-BEARERCONFIG-STOP
-- ASN1STOP

RLC-BearerConfig field descriptions
logicalChannelIdentity
ID used commonly for the MAC logical channel and for the RLC bearer.
reestablishRLC
Indicates that RLC should be re-established. Network sets this to TRUE whenever the security key used for the radio bearer associated with this RLC entity changes. For SRB2 and DRBs, it is also set to TRUE during the resumption of the RRC connection or the first reconfiguration after reestablishment.
rlc-Config
Determines the RLC mode (UM, AM) and provides corresponding parameters. RLC mode reconfiguration can only be performed by DRB release/addition or full configuration
servedRadioBearer
Associates the RLC Bearer with an SRB or a DRB. The UE shall deliver DL RLC SDUs received via the RLC entity of this RLC bearer to the PDCP entity of the servedRadioBearer. Furthermore, the UE shall advertise and deliver uplink PDCP PDUs of the uplink PDCP entity of the servedRadioBearer to the uplink RLC entity of this RLC bearer unless the uplink scheduling restrictions ('moreThanOneRLC' in PDCP-Config and the restrictions in LogicalChannelConfig) forbid it to do so.

Conditional Presence
Explanation
LCH-Setup
This field is mandatory present, Need M, upon creation of a new logical channel. It is optionally present otherwise.
LCH-SetupOnly
This field is mandatory present, Need M, upon creation of a new logical channel. It is absent otherwise.

–	RLC-Config
The IE RLC-Config is used to specify the RLC configuration of SRBs and DRBs.
RLC-Config information element
-- ASN1START
-- TAG-RLC-CONFIG-START

RLC-Config ::=                      CHOICE {
    am                                  SEQUENCE {
        ul-AM-RLC                           UL-AM-RLC,
        dl-AM-RLC                           DL-AM-RLC
    },
    um-Bi-Directional                   SEQUENCE {
        ul-UM-RLC                           UL-UM-RLC,
        dl-UM-RLC                           DL-UM-RLC
    },
    um-Uni-Directional-UL               SEQUENCE {
        ul-UM-RLC                           UL-UM-RLC
    },
    um-Uni-Directional-DL               SEQUENCE {
        dl-UM-RLC                           DL-UM-RLC
    },
    ...
}

UL-AM-RLC ::=                       SEQUENCE {
    sn-FieldLength                      SN-FieldLengthAM                                    OPTIONAL,   -- Cond Reestab
    t-PollRetransmit                    T-PollRetransmit,
    pollPDU                             PollPDU,
    pollByte                            PollByte,
    maxRetxThreshold                    ENUMERATED { t1, t2, t3, t4, t6, t8, t16, t32 }
}

DL-AM-RLC ::=                       SEQUENCE {
    sn-FieldLength                      SN-FieldLengthAM                                    OPTIONAL,   -- Cond Reestab
    t-Reassembly                        T-Reassembly,
    t-StatusProhibit                    T-StatusProhibit
}

UL-UM-RLC ::=                       SEQUENCE {
    sn-FieldLength                      SN-FieldLengthUM                                    OPTIONAL    -- Cond Reestab
}

DL-UM-RLC ::=                       SEQUENCE {
    sn-FieldLength                      SN-FieldLengthUM                                    OPTIONAL,   -- Cond Reestab
    t-Reassembly                        T-Reassembly
}

T-PollRetransmit ::=                ENUMERATED {
                                        ms5, ms10, ms15, ms20, ms25, ms30, ms35,
                                        ms40, ms45, ms50, ms55, ms60, ms65, ms70,
                                        ms75, ms80, ms85, ms90, ms95, ms100, ms105,
                                        ms110, ms115, ms120, ms125, ms130, ms135,
                                        ms140, ms145, ms150, ms155, ms160, ms165,
                                        ms170, ms175, ms180, ms185, ms190, ms195,
                                        ms200, ms205, ms210, ms215, ms220, ms225,
                                        ms230, ms235, ms240, ms245, ms250, ms300,
                                        ms350, ms400, ms450, ms500, ms800, ms1000,
                                        ms2000, ms4000, spare5, spare4, spare3,
                                        spare2, spare1}


PollPDU ::=                         ENUMERATED {
                                        p4, p8, p16, p32, p64, p128, p256, p512, p1024, p2048, p4096, p6144, p8192, p12288, p16384, p20480,
                                        p24576, p28672, p32768, p40960, p49152, p57344, p65536, infinity, spare8, spare7, spare6, spare5, spare4,
                                        spare3, spare2, spare1}

PollByte ::=                        ENUMERATED {
                                        kB1, kB2, kB5, kB8, kB10, kB15, kB25, kB50, kB75,
                                        kB100, kB125, kB250, kB375, kB500, kB750, kB1000,
                                        kB1250, kB1500, kB2000, kB3000, kB4000, kB4500,
                                        kB5000, kB5500, kB6000, kB6500, kB7000, kB7500,
                                        mB8, mB9, mB10, mB11, mB12, mB13, mB14, mB15,
                                        mB16, mB17, mB18, mB20, mB25, mB30, mB40, infinity,
                                        spare20, spare19, spare18, spare17, spare16,
                                        spare15, spare14, spare13, spare12, spare11,
                                        spare10, spare9, spare8, spare7, spare6, spare5,
                                        spare4, spare3, spare2, spare1}

T-Reassembly ::=                    ENUMERATED {
                                        ms0, ms5, ms10, ms15, ms20, ms25, ms30, ms35,
                                        ms40, ms45, ms50, ms55, ms60, ms65, ms70,
                                        ms75, ms80, ms85, ms90, ms95, ms100, ms110,
                                        ms120, ms130, ms140, ms150, ms160, ms170,
                                        ms180, ms190, ms200, spare1}

T-StatusProhibit ::=                ENUMERATED {
                                        ms0, ms5, ms10, ms15, ms20, ms25, ms30, ms35,
                                        ms40, ms45, ms50, ms55, ms60, ms65, ms70,
                                        ms75, ms80, ms85, ms90, ms95, ms100, ms105,
                                        ms110, ms115, ms120, ms125, ms130, ms135,
                                        ms140, ms145, ms150, ms155, ms160, ms165,
                                        ms170, ms175, ms180, ms185, ms190, ms195,
                                        ms200, ms205, ms210, ms215, ms220, ms225,
                                        ms230, ms235, ms240, ms245, ms250, ms300,
                                        ms350, ms400, ms450, ms500, ms800, ms1000,
                                        ms1200, ms1600, ms2000, ms2400, spare2, spare1}

SN-FieldLengthUM ::=                ENUMERATED {size6, size12}
SN-FieldLengthAM ::=                ENUMERATED {size12, size18}

-- TAG-RLC-CONFIG-STOP
-- ASN1STOP

RLC-Config field descriptions
maxRetxThreshold
Parameter for RLC AM in TS 38.322 [4]. Value t1 corresponds to 1 retransmission, t2 to 2 retransmissions and so on.
pollByte
Parameter for RLC AM in TS 38.322 [4]. Value kB25 corresponds to 25 kBytes, kB50 to 50 kBytes and so on. infinity corresponds to an infinite amount of kBytes.
pollPDU
Parameter for RLC AM in TS 38.322 [4]. Value p4 corresponds to 4 PDUs, p8 to 8 PDUs and so on. infinity corresponds to an infinite number of PDUs.
sn-FieldLength
Indicates the RLC SN field size, see TS 38.322 [4], in bits. Value size6 means 6 bits, size12 means 12 bits, size18 means 18 bits. The value of sn-FieldLength for a DRB shall be changed only using reconfiguration with sync. The network configures only size12 in SN-FieldLengthAM for SRB.
t-PollRetransmit
Timer for RLC AM in TS 38.322 [4], in milliseconds. Value ms5 means 5ms, ms10 means 10ms and so on.
t-Reassembly
Timer for reassembly in TS 38.322 [4], in milliseconds. Value ms0 means 0ms, ms5 means 5ms and so on. 
t-StatusProhibit
Timer for status reporting in TS 38.322 [4], in milliseconds. Value ms0 means 0ms, ms5 means 5ms and so on.

Conditional Presence
Explanation
Reestab
The field is mandatory present at bearer setup. It is optionally present, need M, at RLC re-establishment.  Otherwise it is not present.

–	RLF-TimersAndConstants
Editor's Note: FFS / TODO: Insert the RLF timers and related functionality. Check what is needed for EN-DC.
The RLF-TimersAndConstants IE is used to configure UE specific timers and constants.
RLF-TimersAndConstants information element
-- ASN1START
-- TAG-RLF-TIMERS-AND-CONSTANTS-START

RLF-TimersAndConstants ::=          SEQUENCE {
    t310                                ENUMERATED {ms0, ms50, ms100, ms200, ms500, ms1000, ms2000, ms4000, ms6000},
    n310                                ENUMERATED {n1, n2, n3, n4, n6, n8, n10, n20},
    n311                                ENUMERATED {n1, n2, n3, n4, n5, n6, n8, n10},
    ...,
    [[
    t311-v1530                          ENUMERATED {ms1000, ms3000, ms5000, ms10000, ms15000, ms20000, ms30000}
    ]]
}

-- TAG-RLF-TIMERS-AND-CONSTANTS-STOP
-- ASN1STOP

RLF-TimersAndConstants field descriptions
n3xy
Constants are described in section 7.3. n1 corresponds with 1, n2 corresponds to 2 and so on.
t3xy
Timers are described in section 7.1. Value ms0 corresponds with 0 ms, ms50 corresponds to 50 ms and so on.

–	RNTI-Value
The IE RNTI-Value represents a Radio Network Temporary Identity.
RNTI-Value information element
-- ASN1START
-- TAG-RNTI-VALUE-START

RNTI-Value ::=                      INTEGER (0..65535)

-- TAG-RNTI-VALUE-STOP
-- ASN1STOP

–	RSRP-Range
The IE RSRP-Range specifies the value range used in RSRP measurements and thresholds. Integer value for RSRP measurements according to mapping table in TS 38.133 [14].
RSRP-Range information element
-- ASN1START
-- TAG-RSRP-RANGE-START

RSRP-Range ::=                      INTEGER(0..127)

-- TAG-RSRP-RANGE-STOP
-- ASN1STOP

–	RSRQ-Range
The IE RSRQ-Range specifies the value range used in RSRQ measurements and thresholds. Integer value for RSRQ measurements is according to mapping table in TS 38.133 [14].
RSRQ-Range information element
-- ASN1START
-- TAG-RSRQ-RANGE-START

RSRQ-Range ::=                      INTEGER(0..127)

-- TAG-RSRQ-RANGE-STOP
-- ASN1STOP

–	SCellIndex
The IE SCellIndex concerns a short identity, used to identify an SCell or PSCell. The value range is shared across the Cell Groups.
SCellIndex information element
-- ASN1START
-- TAG-SCELL-INDEX-START

SCellIndex ::=                      INTEGER (1..31)

-- TAG-SCELL-INDEX-STOP
-- ASN1STOP

–	SchedulingRequestConfig
The IE SchedulingRequestConfig is used to configure the parameters, for the dedicated scheduling request (SR) resources.
SchedulingRequestConfig information element
-- ASN1START
-- TAG-SCHEDULING-REQUEST-CONFIG-START

SchedulingRequestConfig ::=         SEQUENCE {
    schedulingRequestToAddModList       SEQUENCE (SIZE (1..maxNrofSR-ConfigPerCellGroup)) OF SchedulingRequestToAddMod      OPTIONAL, -- Need N
    schedulingRequestToReleaseList      SEQUENCE (SIZE (1..maxNrofSR-ConfigPerCellGroup)) OF SchedulingRequestId            OPTIONAL-- Need N
}

SchedulingRequestToAddMod ::=       SEQUENCE {
    schedulingRequestId     SchedulingRequestId,

    sr-ProhibitTimer                    ENUMERATED {ms1, ms2, ms4, ms8, ms16, ms32, ms64, ms128}                            OPTIONAL,   -- Need S
    sr-TransMax                         ENUMERATED { n4, n8, n16, n32, n64, spare3, spare2, spare1}
}



-- TAG-SCHEDULING-REQUEST-CONFIG-STOP
-- ASN1STOP

SchedulingRequestConfig field descriptions
schedulingRequestToAddModList
List of Scheduling Request configurations to add or modify.
schedulingRequestToReleaseList
List of Scheduling Request configurations to release

SchedulingRequestToAddMod field descriptions
schedulingRequestId
Used to modify a SR configuration and to indicate, in LogicalChannelConfig, the SR configuration to which a logical channel is mapped and to indicate, in SchedulingRequestresourceConfig, the SR configuration for which a scheduling request resource is used.
sr-ProhibitTimer
Timer for SR transmission on PUCCH in TS 38.321 [3]. Value in ms. ms1 corresponds to 1ms, ms2 corresponds to 2ms, and so on.  When the field is absent, the UE applies the value 0.
sr-TransMax
Maximum number of SR transmissions as described in 38.321 [3]. n4 corresponds to 4, n8 corresponds to 8, and so on. 

–	SchedulingRequestId
The IE SchedulingRequestId is used to identify a Scheduling Request instance in the MAC layer.
SchedulingRequestId information element
-- ASN1START
-- TAG-SCHEDULINGREQUESTID-START

SchedulingRequestId ::=             INTEGER (0..7)

-- TAG-SCHEDULINGREQUESTID-STOP
-- ASN1STOP

–	SchedulingRequestResourceConfig
The IE SchedulingRequestResourceConfig determines physical layer resources on PUCCH where the UE may send the dedicated scheduling request (D-SR) (see 38.213, section 9.2.4).
SchedulingRequestResourceConfig information element
-- ASN1START
-- TAG-SCHEDULING-REQUEST-RESOURCE-CONFIG-START

SchedulingRequestResourceConfig ::=     SEQUENCE {
    schedulingRequestResourceId             SchedulingRequestResourceId,
    schedulingRequestID                     SchedulingRequestId,
    periodicityAndOffset                    CHOICE {
        sym2                                    NULL,
        sym6or7                                 NULL,
        sl1                                     NULL,                       -- Recurs in every slot
        sl2                                     INTEGER (0..1),
        sl4                                     INTEGER (0..3),
        sl5                                     INTEGER (0..4),
        sl8                                     INTEGER (0..7),
        sl10                                    INTEGER (0..9),
        sl16                                    INTEGER (0..15),
        sl20                                    INTEGER (0..19),
        sl40                                    INTEGER (0..39),
        sl80                                    INTEGER (0..79),
        sl160                                   INTEGER (0..159),
        sl320                                   INTEGER (0..319),
        sl640                                   INTEGER (0..639)
    }                                                                                                                   OPTIONAL,   -- Need M
    resource                                PUCCH-ResourceId                                                            OPTIONAL    -- Need M
}

-- TAG-SCHEDULING-REQUEST-RESOURCE-CONFIG-STOP
-- ASN1STOP

SchedulingRequestResourceConfig field descriptions
periodicityAndOffset
SR periodicity and offset in number of slots. Corresponds to L1 parameter 'SR-periodicity' and 'SR-offset' (see 38.213, section 9.2.2) The following periodicities may be configured depending on the chosen subcarrier spacing:
SCS =  15 kHz: 2sym, 7sym, 1sl, 2sl, 4sl, 5sl, 8sl, 10sl, 16sl, 20sl, 40sl, 80sl
SCS =  30 kHz: 2sym, 7sym, 1sl, 2sl, 4sl, 8sl, 10sl, 16sl, 20sl, 40sl, 80sl, 160sl
SCS =  60 kHz: 2sym, 7sym/6sym, 1sl, 2sl, 4sl, 8sl, 16sl, 20sl, 40sl, 80sl, 160sl, 320sl
SCS = 120 kHz: 2sym, 7sym, 1sl, 2sl, 4sl, 8sl, 16sl, 40sl, 80sl, 160sl, 320sl, sl640

sym6or7 corresponds to 6 symbols if extended cyclic prefix and a SCS of 60 kHz are configured, otherwise it corresponds to 7 symbols.
For periodicities sym2, sym7 and sl1 the UE assumes an offset of 0 slots.
resource
ID of the PUCCH resource in which the UE shall send the scheduling request. The actual PUCCH-Resource is configured in PUCCH-Config of the same UL BWP and serving cell as this SchedulingRequestResourceConfig. The network configures a PUCCH-Resource of PUCCH-format0 or PUCCH-format1 (other formats not supported). Corresponds to L1 parameter 'SR-resource' (see 38.213, section 9.2.2)
schedulingRequestID
The ID of the SchedulingRequestConfig that uses this scheduling request resource.

–	SchedulingRequestResourceId
The IE SchedulingRequestResourceId is used to identify scheduling request resources on PUCCH.
SchedulingRequestResourceId information element
-- ASN1START
-- TAG-SCHEDULINGREQUESTRESOURCEID-START

SchedulingRequestResourceId ::=     INTEGER (1..maxNrofSR-Resources)

-- TAG-SCHEDULINGREQUESTRESOURCEID-STOP
-- ASN1STOP

–	ScramblingId
The IE ScramblingID is used for scrambling channels and reference signals.
-- ASN1START
-- TAG-SCRAMBLING-ID-START

ScramblingId ::=                    INTEGER(0..1023)

-- TAG-SCRAMBLING-ID-STOP
-- ASN1STOP

–	SCS-SpecificCarrier
The IE SCS-SpecificCarrier provides parameters determining the location and width of the actual carrier. It is defined specifically for a numerology (subcarrier spacing (SCS)) and in relation (frequency offset) to Point A.
-- ASN1START
-- TAG-SCS-SPECIFIC-CARRIER-START

SCS-SpecificCarrier ::=             SEQUENCE {
    offsetToCarrier                     INTEGER (0..2199),
    subcarrierSpacing                   SubcarrierSpacing,
    carrierBandwidth                    INTEGER (1..maxNrofPhysicalResourceBlocks),
    ...,
    [[
    txDirectCurrentLocation-v1530   INTEGER (0..4095)                                       OPTIONAL            -- Need S
    ]]
}

-- TAG-SCS-SPECIFIC-CARRIER-STOP
-- ASN1STOP

SCS-SpecificCarrier field descriptions
carrierBandwidth
Width of this carrier in number of PRBs (using the subcarrierSpacing defined for this carrier) Corresponds to L1 parameter 'BW' (see 38.211, section 4.4.2)
offsetToCarrier
Offset in frequency domain between Point A (lowest subcarrier of common RB 0) and the lowest usable subcarrier on this carrier in number of PRBs (using the subcarrierSpacing defined for this carrier). The maximum value corresponds to 275*8-1. Corresponds to L1 parameter 'offset-pointA-low-scs' (see 38.211, section 4.4.2)
txDirectCurrentLocation
Indicates the downlink Tx Direct Current location for the carrier. A value in the range 0..3299 indicates the subcarrier index within the carrier. The values in the value range 3301..4095 are reserved and ignored by the UE. If this field is absent, the UE assumes the default value of 3300 (i.e. "Outside the carrier"). (see 38.211, section 4.4.2)
subcarrierSpacing
Subcarrier spacing of this carrier. It is used to convert the offsetToCarrier into an actual frequency. Only the values 15 or 30 kHz (<6GHz), 60 or 120 kHz (>6GHz) are applicable. The network configures all SCSs of configured BWPs configured in this serving cell. Corresponds to L1 parameter 'ref-scs' (see 38.211, section 4.4.2

Conditional Presence
Explanation
OnePerServCell
This field must be present for exactly one SCS-SpecificCarrier of a serving cell. 

–	SDAP-Config
The IE SDAP-Config is used to set the configurable SDAP parameters for a data radio bearer. All configured instances of SDAP-Config with the same value of pdu-Session correspond to the same SDAP entity as specified in TS 37.324 [FFS_Ref].
SDAP-Config information element
-- ASN1START
-- TAG-SDAP-CONFIG-START

SDAP-Config ::=                     SEQUENCE {
    pdu-Session                         PDU-SessionID,
    sdap-HeaderDL                       ENUMERATED {present, absent},
    sdap-HeaderUL                       ENUMERATED {present, absent},
    defaultDRB                          BOOLEAN,
    mappedQoS-FlowsToAdd                SEQUENCE (SIZE (1..maxNrofQFIs)) OF QFI                                     OPTIONAL, -- Need N
    mappedQoS-FlowsToRelease            SEQUENCE (SIZE (1..maxNrofQFIs)) OF QFI                                     OPTIONAL, -- Need N
    ...
}

QFI ::=                             INTEGER (0..maxQFI)

PDU-SessionID ::=                   INTEGER (0..255)

-- TAG-SDAP-CONFIG-STOP
-- ASN1STOP

SDAP-Config field descriptions
defaultDRB
Indicates whether or not this is the default DRB for this PDU session. Among all configured instances of SDAP-Config with the same value of pdu-Session, this field shall be set to TRUE in at most one instance of SDAP-Config and to FALSE in all other instances.
mappedQoS-FlowsToAdd
Indicates the list of QFIs of QoS flows of the PDU session to be additionally mapped to this DRB. A QFI value can be included at most once in all configured instances of SDAP-Config with the same value of pdu-Session.
mappedQoS-FlowsToRelease
Indicates the list of QFIs of QoS flows of the PDU session to be released from existing QoS flow to DRB mapping of this DRB. 
pdu-Session
Identity of the PDU session whose QoS flows are mapped to the DRB
sdap-HeaderUL
Indicates whether or not a SDAP header is present for UL data on this DRB. The field cannot be changed after a DRB is established. The network sets this field to present if the field defaultDRB is set to TRUE.
sdap-HeaderDL
Indicates whether or not a SDAP header is present for DL data on this DRB. The field cannot be changed after a DRB is established.

–	SearchSpace
The IE SearchSpace defines how/where to search for PDCCH candidates. Each search space is associated with one ControlResourceSet.
SearchSpace information element
-- ASN1START
-- TAG-SEARCHSPACE-START

SearchSpace ::=                         SEQUENCE {
    searchSpaceId                           SearchSpaceId,
    controlResourceSetId                    ControlResourceSetId                                                        OPTIONAL,   -- Cond SetupOnly
    monitoringSlotPeriodicityAndOffset      CHOICE {
        sl1                                     NULL,
        sl2                                     INTEGER (0..1),
        sl4                                     INTEGER (0..3),
        sl5                                     INTEGER (0..4),
        sl8                                     INTEGER (0..7),
        sl10                                    INTEGER (0..9),
        sl16                                    INTEGER (0..15),
        sl20                                    INTEGER (0..19),
        sl40                                    INTEGER (0..39),
        sl80                                    INTEGER (0..79),
        sl160                                   INTEGER (0..159),
        sl320                                   INTEGER (0..319),
        sl640                                   INTEGER (0..639),
        sl1280                                  INTEGER (0..1279),
        sl2560                                  INTEGER (0..2559)
    }                                                                                                                   OPTIONAL,   -- Cond Setup
    duration                                INTEGER (2..2559)                                                           OPTIONAL,   -- Need R
    monitoringSymbolsWithinSlot             BIT STRING (SIZE (14))                                                      OPTIONAL,   -- Cond Setup
    nrofCandidates                          SEQUENCE {
        aggregationLevel1                       ENUMERATED {n0, n1, n2, n3, n4, n5, n6, n8},
        aggregationLevel2                       ENUMERATED {n0, n1, n2, n3, n4, n5, n6, n8},
        aggregationLevel4                       ENUMERATED {n0, n1, n2, n3, n4, n5, n6, n8},
        aggregationLevel8                       ENUMERATED {n0, n1, n2, n3, n4, n5, n6, n8},
        aggregationLevel16                      ENUMERATED {n0, n1, n2, n3, n4, n5, n6, n8}
    }                                                                                                                   OPTIONAL,   -- Cond Setup
    searchSpaceType                         CHOICE {
        common                                  SEQUENCE {
            dci-Format0-0-AndFormat1-0              SEQUENCE {
                ...
            }                                                                                                           OPTIONAL,   -- Need R
            dci-Format2-0                           SEQUENCE {
                nrofCandidates-SFI                      SEQUENCE {
                    aggregationLevel1                       ENUMERATED {n1, n2}                                         OPTIONAL,   -- Need R
                    aggregationLevel2                       ENUMERATED {n1, n2}                                         OPTIONAL,   -- Need R
                    aggregationLevel4                       ENUMERATED {n1, n2}                                         OPTIONAL,   -- Need R
                    aggregationLevel8                       ENUMERATED {n1, n2}                                         OPTIONAL,   -- Need R
                    aggregationLevel16                      ENUMERATED {n1, n2}                                         OPTIONAL    -- Need R
                },
                ...
            }                                                                                                           OPTIONAL,   -- Need R
            dci-Format2-1                           SEQUENCE {
                ...
            }                                                                                                           OPTIONAL,   -- Need R
            dci-Format2-2                           SEQUENCE {
                ...
            }                                                                                                           OPTIONAL,   -- Need R
            dci-Format2-3                           SEQUENCE {
                dummy1                  ENUMERATED {sl1, sl2, sl4, sl5, sl8, sl10, sl16, sl20}                  OPTIONAL,   -- Cond Setup
                dummy2                  ENUMERATED {n1, n2},
                ...
            }                                                                                                           OPTIONAL    -- Need R
        },
        ue-Specific                             SEQUENCE {
            dci-Formats                             ENUMERATED {formats0-0-And-1-0, formats0-1-And-1-1},
            ...
        }
    }                                                                                                                   OPTIONAL    -- Cond Setup
}

-- TAG-SEARCHSPACE-STOP
-- ASN1STOP

SearchSpace field descriptions
common
Configures this search space as common search space (CSS) and DCI formats to monitor.
controlResourceSetId
The CORESET applicable for this SearchSpace. Value 0 identifies the common CORESET#0 configured in MIB and in ServingCellConfigCommon. Values 1..maxNrofControlResourceSets-1 identify CORESETs configured in System Information or by dedicated signalling. The CORESETs with non-zero controResourceSetId locate in the same BWP as this SearchSpace.
dummy1, dummy2
This field is not used in the specification. If received it shall be ignored by the UE.
dci-Format0-0-AndFormat1-0
If configured, the UE monitors the DCI formats 0_0 and 1_0 with CRC scrambled by C-RNTI, CS-RNTI (if configured), SP-CSI-RNTI (if configured), RA-RNTI, TC-RNTI, P-RNTI, SI-RNTI
dci-Format2-0
If configured, UE monitors the DCI format 2_0 with CRC scrambled by SFI-RNTI
dci-Format2-1
If configured, UE monitors the DCI format 2_1 with CRC scrambled by INT-RNTI
dci-Format2-2
If configured, UE monitors the DCI format 2_2 with CRC scrambled by TPC-PUSCH-RNTI or TPC-PUCCH-RNTI
dci-Format2-3
If configured, UE monitors the DCI format 2_3 with CRC scrambled by TPC-SRS-RNTI
dci-Formats
Indicates whether the UE monitors in this USS for DCI formats 0-0 and 1-0 or for formats 0-1 and 1-1.
duration
Number of consecutive slots that a SearchSpace lasts in every occasion, i.e., upon every period as given in the periodicityAndOffset. If the field is absent, the UE applies the value 1 slot. The maximum valid duration is periodicity-1 (periodicity as given in the monitoringSlotPeriodicityAndOffset).
monitoringPeriodicity
Monitoring periodicity of SRS PDCCH in number of slots for DCI format 2-3. Corresponds to L1 parameter 'SRS-monitoring-periodicity' (see 38.212, 38.213, section 7.3.1, 11.3)
monitoringSlotPeriodicityAndOffset
Slots for PDCCH Monitoring configured as periodicity and offset. If UE is configured to monitor DCI format 2_1, only the values 'sl1', 'sl2' or 'sl4' are applicable. Corresponds to L1 parameters 'Montoring-periodicity-PDCCH-slot' and 'Montoring-offset-PDCCH-slot' (see 38.213, section 10)
monitoringSymbolsWithinSlot
The first symbol(s) for PDCCH monitoring in the slots configured for PDCCH monitoring (see monitoringSlotPeriodicityAndOffset and duration). The most significant (left) bit represents the first OFDM in a slot. The least significant (right) bit represents the last symbol. The bit(s) set to one identify the first OFDM symbol(s) of the control resource set within a slot. Corresponds to L1 parameter 'Montoring-symbols-PDCCH-within-slot' (see 38.213, section 10)
nrofCandidates-SFI
The number of PDCCH candidates specifically for format 2-0 for the configured aggregation level. If an aggregation level is absent, the UE does not search for any candidates with that aggregation level. The network configures only one aggregationLevel and the corresponding number of candidates. Corresponds to L1 parameters 'SFI-Num-PDCCH-cand' and 'SFI-Aggregation-Level' (see 38.213, section 11.1.1).
nrofCandidates
Number of PDCCH candidates per aggregation level. Corresponds to L1 parameter 'Aggregation-level-1' to 'Aggregation-level-8'. The number of candidates and aggregation levels configured here applies to all formats unless a particular value is specified or a format-specific value is provided (see inside searchSpaceType). (see 38.213, section 10)
nrofPDCCH-Candidates
The number of PDCCH candidates for DCI format 2-3 for the configured aggregation level. Corresponds to L1 parameter 'SRS-Num-PDCCH-cand' (see 38.212, 38.213, section 7.3.1, 11.3)
searchSpaceId
Identity of the search space. SearchSpaceId = 0 identifies the searchSpaceZero configured via PBCH (MIB) or ServingCellConfigCommon and may hence not be used in the SearchSpace IE. The searchSpaceId is unique among the BWPs of a Serving Cell.
searchSpaceType
Indicates whether this is a common search space (present) or a UE specific search space as well as DCI formats to monitor for.
ue-Specific
Configures this search space as UE specific search space (USS). The UE monitors the DCI format with CRC scrambled by C-RNTI, CS-RNTI (if configured), and SP-CSI-RNTI (if configured)

Conditional Presence
Explanation
Setup
This field is mandatory present upon creation of a new SearchSpace. It is optionally present, Need M, otherwise.
SetupOnly
This field is mandatory present upon creation of a new SearchSpace. It is absent otherwise.

–	SearchSpaceId
The IE SearchSpaceId is used to identify Search Spaces. The search space with the SearchSpaceId = 0 identifies the search space configured via PBCH (MIB) and in ServingCellConfigCommon (searchSpaceZero). The number of Search Spaces per BWP is limited to 10 including the common and UE specific Search Spaces.
SearchSpaceId information element
-- ASN1START
-- TAG-SEARCHSPACEID-START

SearchSpaceId ::=                   INTEGER (0..maxNrofSearchSpaces-1)

-- TAG-SEARCHSPACEID-STOP
-- ASN1STOP

–	SearchSpaceZero
The IE SearchSpaceZero is used to configure SearchSpace#0 of the initial BWP (see TS 38.213 [13], section 13).
SearchSpaceZero information element
-- ASN1START
-- TAG-SEARCHSPACEZERO-START

SearchSpaceZero ::=                 INTEGER (0..15)

-- TAG-SEARCHSPACEZERO-STOP
-- ASN1STOP

–	SecurityAlgorithmConfig
The IE SecurityAlgorithmConfig is used to configure AS integrity protection algorithm and AS ciphering algorithm for SRBs and DRBs.
SecurityAlgorithmConfig information element
-- ASN1START
-- TAG-SECURITY-ALGORITHM-CONFIG-START

SecurityAlgorithmConfig ::=         SEQUENCE {
    cipheringAlgorithm                  CipheringAlgorithm,
    integrityProtAlgorithm              IntegrityProtAlgorithm          OPTIONAL,   -- Need R
    ...
}

IntegrityProtAlgorithm ::=          ENUMERATED {
                                        nia0, nia1, nia2, nia3, spare4, spare3,
                                        spare2, spare1, ...}

CipheringAlgorithm ::=              ENUMERATED {
                                        nea0, nea1, nea2, nea3, spare4, spare3,
                                        spare2, spare1, ...}

-- TAG-SECURITY-ALGORITHM-CONFIG-STOP
-- ASN1STOP

SecurityAlgorithmConfig field descriptions
cipheringAlgorithm
Indicates the ciphering algorithm to be used for SRBs and DRBs, as specified in TS 33.501 [11]. The algorithms nea0-nea3 are identical to the LTE algorithms eea0-3. For EN-DC, the algorithms configured for bearers using KeNB shall be the same as for all bearers using KeNB and the algorithms configured for bearers using S-KgNB shall be the same as for all bearers using S-KgNB. If EN-DC is not configured, the algorithm shall be the same for all bearers.
integrityProtAlgorithm
For EN-DC, this IE indicates the integrity protection algorithm to be used for SRBs, as specified in TS 33.501 [11]. The algorithms nia0-nia3 is identical to the LTE algorithms eia0-3. For EN-DC, the algorithms configured for SRBs using KeNB shall be the same as for all SRBs using KeNB and the algorithms configured for bearers using S-KgNB shall be the same as for all bearers using S-KgNB.The network does not configure nia0 for SRB3. If EN-DC is not configured, this field is mandatory present, and the algorithm shall be the same for all bearers.

–	ServCellIndex
The IE ServCellIndex concerns a short identity, used to identify a serving cell (i.e. the PCell, the PSCell or an SCell). Value 0 applies for the PCell, while the SCellIndex that has previously been assigned applies for SCells.
ServCellIndex information element
-- ASN1START
-- TAG-SERV-CELL-INDEX-START

ServCellIndex ::=                   INTEGER (0..maxNrofServingCells-1)

-- TAG-SERV-CELL-INDEX-STOP
-- ASN1STOP

–	ServingCellConfig
The ServingCellConfig IE is used to configure (add or modify) the UE with a serving cell, which may be the SpCell or an SCell of an MCG or SCG. The parameters herein are mostly UE specific but partly also cell specific (e.g. in additionally configured bandwidth parts).
ServingCellConfig information element
-- ASN1START
-- TAG-SERVING-CELL-CONFIG-START

ServingCellConfig ::=               SEQUENCE {
    tdd-UL-DL-ConfigurationDedicated    TDD-UL-DL-ConfigDedicated                                               OPTIONAL,   -- Cond TDD

    initialDownlinkBWP                  BWP-DownlinkDedicated                                                   OPTIONAL,   -- Need M
    downlinkBWP-ToReleaseList           SEQUENCE (SIZE (1..maxNrofBWPs)) OF BWP-Id                              OPTIONAL,   -- Need N
    downlinkBWP-ToAddModList            SEQUENCE (SIZE (1..maxNrofBWPs)) OF BWP-Downlink                        OPTIONAL,   -- Need N
    firstActiveDownlinkBWP-Id           BWP-Id                                                                  OPTIONAL,   -- Cond SyncAndCellAdd
    bwp-InactivityTimer                 ENUMERATED {ms2, ms3, ms4, ms5, ms6, ms8, ms10, ms20, ms30,
                                                    ms40,ms50, ms60, ms80,ms100, ms200,ms300, ms500,
                                                    ms750, ms1280, ms1920, ms2560, spare10, spare9, spare8,
                                                    spare7, spare6, spare5, spare4, spare3, spare2, spare1 }    OPTIONAL,   --Need R
    defaultDownlinkBWP-Id               BWP-Id                                                                  OPTIONAL,   -- Need S

    uplinkConfig                        UplinkConfig                                                            OPTIONAL,   -- Need M
    supplementaryUplink                 UplinkConfig                                                            OPTIONAL,   -- Need M

    pdcch-ServingCellConfig             SetupRelease { PDCCH-ServingCellConfig }                                OPTIONAL,   -- Need M
    pdsch-ServingCellConfig             SetupRelease { PDSCH-ServingCellConfig }                                OPTIONAL,   -- Need M
    csi-MeasConfig                      SetupRelease { CSI-MeasConfig }                                         OPTIONAL,   -- Need M
    sCellDeactivationTimer              ENUMERATED {ms20, ms40, ms80, ms160, ms200, ms240,
                                                    ms320, ms400, ms480, ms520, ms640, ms720,
                                                    ms840, ms1280, spare2,spare1}                   OPTIONAL,   -- Cond ServingCellWithoutPUCCH
    crossCarrierSchedulingConfig        CrossCarrierSchedulingConfig                                            OPTIONAL,   -- Need M
    tag-Id                              TAG-Id,
    ue-BeamLockFunction                 ENUMERATED {enabled}                                                    OPTIONAL,   -- Need R
    pathlossReferenceLinking            ENUMERATED {pCell, sCell}                                               OPTIONAL,   -- Cond SCellOnly
    servingCellMO                       MeasObjectId                                                            OPTIONAL,   -- Cond MeasObject
    ...
}

UplinkConfig ::=                    SEQUENCE {
    initialUplinkBWP                    BWP-UplinkDedicated                                                     OPTIONAL,   -- Need M
    uplinkBWP-ToReleaseList             SEQUENCE (SIZE (1..maxNrofBWPs)) OF BWP-Id                              OPTIONAL,   -- Need N
    uplinkBWP-ToAddModList              SEQUENCE (SIZE (1..maxNrofBWPs)) OF BWP-Uplink                          OPTIONAL,   -- Need N
    firstActiveUplinkBWP-Id             BWP-Id                                                                  OPTIONAL,   -- Cond SyncAndCellAdd

    pusch-ServingCellConfig             SetupRelease { PUSCH-ServingCellConfig }                                OPTIONAL,   -- Need M
    carrierSwitching                    SetupRelease { SRS-CarrierSwitching }                                   OPTIONAL,   -- Need M
    ...
}

-- TAG-SERVING-CELL-CONFIG-STOP
-- ASN1STOP

ServingCellConfig field descriptions
bwp-InactivityTimer
The duration in ms after which the UE falls back to the default Bandwidth Part. (see 38.321, section 5.15) The value 0.5 ms is only applicable for carriers >6 GHz. When the network releases the timer configuration, the UE stops the timer without switching to the default BWP.
crossCarrierSchedulingConfig
Indicates whether this serving cell is cross-carrier scheduled by another serving cell or whether it cross-carrier schedules another serving cell.
defaultDownlinkBWP-Id
Corresponds to L1 parameter 'default-DL-BWP'. The initial bandwidth part is referred to by BWP-Id = 0. ID of the downlink bandwidth part to be used upon expiry of the BWP inactivity timer. This field is UE specific. When the field is absent the UE uses the nitial BWP as default BWP. (see 38.211, 38.213, section 12 and 38.321, section 5.15)
downlinkBWP-ToAddModList
List of additional downlink bandwidth parts to be added or modified. (see 38.211, 38.213, section 12).
downlinkBWP-ToReleaseList
List of additional downlink bandwidth parts to be released. (see 38.211, 38.213, section 12).
firstActiveDownlinkBWP-Id
If configured for an SpCell, this field contains the ID of the DL BWP to be activated upon performing the RRC (re-)configuration. If the field is absent, the RRC (re-)configuration does not impose a BWP switch (corresponds to L1 parameter 'active-BWP-DL-Pcell').
If configured for an SCell, this field contains the ID of the downlink bandwidth part to be used upon MAC-activation of an SCell. The initial bandwidth part is referred to by BWP-Id = 0.
Upon reconfigurationWithSync (PCell handover, PSCelladdition/change), the network sets the firstActiveDownlinkBWP-Id and firstActiveUplinkBWP-Id to the same value.
initialDownlinkBWP
The dedicated (UE-specific) configuration for the initial downlink bandwidth-part.
pathlossReferenceLinking
Indicates whether UE shall apply as pathloss reference either the downlink of PCell or of SCell that corresponds with this uplink (see 38.213, section 7)
pdsch-ServingCellConfig
PDSCH related parameters that are not BWP-specific.
sCellDeactivationTimer
SCell deactivation timer in TS 38.321 [3]. If the field is absent, the UE applies the value infinity.
servingCellMO
measObjectId of the MeasObjectNR in MeasConfigwhich is associated to the serving cell. For this MeasObjectNR, the following relationship applies between this MeasObjectNR and frequencyInfoDL in ServingCellConfigCommon of the serving cell: if ssbFrequency is configured, its value is the same as the absoluteFrequencySSB and if csi-rs-ResourceConfigMobility is configured, the value of its subcarrierSpacing is present in one entry of the scs-SpecificCarrierList, csi-RS-CellListMobility includes an entry corresponding to the serving cell (with cellId equal to physCellId in ServingCellConfigCommon) and the frequency range indicated by the csi-rs-MeasurementBW of the entry in csi-RS-CellListMobility is included in the frequency range indicated by in the entry of the scs-SpecificCarrierList.   
tag-Id
Timing Advance Group ID, as specified in TS 38.321 [3], which this cell belongs to.
ue-BeamLockFunction
Enables the "UE beam lock function (UBF)", which disable changes to the UE beamforming configuration when in NR_RRC_CONNECTED. FFS: Parameter added preliminary based on RAN4 LS in R4-1711823. Decide where to place it (maybe ServingCellConfigCommon or in a BeamManagement IE??)

UplinkConfig field descriptions
carrierSwitching
Includes parameters for configuration of carrier based SRS switching Corresponds to L1 parameter 'SRS-CarrierSwitching' (see 38.214, section FFS_Section).
firstActiveUplinkBWP-Id
If configured for an SpCell, this field contains the ID of the UL BWP to be activated upon performing the RRC (re-)configuration. If the field is absent, the RRC (re-)configuration does not impose a BWP switch (corresponds to L1 parameter 'active-BWP-UL-Pcell').
If configured for an SCell, this field contains the ID of the uplink bandwidth part to be used upon MAC-activation of an SCell. The initial bandwidth part is referred to by BandiwdthPartId = 0.
initialUplinkBWP
The dedicated (UE-specific) configuration for the initial uplink bandwidth-part.
pusch-ServingCellConfig
PUSCH related parameters that are not BWP-specific.
supplementaryUplink
The field is optionally present if supplementaryUplinkConfig is configured in ServingCellConfigCommon and absent otherwise.
uplinkBWP-ToReleaseList
The additional bandwidth parts for uplink. In case of TDD uplink- and downlink BWP with the same bandwidthPartId are considered as a BWP pair and must have the same center frequency.
uplinkConfig
The field is optionally present if uplinkConfigCommon is configured in ServingCellConfigCommon, and absent otherwise.

Conditional Presence
Explanation
MeasObject
This field is mandatory present for the SpCell if the UE has a measConfig, and it is optionally present, Need M, for SCells.
SCellOnly
This field is optionally present, Need R, for SCells. It is absent otherwise. 
ServingCellWithoutPUCCH
This field is optionally present, Need S, for SCells except PUCCH SCells. It is absent otherwise.
SyncAndCellAdd
This field is mandatory present, Need N, for a SpCell upon reconfigurationWithSync (PCell handover, PSCelladdition/change) and upon RRCsetup/RRCResume/RRCReestablishment.
The field is mandatory present, Need M, for an SCell upon addition.
For SpCell, the field is optionally present, Need N, upon reconfiguration without reconfigurationWithSync.
In all other cases the field is absent.
TDD
This field is optionally present, Need R, for TDD cells. It is absent otherwise.

–	ServingCellConfigCommon
The ServingCellConfigCommon IE is used to configure cell specific parameters of a UE's serving cell. The IE contains parameters which a UE would typically acquire from SSB, MIB or SIBs when accessing the cell from IDLE. With this IE, the network provides this information in dedicated signalling when configuring a UE with a SCells or with an additional cell group (SCG). It also provides it for SpCells (MCG and SCG) upon reconfiguration with sync.
ServingCellConfigCommon information element
-- ASN1START
-- TAG-SERVING-CELL-CONFIG-COMMON-START

ServingCellConfigCommon ::=         SEQUENCE {
    physCellId                          PhysCellId                                                  OPTIONAL,   -- Cond HOAndServCellAdd,
    downlinkConfigCommon                DownlinkConfigCommon                                        OPTIONAL,   -- Cond HOAndServCellAdd

    uplinkConfigCommon                  UplinkConfigCommon                                          OPTIONAL,   -- Need M
    supplementaryUplinkConfig                   UplinkConfigCommon                                  OPTIONAL,   -- Need S
    n-TimingAdvanceOffset               ENUMERATED { n0, n25600, n39936 }                           OPTIONAL,   -- Need S
    ssb-PositionsInBurst                CHOICE {
        shortBitmap                         BIT STRING (SIZE (4)),
        mediumBitmap                        BIT STRING (SIZE (8)),
        longBitmap                          BIT STRING (SIZE (64))
    }                                                                                                           OPTIONAL,   -- Cond AbsFreqSSB
    ssb-periodicityServingCell          ENUMERATED { ms5, ms10, ms20, ms40, ms80, ms160, spare2, spare1 }       OPTIONAL,   -- Need S
    dmrs-TypeA-Position                 ENUMERATED {pos2, pos3},
    lte-CRS-ToMatchAround               SetupRelease { RateMatchPatternLTE-CRS }                                OPTIONAL,   -- Need M
    rateMatchPatternToAddModList        SEQUENCE (SIZE (1..maxNrofRateMatchPatterns)) OF RateMatchPattern       OPTIONAL,   -- Need N
    rateMatchPatternToReleaseList       SEQUENCE (SIZE (1..maxNrofRateMatchPatterns)) OF RateMatchPatternId     OPTIONAL,   -- Need N
    subcarrierSpacing                   SubcarrierSpacing                                                       OPTIONAL,   -- Cond HOAndServCellAdd
    tdd-UL-DL-ConfigurationCommon       TDD-UL-DL-ConfigCommon                                                  OPTIONAL,   -- Cond TDD
    ss-PBCH-BlockPower                  INTEGER (-60..50),
    ...
}


-- TAG-SERVING-CELL-CONFIG-COMMON-STOP
-- ASN1STOP

ServingCellConfigCommon field descriptions
dmrs-TypeA-Position
Position of (first) DM-RS for downlink (see 38.211, section 7.4.1.1.1) and uplink (38.211, section 6.4.1.1.3).
downlinkConfigCommon
The common downlink configuration of the serving cell, including the frequency information configuration and the initial downlink BWP common configuration. The parameters provided herein should match the parameters configured by MIB and SIB1 of the serving cell. 
longBitmap
bitmap for above 6 GHz
lte-CRS-ToMatchAround
Parameters to determine an LTE CRS pattern that the UE shall rate match around.
mediumBitmap
bitmap for 3-6 GHz
n-TimingAdvanceOffset
The N_TA-Offset to be applied for random access on this serving cell. If the field is absent, the UE applies the value defined for the duplex mode and frequency range of this serving cell. See 38.133, table 7.1.2-2.
rateMatchPatternToAddModList
Resources patterns which the UE should rate match PDSCH around. The UE rate matches around the union of all resources indicated in the nested bitmaps. Rate match patterns defined here on cell level apply only to PDSCH of the same numerology. Corresponds to L1 parameter 'Resource-set-cell' (see 38.214, section 5.1.2.2.3)
shortBitmap
bitmap for sub 3 GHz
ss-PBCH-BlockPower
TX power that the NW used for SSB transmission. The UE uses it to estimate the RA preamble TX power. (see 38.213, section 7.4)
ssb-periodicityServingCell
The SSB periodicity in ms for the rate matching purpose. If the field is absent, the UE applies the value ms5. (see 38.211, section [7.4.3.1])
ssb-PositionsInBurst
Indicates the time domain positions of the transmitted SS-blocks in an SS-burst. The first/ leftmost bit corresponds to SS/PBCH block index 0, the second bit corresponds to SS/PBCH block index 1, and so on. Value 0 in the bitmap indicates that the corresponding SS/PBCH block is not transmitted while value 1 indicates that the corresponding SS/PBCH block is transmitted. Corresponds to L1 parameter 'SSB-Transmitted' (see 38.213, section 5.1)
subcarrierSpacing
Subcarrier spacing of SSB. Only the values 15 or 30 kHz (<6GHz), 120 or 240 kHz (>6GHz) are applicable.
supplementaryUplinkConfig
The network configures this field only if uplinkConfigCommon is configured. If this field is absent, the UE shall release the supplementaryUplinkConfig and the supplementaryUplink configured in ServingCellConfig of this serving cell, if configured.
tdd-UL-DL-ConfigurationCommon
A cell-specific TDD UL/DL configuration, see 38.213, section 11.1.

Conditional Presence
Explanation
AbsFreqSSB
The field is absent when absoluteFrequencySSB in frequencyInfoDL is absent, otherwise the field is mandatory present.
HOAndServCellAdd
This field is mandatory present for inter-cell handover and upon serving cell (PSCell/SCell) addition. Otherwise, the field is absent, Need M. 
ServCellAdd
This field is mandatory present upon serving cell addition (for PSCell and SCell). It is optionally present, Need M otherwise.
TDD
The field is optionally present, Need R, for TDD cells; otherwise it is not present.

–	ServingCellConfigCommonSIB
The ServingCellConfigCommonSIB IE is used to configure cell specific parameters of a UE's serving cell in SIB1.
ServingCellConfigCommonSIB information element
-- ASN1START
-- TAG-SERVINGCELLCONFIGCOMMONSIB-START

ServingCellConfigCommonSIB ::=      SEQUENCE {
    downlinkConfigCommon                    DownlinkConfigCommonSIB,
    uplinkConfigCommon                  UplinkConfigCommonSIB                                           OPTIONAL,   -- Need R
    supplementaryUplink                 UplinkConfigCommonSIB                                           OPTIONAL,   -- Need R
    n-TimingAdvanceOffset               ENUMERATED { n0, n25560, n39936 }                               OPTIONAL,   -- Need S
    ssb-PositionsInBurst                    SEQUENCE {
        inOneGroup                          BIT STRING (SIZE (8)),
        groupPresence                       BIT STRING (SIZE (8))                                       OPTIONAL -- Cond Above6GHzOnly
    },
    ssb-PeriodicityServingCell          ENUMERATED {ms5, ms10, ms20, ms40, ms80, ms160},

    tdd-UL-DL-ConfigurationCommon       TDD-UL-DL-ConfigCommon                                          OPTIONAL, -- Cond TDD
    ss-PBCH-BlockPower                  INTEGER (-60..50),
    ...
}

-- TAG-SERVINGCELLCONFIGCOMMONSIB-STOP
-- ASN1STOP

ServingCellConfigCommonSIB field descriptions
groupPresence
This field is present when the carrier frequency is above 6GHz. The first/leftmost bit corresponds to the SS/PBCH index 0-7, the second bit corresponds to SS/PBCH block 8-15, and so on. Value 0 in the bitmap indicates that the SSBs according to inOneGroup are not present. Value 1 indicates that the SS/PBCH blocks are transmitted in accordance with inOneGroup.
inOneGroup
when carrier frequency is smaller than or equal to 3 GHz, only the 4 leftmost bits are valid; the UE ignores the 4 rightmost bits. When the carrier frequency is larger than 3 GHz and smaller than or equal to 6 GHz, all 8 bits are valid. The first/ leftmost bit corresponds to SS/PBCH block index 0, the second bit corresponds to SS/PBCH block index 1, and so on. For carrier frequencies larger than 6 GHz, all 8 bit are valid; The first/ leftmost bit corresponds to the first SS/PBCH block index in the group (i.e., to SSB index 0, 8, and so one); the second bit corresponds to the second SS/PBCH block index in the group (i.e., to SSB index 1, 9, and so one), and so on.  Value 0 in the bitmap indicates that the corresponding SS/PBCH block is not transmitted while value 1 indicates that the corresponding SS/PBCH block is transmitted.
n-TimingAdvanceOffset
The N_TA-Offset to be applied for random access on this serving cell. If the field is absent, the UE applies the value defined for the duplex mode and frequency range of this serving cell. See 38.133, table 7.1.2-2
ssb-PositionsInBurst
Time domain positions of the transmitted SS-blocks in an SS-burst. Corresponds to L1 parameter 'SSB-Transmitted' (see 38.213, section 4.1)

Conditional Presence
Explanation
Above6GHzOnly
This field is present when the carrier frequency is above 6GHz. It is absent, Need R, otherwise. 
TDD
FFS 

–	ShortI-RNTI-Value
The ShortI-RNTI-Value IE is used to identify the suspended UE context of a UE in RRC_INACTIVE using fewer bits compared to I-RNTI-Value.
ShortI-RNTI-Value information element
-- ASN1START
-- TAG-ShortI-RNTI-VALUE-START

ShortI-RNTI-Value ::=   BIT STRING (SIZE(24))

-- TAG-ShortI-RNTI-VALUE-STOP
-- ASN1STOP

–	ShortMAC-I
The IE ShortMAC-I is used to identify and verify the UE at RRC connection resume and RRC connection re-establishment. The 16 least significant bits of the MAC-I calculated using the security configuration of the source PCell, as specified in 5.3.7.4.
ShortMAC-I information element
-- ASN1START
-- TAG-SHORTMAC-I-START

ShortMAC-I ::=                      BIT STRING (SIZE (16))

-- TAG-SHORTMAC-I-STOP
-- ASN1STOP

–	SINR-Range
The IE SINR-Range specifies the value range used in SINR measurements and thresholds. Integer value for SINR measurements is according to mapping table in TS 38.133 [14].
SINR-Range information element
-- ASN1START
-- TAG-SINR-RANGE-START

SINR-Range ::=                      INTEGER(0..127)

-- TAG-SINR-RANGE-STOP
-- ASN1STOP

–	SI-SchedulingInfo
The IE SI-SchedulingInfo contains information needed for acquisition of SI messages.
SI-SchedulingInfo information element
-- ASN1START
-- TAG-OTHER-SI-INFO-START

SI-SchedulingInfo ::=               SEQUENCE {
    schedulingInfoList                  SEQUENCE (SIZE (1..maxSI-Message)) OF SchedulingInfo,
    si-WindowLength                     ENUMERATED {s5, s10, s20, s40, s80, s160, s320, s640, s1280},
    si-RequestConfig                    SI-RequestConfig                                                            OPTIONAL,  -- Cond MSG-1
    si-RequestConfigSUL                 SI-RequestConfig                                                            OPTIONAL,  -- Cond SUL-MSG-1
    systemInformationAreaID             BIT STRING (SIZE (24))                                                      OPTIONAL,   -- Need R
    ...
}

SchedulingInfo ::=                  SEQUENCE {
    si-BroadcastStatus                  ENUMERATED {broadcasting, notBroadcasting},
    si-Periodicity                      ENUMERATED {rf8, rf16, rf32, rf64, rf128, rf256, rf512},
    sib-MappingInfo                     SIB-Mapping
}

SIB-Mapping ::=                     SEQUENCE (SIZE (1..maxSIB)) OF SIB-TypeInfo

SIB-TypeInfo ::=                    SEQUENCE {
    type                                ENUMERATED {sibType2, sibType3, sibType4, sibType5, sibType6, sibType7, sibType8, sibType9,
                                                    spare8, spare7, spare6, spare5, spare4, spare3, spare2, spare1,... },
    valueTag                            INTEGER (0..31)                                                             OPTIONAL, -- Cond SIB-TYPE
    areaScope                           ENUMERATED {true}                                                           OPTIONAL -- Cond AREA-ID
}

-- Configuration for Msg1 based SI Request
SI-RequestConfig::=                 SEQUENCE {
    rach-OccasionsSI                    SEQUENCE {
        rach-ConfigSI                       RACH-ConfigGeneric,
        ssb-perRACH-Occasion                ENUMERATED {oneEighth, oneFourth, oneHalf, one, two, four, eight, sixteen}
    }                                                                                                               OPTIONAL,   -- Need R
    si-RequestPeriod                    ENUMERATED {one, two, four, six, eight, ten, twelve, sixteen}               OPTIONAL,   -- Need R
    si-RequestResources                 SEQUENCE (SIZE (1..maxSI-Message)) OF SI-RequestResources
}

SI-RequestResources ::=             SEQUENCE {
    ra-PreambleStartIndex               INTEGER (0..63),
    ra-AssociationPeriodIndex           INTEGER (0..15)                                                             OPTIONAL,   -- Need R
    ra-ssb-OccasionMaskIndex            INTEGER (0..15)                                                             OPTIONAL        -- Need R
}

-- TAG-OTHER-SI-INFO-STOP
-- ASN1STOP

SI-RequestConfig field descriptions
rach-OccasionsSI
Configuration of dedicated RACH Occassions for SI. If the field is absent, the UE uses the corresponding parameters configured in rach-ConfigCommon of the initial uplink BWP.
si-RequestPeriod
Periodicity of the SI-Request configuration in number of association periods.
si-RequestResources
If there is only one entry in the list, the configuration is used for all SI messages for which si-BroadcastStatus is set to notBroadcasting. Otherwise the 1st entry in the list corresponds to the first SI message in schedulingInfoList for which si-BroadcastStatus is set to notBroadcasting, 2nd entry in the list corresponds to the second SI message in schedulingInfoList for which si-BroadcastStatus is set to notBroadcasting and so on. Change of si-RequestResources should not result in system information change notification.

SI-RequestResources field descriptions
ra-AssociationPeriodIndex
Index of the association period in the si-RequestPeriod in which the UE can send the SI request for SI message(s) corresponding to this SI-RequestResources, using the preambles indicated by ra-PreambleStartIndex and rach occasions indicated by ra-ssb-OccasionMaskIndex.
ra-PreambleStartIndex
If N SSBs are associated with a RACH occasion, where N > = 1, for the i-th SSB (i=0, …, N-1) the preamble with preamble index = ra-PreambleStartIndex + i is used for SI request; For N < 1, the preamble with preamble index = ra-PreambleStartIndex is used for SI request.

SchedulingInfo field descriptions
si-Periodicity
Periodicity of the SI-message in radio frames. rf8 corresponds to 8 radio frames, rf16 corresponds to 16 radio frames, and so on.
si-RequestConfig
Configuration of Msg1 resources that the UE uses for requesting SI-messages for which si-BroadcastStatus is set to notBroadcasting. If the field is not present the UE uses Msg3 to request SI-messages for which si-BroadcastStatus is set to notBroadcasting (if any). 
si-RequestConfigSUL
Configuration of Msg1 resources that the UE uses for requesting SI-messages for which si-BroadcastStatus is set to notBroadcasting. If the field is not present the UE uses Msg3 to request SI-messages for which si-BroadcastStatus is set to notBroadcasting (if any) on supplementary uplink.
si-WindowLength
The length of the SI scheduling window. s5 corresponds to 5 slots, s10 to 10 slots and so on.
systemInformationAreaID
Indicates the system information area that the cell belongs to. A SIB that is area specific may be applicable within an area referred to as a system information area, where the area is identified by systemInformationAreaID. The systemInformationAreaID is unique within a PLMN and is associated with the first PLMN-Identity included in the PLMN-IdentityInfoList.

SchedulingInfo field descriptions
si-BroadcastStatus
Indicates if the SI message is being broadcasted or not. Change of si-BroadcastStatus should not result in system information change notifications in Short Message transmitted with P-RNTI over DCI (see section 6.5). The value of the indication is valid until the end of the BCCH modification period when set to broadcasting.

Conditional presence
Explanation
AREA-ID
The field is mandatory present if systemInformationAreaID is present and the SIB is valid within the area identified by systemInformationAreaID, otherwise it is not present.
MSG-1
The field is optionally present, Need R, if si-BroadcastStatus is set to notBroadcasting for any SI-message included in SchedulingInfo. It is absent otherwise.
SIB-TYPE
The field is mandatory present if the SIB type is different from SIB6, SIB7 or SIB8. For SIB6, SIB7 and SIB8 it is not present.
SUL-MSG-1
The field is optionally present, Need R, if this serving cell is configured with a supplementary uplink and if si-BroadcastStatus is set to notBroadcasting for any SI-message included in SchedulingInfo. It is absent otherwise.



–	SlotFormatCombinationsPerCell
The IE SlotFormatCombinationsPerCell is used to configure the SlotFormatCombinations applicable for one serving cell. Corresponds to L1 parameter 'cell-to-SFI' (see 38.213, section 11.1.1).
SlotFormatCombinationsPerCell information element
-- ASN1START
-- TAG-SLOTFORMATCOMBINATIONSPERCELL-START

SlotFormatCombinationsPerCell ::=   SEQUENCE {
    servingCellId                       ServCellIndex,
    subcarrierSpacing                   SubcarrierSpacing,
    subcarrierSpacing2                  SubcarrierSpacing                                                                   OPTIONAL,   -- Need R
    slotFormatCombinations              SEQUENCE (SIZE (1..maxNrofSlotFormatCombinationsPerSet)) OF SlotFormatCombination   OPTIONAL,   -- Need M
    positionInDCI                       INTEGER(0..maxSFI-DCI-PayloadSize-1)                                                OPTIONAL,   -- Need M
    ...
}

SlotFormatCombination ::=           SEQUENCE {
    slotFormatCombinationId             SlotFormatCombinationId,
    slotFormats                         SEQUENCE (SIZE (1..maxNrofSlotFormatsPerCombination)) OF INTEGER (0..255)
}

SlotFormatCombinationId ::=         INTEGER (0..maxNrofSlotFormatCombinationsPerSet-1)

-- TAG-SLOTFORMATCOMBINATIONSPERCELL-STOP
-- ASN1STOP

SlotFormatCombination field descriptions
slotFormatCombinationId
This ID is used in the DCI payload to dynamically select this SlotFormatCombination. Corresponds to L1 parameter 'SFI-index' (see 38.213, section FFS_Section)
slotFormats
Slot formats that occur in consecutive slots in time domain order as listed here. The the slot formats are defined in 38.211, table 4.3.2-3 and numbered with 0..255.

SlotFormatCombinationsPerCell field descriptions
positionInDCI
The (starting) position (bit) of the slotFormatCombinationId (SFI-Index) for this serving cell (servingCellId) within the DCI payload. Corresponds to L1 parameter 'SFI-values' (see 38.213, section FFS_Section)
servingCellId
The ID of the serving cell for which the slotFormatCombinations are applicable
slotFormatCombinations
A list with SlotFormatCombinations. Each SlotFormatCombination comprises of one or more SlotFormats (see 38.211, section 4.3.2). The total number of slotFormats in the slotFormatCombinations list does not exceed 512. 
subcarrierSpacing2
Reference subcarrier spacing for a Slot Format Combination on an FDD or SUL cell. Corresponds to L1 parameter 'SFI-scs2' (see 38.213, section FFS_Section). For FDD, subcarrierSpacing (SFI-scs) is the reference SCS for DL BWP and subcarrierSpacing2 (SFI-scs2) is the reference SCS for UL BWP. For SUL, subcarrierSpacing (SFI-scs) is the reference SCS for non-SUL carrier and subcarrierSpacing2 (SFI-scs2) is the reference SCS for SUL carrier. The network configures a value that is smaller than or equal to any SCS of configured BWPs of the serving cell that the command applies to. And the network configures a value that is smaller than or equal to the SCS of the serving cell which the UE monitors for SFI indications.
subcarrierSpacing
Reference subcarrier spacing for this Slot Format Combination. The network configures a value that is smaller than or equal to any SCS of configured BWPs of the serving cell that the command applies to. And the network configures a value that is smaller than or equal to the SCS of the serving cell which the UE monitors for SFI indications. Corresponds to L1 parameter 'SFI-scs' (see 38.213, section FFS_Section)

–	SlotFormatIndicator
The IE SlotFormatIndicator is used to configure monitoring a Group-Common-PDCCH for Slot-Format-Indicators (SFI).
SlotFormatIndicator information element
-- ASN1START
-- TAG-SLOTFORMATINDICATOR-START

SlotFormatIndicator ::=         SEQUENCE {
    sfi-RNTI                        RNTI-Value,
    dci-PayloadSize                 INTEGER (1..maxSFI-DCI-PayloadSize),
    slotFormatCombToAddModList      SEQUENCE (SIZE(1..maxNrofAggregatedCellsPerCellGroup)) OF SlotFormatCombinationsPerCell OPTIONAL,   -- Need N
    slotFormatCombToReleaseList     SEQUENCE (SIZE(1..maxNrofAggregatedCellsPerCellGroup)) OF ServCellIndex                 OPTIONAL,   -- Need N
    ...
}

-- TAG-SLOTFORMATINDICATOR-STOP
-- ASN1STOP

SlotFormatIndicator field descriptions
dci-PayloadSize
Total length of the DCI payload scrambled with SFI-RNTI. Corresponds to L1 parameter 'SFI-DCI-payload-length' (see 38.213, section 11.1.1)
sfi-RNTI
RNTI used for SFI on the given cell Corresponds to L1 parameter 'SFI-RNTI' (see 38.213, section 11.1.1)
slotFormatCombToAddModList
A list of SlotFormatCombinations for the UE's serving cells. Corresponds to L1 parameter 'SFI-cell-to-SFI' (see 38.213, section 11.1.1)

–	S-NSSAI
The IE S-NSSAI (Single Network Slice Selection Assistance Information) identifies a Network Slice end to end and comprises a slice/service type and a slice differentiator, see TS 23.003 [20].
S-NSSAI information element
-- ASN1START
-- TAG-S-NSSAI-START

S-NSSAI  ::=                        CHOICE{
    sst                                 BIT STRING (SIZE (8)),
    sst-SD                              BIT STRING (SIZE (32))
}

-- TAG-S-NSSAI-STOP
-- ASN1STOP

S-NSSAI field descriptions
sst-SD
Indicates the S-NSSAI consists of Slice/Service Type and Slice Differentiator, see TS 23.003 [20].
sst
Indicates the S-NSSAI consists of Slice/Service Type, see TS 23.003 [20].

–	SpeedStateScaleFactors
The IE SpeedStateScaleFactors concerns factors, to be applied when the UE is in medium or high speed state, used for scaling a mobility control related parameter.
SpeedStateScaleFactors information element
-- ASN1START
-- TAG-SPEEDSTATESCALEFACTORS-START

SpeedStateScaleFactors ::=          SEQUENCE {
    sf-Medium                           ENUMERATED {oDot25, oDot5, oDot75, lDot0},
    sf-High                             ENUMERATED {oDot25, oDot5, oDot75, lDot0}
}
-- TAG-SPEEDSTATESCALEFACTORS-STOP
-- ASN1STOP

SpeedStateScaleFactors field descriptions
sf-High
The concerned mobility control related parameter is multiplied with this factor if the UE is in High Mobility state as defined in TS 38.304 [4]. Value oDot25 corresponds to 0.25, oDot5 corresponds to 0.5, oDot75 corresponds to 0.75 and so on8
sf-Medium
The concerned mobility control related parameter is multiplied with this factor if the UE is in Medium Mobility state as defined in TS 38.304 [4]. Value oDot25 corresponds to 0.25, oDot5 corresponds to 0.5, oDot75 corresponds to 0.75 and so on.

–	SS-RSSI-Measurement
The IE SS-RSSI-Measurement is used to configure RSSI measurements based on synchronization reference signals.
SS-RSSI-Measurement information element
-- ASN1START
-- TAG-SS-RSSI-MEASUREMENT-START

SS-RSSI-Measurement ::=             SEQUENCE {
    measurementSlots                    BIT STRING (SIZE (1..80)),
    endSymbol                           INTEGER(0..3)
}

-- TAG-SS-RSSI-MEASUREMENT-STOP
-- ASN1STOP

SS-RSSI-Measurement field descriptions
endSymbol
Within a slot that is configured for RSSI measurements (see measurementSlots) the UE measures the RSSI from symbol 0 to symbol endSymbol. This field identifies the entry in Table 5.1.3-1 in TS 38.215 which determines the actual end symbol.
measurementSlots
Indicates the slots in which the UE can perform RSSI measurements. The length of the BIT STRING is equal to the number of slots in the configured SMTC window (determined by the duration and by the subcarrierSpacing). The first (left-most / most significant) bit in the bitmap corresponds to the first slot in the SMTC window, the second bit in the bitmap corresponds to the second slot in the SMTC window, and so on. The UE measures in slots for which the corresponding bit in the bitmap is set to 1.

–	SPS-Config
The SPS-Config IE is used to configure downlink semi-persistent transmission. Downlink SPS may be configured on the PCell as well as on SCells. But it shall not be configured for more than one serving cell of a cell group at once.
SPS-Config information element
-- ASN1START
-- TAG-SPS-CONFIG-START

SPS-Config ::=                          SEQUENCE {
    periodicity                             ENUMERATED {ms10, ms20, ms32, ms40, ms64, ms80, ms128, ms160, ms320, ms640,
                                                        spare6, spare5, spare4, spare3, spare2, spare1},
    nrofHARQ-Processes                      INTEGER (1..8),
    n1PUCCH-AN                              PUCCH-ResourceId                                                        OPTIONAL,   -- Need M
    mcs-Table                               ENUMERATED {qam64LowSE}                                             OPTIONAL,   -- Need S
    ...
}

-- TAG-SPS-CONFIG-STOP
-- ASN1STOP

SPS-Config field descriptions
mcs-Table
Indicates the MCS table the UE shall use for DL SPS. Corresponds to L1 parameter 'mcs-Table' in section 5.1.3.1 of 38.214. If present, the UE shall use the MCS table of low-SE 64QAM table indicated in Table 5.1.3.1-3 of 38.214. If this field is absent and field mcs-table in PDSCH-Config is set to 'qam256' and the activating DCI is of format 1_1, the UE applies the 256QAM table indicated in Table 5.1.3.1-2 of 38.214. Otherwise, the UE applies the non-low-SE 64QAM table indicated in Table 5.1.3.1-1 of 38.214.
n1PUCCH-AN
HARQ resource for PUCCH for DL SPS. The network configures the resource either as format0 or format1. The actual PUCCH-Resource is configured in PUCCH-Config and referred to by its ID. See 38.214, section FFS_Section.
nrofHARQ-Processes
Number of configured HARQ processes for SPS DL. Corresponds to L1 parameter 'numberOfConfSPS-Processes' (see 38.214, section FFS_Section)
periodicity
Periodicity for DL SPS Corresponds to L1 parameter 'semiPersistSchedIntervalDL' (see 38.214 and 38.321, section FFS_Section)


–	SRB-Identity
The IE SRB-Identity is used to identify a Signalling Radio Bearer (SRB) used by a UE.
-- ASN1START
-- TAG-SRB-IDENTITY-START

SRB-Identity ::=                    INTEGER (1..3)

-- TAG-SRB-IDENTITY-STOP
-- ASN1STOP


–	SRS-CarrierSwitching
The IE SRS-CarrierSwitching is used to configure for SRS carrier switching when PUSCH is not configured and independent SRS power control from that of PUSCH.
SRS-CarrierSwitching information element
-- ASN1START
-- TAG-SRS-CARRIERSWITCHING-START

SRS-CarrierSwitching ::=            SEQUENCE {
    srs-SwitchFromServCellIndex         INTEGER (0..31)                                                                 OPTIONAL,   -- Need M
    srs-SwitchFromCarrier               ENUMERATED {sUL, nUL},
    srs-TPC-PDCCH-Group                 CHOICE {
        typeA                               SEQUENCE (SIZE (1..32)) OF SRS-TPC-PDCCH-Config,
        typeB                               SRS-TPC-PDCCH-Config
    }                                                                                                                   OPTIONAL,   -- Need M
    monitoringCells                     SEQUENCE (SIZE (1..maxNrofServingCells)) OF ServCellIndex                       OPTIONAL,   -- Need M
    ...
}

-- One trigger configuration for SRS-Carrier Switching. (see 38.212, 38.213, section 7.3.1, 11.3)
SRS-TPC-PDCCH-Config ::=            SEQUENCE {
    srs-CC-SetIndexlist                 SEQUENCE (SIZE(1..4)) OF SRS-CC-SetIndex                                        OPTIONAL    -- Need M
}

SRS-CC-SetIndex ::=                 SEQUENCE {
    cc-SetIndex                         INTEGER (0..3)                                                                  OPTIONAL,   -- Need M
    cc-IndexInOneCC-Set                 INTEGER (0..7)                                                                  OPTIONAL    -- Need M
}

-- TAG-SRS-CARRIERSWITCHING-STOP
-- ASN1STOP

SRS-CC-SetIndex field descriptions
cc-IndexInOneCC-Set
Indicates the CC index in one CC set for Type A (see 38.212, 38.213, section 7.3.1, 11.3)
cc-SetIndex
Indicates the CC set index for Type A associated (see 38.212, 38.213, section 7.3.1, 11.3)

SRS-CarrierSwitching field descriptions
monitoringCells
A set of serving cells for monitoring PDCCH conveying SRS DCI format with CRC scrambled by TPC-SRS-RNTI Corresponds to L1 parameter 'SRS-monitoring-cells' (see 38.212, 38.213, section 7.3.1, 11.3)

srs-SwitchFromServCellIndex
Indicates the serving cell whose UL transmission may be interrupted during SRS transmission on a PUSCH-less cell. During SRS transmission on a PUSCH-less cell, the UE may temporarily suspend the UL transmission on a serving cell with PUSCH in the same CG to allow the PUSCH-less cell to transmit SRS. (see 38.214, section 6.2.1.3)
srs-TPC-PDCCH-Group
Network configures the UE with either typeA-SRS-TPC-PDCCH-Group or typeB-SRS-TPC-PDCCH-Group, if any.
typeA
Type A trigger configuration for SRS transmission on a PUSCH-less SCell. Corresponds to L1 parameter 'typeA-SRS-TPC-PDCCH-Group' (see 38.212, 38.213, section 7.3.1, 11.3)
typeB
Type B trigger configuration for SRS transmission on a PUSCH-less SCell. Corresponds to L1 parameter 'typeB-SRS-TPC-PDCCH-Config' (see 38.212, 38.213, section 7.3.1, 11.3)

SRS-TPC-PDCCH-Config field descriptions
srs-CC-SetIndexlist
A list of pairs of [cc-SetIndex; cc-IndexInOneCC-Set] (see 38.212, 38.213, section 7.3.1, 11.3)

–	SRS-Config
The SRS-Config IE is used to configure sounding reference signal transmissions. The configuration defines a list of SRS-Resources and a list of SRS-ResourceSets. Each resource set defines a set of SRS-Resources. The network triggers the transmission of the set of SRS-Resources using a configured aperiodicSRS-ResourceTrigger (L1 DCI).
SRS-Config information element
-- ASN1START
-- TAG-SRS-CONFIG-START

SRS-Config ::=                          SEQUENCE {
    srs-ResourceSetToReleaseList            SEQUENCE (SIZE(1..maxNrofSRS-ResourceSets)) OF SRS-ResourceSetId            OPTIONAL,   -- Need N
    srs-ResourceSetToAddModList             SEQUENCE (SIZE(1..maxNrofSRS-ResourceSets)) OF SRS-ResourceSet              OPTIONAL,   -- Need N

    srs-ResourceToReleaseList               SEQUENCE (SIZE(1..maxNrofSRS-Resources)) OF SRS-ResourceId                  OPTIONAL,   -- Need N
    srs-ResourceToAddModList                SEQUENCE (SIZE(1..maxNrofSRS-Resources)) OF SRS-Resource                    OPTIONAL,   -- Need N

    tpc-Accumulation                        ENUMERATED {disabled}                                                       OPTIONAL,   -- Need S
    ...
}

SRS-ResourceSet ::=                     SEQUENCE {
    srs-ResourceSetId                       SRS-ResourceSetId,
    srs-ResourceIdList                      SEQUENCE (SIZE(1..maxNrofSRS-ResourcesPerSet)) OF SRS-ResourceId        OPTIONAL,   -- Cond Setup

    resourceType                            CHOICE {
        aperiodic                               SEQUENCE {
            aperiodicSRS-ResourceTrigger            INTEGER (1..maxNrofSRS-TriggerStates-1),
            csi-RS                                  NZP-CSI-RS-ResourceId                                           OPTIONAL,   -- Cond NonCodebook
            slotOffset                              INTEGER (1..32)                                                 OPTIONAL,   -- Need S
            ...,
            [[
            aperiodicSRS-ResourceTriggerList-v1530      SEQUENCE (SIZE(1..maxNrofSRS-TriggerStates-2))
                                                            OF INTEGER (1..maxNrofSRS-TriggerStates-1)      OPTIONAL        -- Need M
            ]]
        },
        semi-persistent                         SEQUENCE {
            associatedCSI-RS                        NZP-CSI-RS-ResourceId                                           OPTIONAL, -- Cond NonCodebook
            ...
        },
        periodic                                SEQUENCE {
            associatedCSI-RS                        NZP-CSI-RS-ResourceId                                           OPTIONAL, -- Cond NonCodebook
            ...
        }
    },
    usage                                   ENUMERATED {beamManagement, codebook, nonCodebook, antennaSwitching},
    alpha                                   Alpha                                                                   OPTIONAL, -- Need S
    p0                                      INTEGER (-202..24)                                                      OPTIONAL, -- Cond Setup
    pathlossReferenceRS                     CHOICE {
        ssb-Index                               SSB-Index,
        csi-RS-Index                            NZP-CSI-RS-ResourceId
    }                                                                                                               OPTIONAL, -- Need M
    srs-PowerControlAdjustmentStates        ENUMERATED { sameAsFci2, separateClosedLoop}                            OPTIONAL, -- Need S
    ...
}

SRS-ResourceSetId ::=                   INTEGER (0..maxNrofSRS-ResourceSets-1)

SRS-Resource ::=                        SEQUENCE {
    srs-ResourceId                          SRS-ResourceId,
    nrofSRS-Ports                           ENUMERATED {port1, ports2, ports4},
    ptrs-PortIndex                          ENUMERATED {n0, n1 }                                                    OPTIONAL,   -- Need R
    transmissionComb                        CHOICE {
        n2                                      SEQUENCE {
            combOffset-n2                           INTEGER (0..1),
            cyclicShift-n2                          INTEGER (0..7)
        },
        n4                                      SEQUENCE {
            combOffset-n4                           INTEGER (0..3),
            cyclicShift-n4                          INTEGER (0..11)
        }
    },
    resourceMapping                         SEQUENCE {
        startPosition                           INTEGER (0..5),
        nrofSymbols                             ENUMERATED {n1, n2, n4},
        repetitionFactor                        ENUMERATED {n1, n2, n4}
    },
    freqDomainPosition                      INTEGER (0..67),
    freqDomainShift                         INTEGER (0..268),
    freqHopping                             SEQUENCE {
        c-SRS                                   INTEGER (0..63),
        b-SRS                                   INTEGER (0..3),
        b-hop                                   INTEGER (0..3)
    },
    groupOrSequenceHopping                  ENUMERATED { neither, groupHopping, sequenceHopping },
    resourceType                            CHOICE {
        aperiodic                               SEQUENCE {
            ...
        },
        semi-persistent                         SEQUENCE {
            periodicityAndOffset-sp                     SRS-PeriodicityAndOffset,
            ...
        },
        periodic                                SEQUENCE {
            periodicityAndOffset-p                      SRS-PeriodicityAndOffset,
            ...
        }
    },
    sequenceId                              INTEGER (0..1023),
    spatialRelationInfo                     SRS-SpatialRelationInfo                                         OPTIONAL,   -- Need R
    ...
}

SRS-SpatialRelationInfo ::=     SEQUENCE {
    servingCellId                       ServCellIndex                                       OPTIONAL,   -- Need S
    referenceSignal                     CHOICE {
        ssb-Index                           SSB-Index,
        csi-RS-Index                        NZP-CSI-RS-ResourceId,
        srs                                 SEQUENCE {
            resourceId                          SRS-ResourceId,
            uplinkBWP                           BWP-Id
        }
    }
}


SRS-ResourceId ::=                      INTEGER (0..maxNrofSRS-Resources-1)

SRS-PeriodicityAndOffset ::=            CHOICE {
    sl1                                     NULL,
    sl2                                     INTEGER(0..1),
    sl4                                     INTEGER(0..3),
    sl5                                     INTEGER(0..4),
    sl8                                     INTEGER(0..7),
    sl10                                    INTEGER(0..9),
    sl16                                    INTEGER(0..15),
    sl20                                    INTEGER(0..19),
    sl32                                    INTEGER(0..31),
    sl40                                    INTEGER(0..39),
    sl64                                    INTEGER(0..63),
    sl80                                    INTEGER(0..79),
    sl160                                   INTEGER(0..159),
    sl320                                   INTEGER(0..319),
    sl640                                   INTEGER(0..639),
    sl1280                                  INTEGER(0..1279),
    sl2560                                  INTEGER(0..2559)
}

-- TAG-SRS-CONFIG-STOP
-- ASN1STOP

SRS-Config field descriptions
tpc-Accumulation
If the field is absent, UE applies TPC commands via accumulation. If disabled, UE applies the TPC command without accumulation (this applies to SRS when a separate closed loop is configured for SRS) Corresponds to L1 parameter 'Accumulation-enabled-srs' (see 38.213, section 7.3)

SRS-Resource field descriptions
cyclicShift-n2
Cyclic shift configuration. Corresponds to L1 parameter 'SRS-CyclicShiftConfig' (see 38.214, section 6.2.1)
cyclicShift-n4
Cyclic shift configuration. Corresponds to L1 parameter 'SRS-CyclicShiftConfig' (see 38.214, section 6.2.1)
freqDomainPosition
Parameter(s) defining frequency domain position and configurable shift to align SRS allocation to 4 PRB grid. Corresponds to L1 parameter 'SRS-FreqDomainPosition' (see 38.214, section 6.2.1)
freqHopping
Includes parameters capturing SRS frequency hopping Corresponds to L1 parameter 'SRS-FreqHopping' (see 38.214, section 6.2.1)
groupOrSequenceHopping
Parameter(s) for configuring group or sequence hopping Corresponds to L1 parameter 'SRS-GroupSequenceHopping' (see 38.211, section FFS_Section)
periodicityAndOffset-p
Periodicity and slot offset for this SRS resource. All values in "number of slots" sl1 corresponds to a periodicity of 1 slot, value sl2 corresponds to a periodicity of 2 slots, and so on. For each periodicity the corresponding offset is given in number of slots. For periodicity sl1 the offset is 0 slots. Corresponds to L1 parameter 'SRS-SlotConfig' (see 38.214, section 6.2.1)
periodicityAndOffset-sp
Periodicity and slot offset for this SRS resource. All values in "number of slots". sl1 corresponds to a periodicity of 1 slot, value sl2 corresponds to a periodicity of 2 slots, and so on. For each periodicity the corresponding offset is given in number of slots. For periodicity sl1 the offset is 0 slots. Corresponds to L1 parameter 'SRS-SlotConfig' (see 38.214, section 6.2.1)
ptrs-PortIndex
The PTRS port index for this SRS resource for non-codebook based UL MIMO. This is only applicable when the corresponding PTRS-UplinkConfig is set to CP-OFDM. The ptrs-PortIndex configured here must be smaller than or equal to the maxNnrofPorts configured in the PTRS-UplinkConfig. Corresponds to L1 parameter 'UL-PTRS-SRS-mapping-non-CB' (see 38.214, section 6.1)
resourceMapping
OFDM symbol location of the SRS resource within a slot including number of OFDM symbols (N = 1, 2 or 4 per SRS resource), startPosition (SRSSymbolStartPosition = 0..5; "0" refers to the last symbol, "1" refers to the second last symbol) and RepetitionFactor (r = 1, 2 or 4). Corresponds to L1 parameter 'SRS-ResourceMapping' (see 38.214, section 6.2.1 and 38.211, section 6.4.1.4). FFS: Apparently, RAN1 considers replacing these three fields by a table in RAN1 specs and a corresponding index in ASN.1?!
resourceType
Time domain behavior of SRS resource configuration. Corresponds to L1 parameter 'SRS-ResourceConfigType' (see 38.214, section 6.2.1). For codebook based uplink transmission, the network configures SRS resources in the same resource set with the same time domain behavior on periodic, aperiodic and semi-persistent SRS. FFS: Add configuration parameters for the different SRS resource types?
sequenceId
Sequence ID used to initialize pseudo random group and sequence hopping. Corresponds to L1 parameter 'SRS-SequenceId' (see 38.214, section 6.2.1)
spatialRelationInfo
Configuration of the spatial relation between a reference RS and the target SRS. Reference RS can be SSB/CSI-RS/SRS Corresponds to L1 parameter 'SRS-SpatialRelationInfo' (see 38.214, section 6.2.1)
transmissionComb
Comb value (2 or 4) and comb offset (0..combValue-1). Corresponds to L1 parameter 'SRS-TransmissionComb' (see 38.214, section 6.2.1)

SRS-ResourceSet field descriptions
alpha
alpha value for SRS power control. Corresponds to L1 parameter 'alpha-srs' (see 38.213, section 7.3). When the field is absent the UE applies the value 1.
aperiodicSRS-ResourceTriggerList
An additional list of DCI "code points" upon which the UE shall transmit SRS according to this SRS resource set configuration. Corresponds to the second to last entries of L1 parameter 'AperiodicSRS-ResourceTrigger' (see 38.214, section 6.1.1.2).
aperiodicSRS-ResourceTrigger
The DCI "code point" upon which the UE shall transmit SRS according to this SRS resource set configuration. Corresponds to L1 parameter 'AperiodicSRS-ResourceTrigger' (see 38.214, section 6.1.1.2)
associatedCSI-RS
ID of CSI-RS resource associated with this SRS resource set in non-codebook based operation. Corresponds to L1 parameter 'SRS-AssocCSIRS' (see 38.214, section 6.2.1)
csi-RS
ID of CSI-RS resource associated with this SRS resource set. (see 38.214, section 6.1.1.2)
p0
P0 value for SRS power control. The value is in dBm. Only even values (step size 2) are allowed. Corresponds to L1 parameter 'p0-srs' (see 38.213, section 7.3)
pathlossReferenceRS
A reference signal (e.g. a CSI-RS config or a SS block) to be used for SRS path loss estimation. Corresponds to L1 parameter 'srs-pathlossReference-rs-config' (see 38.213, section 7.3)
slotOffset
An offset in number of slots between the triggering DCI and the actual transmission of this SRS-ResourceSet. If the field is absent the UE applies no offset (value 0)
srs-PowerControlAdjustmentStates
Indicates whether hsrs,c(i) = fc(i,1) or hsrs,c(i) = fc(i,2) (if twoPUSCH-PC-AdjustmentStates are configured) or serarate close loop is configured for SRS. This parameter is applicable only for Uls on which UE also transmits PUSCH. If absent or release, the UE applies the value sameAs-Fci1 Corresponds to L1 parameter 'srs-pcadjustment-state-config' (see 38.213, section 7.3)
srs-ResourceIdList
The IDs of the SRS-Resources used in this SRS-ResourceSet. If this SRS-ResourceSet is configured with usage set to codebook, the srs-ResourceIdList contains at most 2 entries. If this SRS-ResourceSet is configured with usage set to nonCodebook, the srs-ResourceIdList contains at most 4 entries.
srs-ResourceSetId
The ID of this resource set. It is unique in the context of the BWP in which the parent SRS-Config is defined.
usage
Indicates if the SRS resource set is used for beam management vs. used for either codebook based or non-codebook based transmission. The network configures at most one resource set with usage set to codebook and at most one with usage set to nonCodebook. Corresponds to L1 parameter 'SRS-SetUse' (see 38.214, section 6.2.1) 

Conditional Presence
Explanation
Setup
This field is mandatory present upon configuration of SRS-ResourceSet or SRS-Resource and optional (Need M) otherwise
NonCodebook
This field is optionally present, Need M, in case of non-codebook based transmission, otherwise the field is absent.

–	SRS-TPC-CommandConfig
The IE SRS-TPC-CommandConfig is used to configure the UE for extracting TPC commands for SRS from a group-TPC messages on DCI
SRS-TPC-CommandConfig information element
-- ASN1START
-- TAG-SRS-TPC-COMMANDCONFIG-START

SRS-TPC-CommandConfig ::=               SEQUENCE {
    startingBitOfFormat2-3                  INTEGER (1..31)                                                             OPTIONAL,   -- Cond Setup
    fieldTypeFormat2-3                      INTEGER (0..1)                                                              OPTIONAL,   -- Cond Setup
    ...,
    [[
    startingBitOfFormat2-3SUL-v1530     INTEGER (1..31)                                                         OPTIONAL    -- Cond Setup
    ]]
}

-- TAG-SRS-TPC-COMMANDCONFIG-STOP
-- ASN1STOP

SRS-TPC-CommandConfig field descriptions
fieldTypeFormat2-3
The type of a field within the group DCI with SRS request fields (optional), which indicates how many bits in the field are for SRS request (0 or 2).
Note that for Type A, there is a common SRS request field for all SCells in the set, but each SCell has its own TPC command bits. See TS 38.212. (see 38.212, 38.213, section 7.3.1, 11.3)
startingBitOfFormat2-3
The starting bit position of a block within the group DCI with SRS request fields (optional) and TPC commands (see 38.212, 38.213, section 7.3.1, 11.3).
startingBitOfFormat2-3SUL
The starting bit position of a block within the group DCI with SRS request fields (optional) and TPC commands for SUL carrier (see 38.212, 38.213, section 7.3.1, 11.3).

–	SSB-Index
The IE SSB-Index identifies an SS-Block within an SS-Burst. See FFS_Ref, section FFS_Section.
SSB-Index information element
-- ASN1START
-- TAG-SSB-INDEX-START

SSB-Index ::=                       INTEGER (0..maxNrofSSBs-1)

-- TAG-SSB-INDEX-STOP
-- ASN1STOP

–	SSB-MTC
The IE SSB-MTC is used to configure measurement timing configurations, i.e., timing occasions at which the UE measures SSBs.
SSB-MTC information element
-- ASN1START
-- TAG-SSB-MTC-START

SSB-MTC ::=                             SEQUENCE {
    periodicityAndOffset                    CHOICE {
        sf5                                 INTEGER (0..4),
        sf10                                    INTEGER (0..9),
        sf20                                    INTEGER (0..19),
        sf40                                    INTEGER (0..39),
        sf80                                    INTEGER (0..79),
        sf160                               INTEGER (0..159)
    },
    duration                                ENUMERATED { sf1, sf2, sf3, sf4, sf5 }
}

SSB-MTC2 ::=                        SEQUENCE {
    pci-List                            SEQUENCE (SIZE (1..maxNrofPCIsPerSMTC)) OF PhysCellId                       OPTIONAL,   -- Need M
    periodicity                         ENUMERATED {sf5, sf10, sf20, sf40, sf80, spare3, spare2, spare1}
}

-- TAG-SSB-MTC-STOP
-- ASN1STOP

SSB-MTCfield descriptions
duration
Duration of the measurement window in which to receive SS/PBCH blocks. It is given in number of subframes (see 38.213, section 4.1)
periodicityAndOffset
Periodicity and offset of the measurement window in which to receive SS/PBCH blocks. Periodicity and offset are given in number of subframes.
FFS_FIXME: This does not match the L1 parameter table! They seem to intend an index to a hidden table in L1 specs. (see 38.213, section REF):
Periodicity for the given PCIs. Timing offset and Duration as provided in smtc1.

SSB-MTC2 field descriptions
pci-List
PCIs that are known to follow this SMTC.

–	SSB-ToMeasure
The IE SSB-ToMeasure is used to configure a pattern of SSBs.
SSB-ToMeasure information element
-- ASN1START
-- TAG-SSB-TOMEASURE-START

SSB-ToMeasure ::=                   CHOICE {
    shortBitmap                         BIT STRING (SIZE (4)),
    mediumBitmap                        BIT STRING (SIZE (8)),
    longBitmap                          BIT STRING (SIZE (64))
}

-- TAG-SSB-TOMEASURE-STOP
-- ASN1STOP

SSB-ToMeasure field descriptions
longBitmap
bitmap for above 6 GHz
mediumBitmap
bitmap for 3-6 GHz
shortBitmap
bitmap for sub 3 GHz

–	SubcarrierSpacing
The IE SubcarrierSpacing determines the subcarrier spacing. Restrictions applicable for certain frequencies, channels or signals are clarified in the fields that use this IE.
SubcarrierSpacing information element
-- ASN1START
-- TAG-SUBCARRIER-SPACING-START

SubcarrierSpacing ::=               ENUMERATED {kHz15, kHz30, kHz60, kHz120, kHz240, spare3, spare2, spare1}

-- TAG-SUBCARRIER-SPACING-STOP
-- ASN1STOP


–	TAG-Config
The IE TAG-Config is used to configure a parameters for a time-alignment group.
TAG-Config information element
-- ASN1START
-- TAG-TAG-CONFIG-START

TAG-Config ::=                      SEQUENCE {
    tag-ToReleaseList                   SEQUENCE (SIZE (1..maxNrofTAGs)) OF TAG-Id                          OPTIONAL,   -- Need N
    tag-ToAddModList                    SEQUENCE (SIZE (1..maxNrofTAGs)) OF TAG                             OPTIONAL    -- Need N
}

TAG ::=                             SEQUENCE {
    tag-Id                              TAG-Id,
    timeAlignmentTimer                  TimeAlignmentTimer,
    ...
}

TAG-Id ::=                          INTEGER (0..maxNrofTAGs-1)

TimeAlignmentTimer ::=              ENUMERATED {ms500, ms750, ms1280, ms1920, ms2560, ms5120, ms10240, infinity}

-- TAG-TAG-CONFIG-STOP
-- ASN1STOP

TAG field descriptions
tag-Id
Indicates the TAG of the SPcell or an SCell, see TS 38.321 [3]. Uniquely identifies the TAG within the scope of a Cell Group (i.e. MCG or SCG). If the field is not configured for an SCell, the SCell is part of the PTAG.
timeAlignmentTimer
Value in ms of the timeAlignmentTimer for TAG with ID tag-Id, as specified in TS 38.321 [3].

–	TCI-State
The IE TCI-State associates one or two DL reference signals with a corresponding quasi-colocation (QCL) type.
TCI-State information element
-- ASN1START
-- TAG-TCI-STATE-START

TCI-State ::=                       SEQUENCE {
    tci-StateId                         TCI-StateId,
    qcl-Type1                           QCL-Info,
    qcl-Type2                           QCL-Info                                                                OPTIONAL,   -- Need R
    ...
}

QCL-Info ::=                        SEQUENCE {
    cell                                ServCellIndex                                                           OPTIONAL,   -- Need R
    bwp-Id                              BWP-Id                                                                  OPTIONAL, -- Cond CSI-RS-Indicated
    referenceSignal                     CHOICE {
        csi-rs                              NZP-CSI-RS-ResourceId,
        ssb                                 SSB-Index
    },
    qcl-Type                            ENUMERATED {typeA, typeB, typeC, typeD},
    ...
}

-- TAG-TCI-STATE-STOP
-- ASN1STOP

QCL-Info field descriptions
bwp-Id
The DL BWP which the RS is located in.
cell
The UE's serving cell in which the referenceSignal is configured. If the field is absent, it applies to the serving cell in which the TCI-State is configured. The RS can be located on a serving cell other than the serving cell in which the TCI-State is configured only if the qcl-Type is configured as typeD. See TS 38.214 section 5.1.5.

referenceSignal
Reference signal with which quasi-collocation information is provided as specified in TS 38.3214 subclause 5.1.5.
qcl-Type
QCL type as specified in TS 38.214 subclause 5.1.5.

Conditional Presence
Explanation
CSI-RS-Indicated
This field is mandatory present if csi-rs or csi-RS-for-tracking is included, absent otherwise

–	TCI-StateId
The IE TCI-StateId is used to identify one TCI-State configuration.
TCI-StateId information element
-- ASN1START
-- TAG-TCI-STATEID-START

TCI-StateId ::=                     INTEGER (0..maxNrofTCI-States-1)

-- TAG-TCI-STATEID-STOP
-- ASN1STOP

–	TDD-UL-DL-Config
The TDD-UL-DL-Config IEs determines the Uplink/Downlink TDD configuration. There are both, UE- and cell specific IEs.
TDD-UL-DL-Config information element
-- ASN1START
-- TAG-TDD-UL-DL-CONFIG-START

TDD-UL-DL-ConfigCommon ::=          SEQUENCE {
    referenceSubcarrierSpacing          SubcarrierSpacing,
    pattern1                            TDD-UL-DL-Pattern,
    pattern2                            TDD-UL-DL-Pattern                                                                   OPTIONAL, -- Need R
    ...
}

TDD-UL-DL-Pattern ::=               SEQUENCE {
    dl-UL-TransmissionPeriodicity       ENUMERATED {ms0p5, ms0p625, ms1, ms1p25, ms2, ms2p5, ms5, ms10},
    nrofDownlinkSlots                   INTEGER (0..maxNrofSlots),
    nrofDownlinkSymbols                 INTEGER (0..maxNrofSymbols-1),
    nrofUplinkSlots                     INTEGER (0..maxNrofSlots),
    nrofUplinkSymbols                   INTEGER (0..maxNrofSymbols-1),
    ...,
    [[
    dl-UL-TransmissionPeriodicity-v1530     ENUMERATED {ms3, ms4}                                                           OPTIONAL -- Need R
    ]]
}

TDD-UL-DL-ConfigDedicated ::=       SEQUENCE {
    slotSpecificConfigurationsToAddModList      SEQUENCE (SIZE (1..maxNrofSlots)) OF TDD-UL-DL-SlotConfig                   OPTIONAL, -- Need N
    slotSpecificConfigurationsToreleaseList     SEQUENCE (SIZE (1..maxNrofSlots)) OF TDD-UL-DL-SlotIndex                    OPTIONAL,-- Need N
    ...
}

TDD-UL-DL-SlotConfig ::=            SEQUENCE {
    slotIndex                           TDD-UL-DL-SlotIndex,
    symbols                             CHOICE {
        allDownlink                         NULL,
        allUplink                           NULL,
        explicit                            SEQUENCE {
            nrofDownlinkSymbols                 INTEGER (1..maxNrofSymbols-1)                                               OPTIONAL,   -- Need S
            nrofUplinkSymbols                   INTEGER (1..maxNrofSymbols-1)                                               OPTIONAL    -- Need S
        }
    }
}

TDD-UL-DL-SlotIndex ::=             INTEGER (0..maxNrofSlots-1)

-- TAG-TDD-UL-DL-CONFIG-STOP
-- ASN1STOP

TDD-UL-DL-ConfigCommon field descriptions
referenceSubcarrierSpacing
Reference SCS used to determine the time domain boundaries in the UL-DL pattern which must be common across all subcarrier specific carriers, i.e., independent of the actual subcarrier spacing using for data transmission. Only the values 15, 30 or 60 kHz (<6GHz) and 60 or 120 kHz (>6GHz) are applicable. The network configures a not larger than any SCS of configured BWPs for the serving cell. Corresponds to L1 parameter 'reference-SCS' (see 38.211, section FFS_Section)

TDD-UL-DL-Pattern field descriptions
dl-UL-TransmissionPeriodicity
Periodicity of the DL-UL pattern, see 38.211, section FFS_Section. If the dl-UL-TransmissionPeriodicity-v1530 is signalled, UE shall ignore the dl-UL-TransmissionPeriodicity (without suffix).
nrofDownlinkSlots
Number of consecutive full DL slots at the beginning of each DL-UL pattern, see 38.213, Table 4.3.2-1. In this release, the maximum value for this field is 80.
nrofDownlinkSymbols
Number of consecutive DL symbols in the beginning of the slot following the last full DL slot (as derived from nrofDownlinkSlots). The value 0 indicates that there is no partial-downlink slot. (see 38.211¨3, section FFS_Section).
nrofUplinkSlots
Number of consecutive full UL slots at the end of each DL-UL pattern, see 38.213, Table 4.3.2-1. In this release, the maximum value for this field is 80.
nrofUplinkSymbols
Number of consecutive UL symbols in the end of the slot preceding the first full UL slot (as derived from nrofUplinkSlots). The value 0 indicates that there is no partial-uplink slot. (see 38.213, section FFS_Section)

TDD-UL-DL-ConfigDedicated field descriptions
slotSpecificConfigurationsToAddModList
The slotSpecificConfiguration allows overriding UL/DL allocations provided in tdd-UL-DL-configurationCommon, see 38.213, section 11.1. 

TDD-UL-DL-SlotConfig field descriptions
nrofDownlinkSymbols
Number of consecutive DL symbols in the beginning of the slot identified by slotIndex. If the field is absent the UE assumes that there are no leading DL symbols. (see 38.213, section FFS_Section)
nrofUplinkSymbols
Number of consecutive UL symbols in the end of the slot identified by slotIndex. If the field is absent the UE assumes that there are no trailing UL symbols. (see 38.213, section FFS_Section)
slotIndex
Identifies a slot within a dl-UL-TransmissionPeriodicity (given in tdd-UL-DL-configurationCommon)
symbols
The direction (downlink or uplink) for the symbols in this slot. "allDownlink" indicates that all symbols in this slot are used for downlink; "allUplink" indicates that all symbols in this slot are used for uplink; "explicit" indicates explicitly how many symbols in the beginning and end of this slot are allocated to downlink and uplink, respectively.

–	TrackingAreaCode
The IE TrackingAreaCode is used to identify a tracking area within the scope of a PLMN, see TS 24.501 [FFS_Ref].
Editor's Note: FFS whether CHOICE of 16-bit TAC is also needed.
TrackingAreaCodeinformation element
-- ASN1START
-- TAG-TRACKINGAREACODE-START

TrackingAreaCode ::= BIT STRING (SIZE (24))

-- TAG-TRACKINGAREACODE-STOP
-- ASN1STOP

–	T-Reselection
Editor's Note: Text and value converted from 36.331.
The IE T-Reselection concerns the cell reselection timer TreselectionRAT for NR and E-UTRA Value in seconds. For value 0, behaviour as specified in 7.1.2 applies.
T-Reselectioninformation element
-- ASN1START
-- TAG-TRESELECTION-START

T-Reselection ::=                   INTEGER (0..7)

-- TAG-TRESELECTION-STOP
-- ASN1STOP

–	TimeToTrigger
The IE TimeToTrigger specifies the value range used for time to trigger parameter, which concerns the time during which specific criteria for the event needs to be met in order to trigger a measurement report. Value ms0 corresponds to 0 ms and behaviour as specified in 7.1.2 applies, ms40 corresponds to 40 ms, and so on.
TimeToTrigger information element
-- ASN1START
-- TAG-TIMETOTRIGGER-START

TimeToTrigger ::=                   ENUMERATED {
                                        ms0, ms40, ms64, ms80, ms100, ms128, ms160, ms256,
                                        ms320, ms480, ms512, ms640, ms1024, ms1280, ms2560,
                                        ms5120}

-- TAG-TIMETOTRIGGER-STOP
-- ASN1STOP
Editor's Note:: Values should be checked.

–	UAC-BarringInfoSetIndex
The IE UAC-BarringInfoSetIndex provides the index of the entry in uac-BarringInfoSetList.
UAC-BarringInfoSetIndex information element
-- ASN1START
-- TAG-UAC-BARRING-INFO-SET-INDEX-START

UAC-BarringInfoSetIndex  ::=                INTEGER (1..maxBarringInfoSet)

-- TAG-UAC-BARRING-INFO-SET-INDEX-STOP
-- ASN1STOP

UAC-BarringInfoSetIndex field descriptions
uac-barringInfoSetIndex
Index of the entry in field uac-BarringInfoSetList. Value 1 corresponds to the first entry in uac-BarringInfoSetList, value 2 corresponds to the second entry in this list and so on. An index value not included in uac-BarringInfoSetList indicates no barring.

–	UAC-BarringInfoSetList
The IE UAC-BarringInfoSetList provides a list of access control parameter sets. An access category can be configured with access parameters according to one of the sets.
UAC-BarringInfoSetList information element
-- ASN1START
-- TAG-UAC-BARRING-INFO-SET-LIST-START

UAC-BarringInfoSetList ::=          SEQUENCE (SIZE(1..maxBarringInfoSet)) OF UAC-BarringInfoSet

UAC-BarringInfoSet ::=              SEQUENCE {
    uac-BarringFactor                   ENUMERATED {p00, p05, p10, p15, p20, p25, p30, p40,
                                                    p50, p60, p70, p75, p80, p85, p90, p95},
    uac-BarringTime                     ENUMERATED {s4, s8, s16, s32, s64, s128, s256, s512},
    uac-BarringForAccessIdentity        BIT STRING (SIZE(7))
}

-- TAG-UAC-BARRING-INFO-SET-LIST-STOP
-- ASN1STOP

UAC-BarringInfoSetList field descriptions
uac-BarringInfoSetList
List of access control parameter sets. Each access category can be configured with access parameters corresponding to a particular set.
uac-BarringForAccessIdentity
Indicates whether access attempt is allowed for each Access Identity. The leftmost bit, bit 0 in the bit string corresponds to Access Identity 1, bit 1 in the bit string corresponds to Access Identity 2, bit 2 in the bit string corresponds to Access Identity 11, bit 3 in the bit string corresponds to Access Identity 12 and so on. , bit 4 in the bit string corresponds to Access Identity 13, bit 5 in the bit string corresponds to Access Identity 14, bit 6 in the bit string corresponds to Access Identity 15. Value 0 means that access attempt is allowed for the corresponding access identity.
uac-BarringFactor
Represents the probability that access attempt would be allowed during access barring check.
uac-BarringTime
The minimum time before a new access attempt is to be performed after an access attempt was barred at access barring check for the same access category.

–	UAC-BarringPerCatList
The IE UAC-BarringPerCatList provides access control parameters for a list of access categories.
UAC-BarringPerCatList information element
-- ASN1START
-- TAG-UAC-BARRING-PER-CAT-LIST-START

UAC-BarringPerCatList ::=           SEQUENCE (SIZE (1..maxAccessCat-1)) OF UAC-BarringPerCat

UAC-BarringPerCat ::=               SEQUENCE {
   accessCategory                       INTEGER (1..maxAccessCat-1),
   uac-barringInfoSetIndex              UAC-BarringInfoSetIndex
}

-- TAG-UAC-BARRING-PER-CAT-LIST-STOP
-- ASN1STOP

UAC-BarringPerCatList field descriptions
accessCategory
The Access Category according to [TS 22.261]

–	UAC-BarringPerPLMN-List
The IE UAC-BarringPerPLMN-List provides access category specific access control parameters, which are configured per PLMN.
UAC-BarringPerPLMN-List information element
-- ASN1START
-- TAG-UAC-BARRING-PER-PLMN-LIST-START

UAC-BarringPerPLMN-List ::=         SEQUENCE (SIZE (1.. maxPLMN)) OF UAC-BarringPerPLMN

UAC-BarringPerPLMN ::=              SEQUENCE {
    plmn-IdentityIndex                  INTEGER (1..maxPLMN),
    uac-ACBarringListType               CHOICE{
        uac-ImplicitACBarringList           SEQUENCE (SIZE(maxAccessCat-1)) OF UAC-BarringInfoSetIndex,
        uac-ExplicitACBarringList           UAC-BarringPerCatList
    }                                                                                                                   OPTIONAL
}

-- TAG-UAC-BARRING-PER-PLMN-LIST-STOP
-- ASN1STOP

UAC-BarringPerPLMN-List field descriptions
uac-BarringPerPLMN-List
Access control parameters for each access category valid only for a specific PLMN. UE behaviour upon absence of this field is specified in section 5.3.14.2.

–	UE-TimersAndConstants
The IE UE-TimersAndConstants contains timers and constants used by the UE in RRC_CONNECTED, RRC_INACTIVE and RRC_IDLE.
UE-TimersAndConstants information element
-- ASN1START
-- TAG-UE-TIMERS-AND-CONSTANTS-START

UE-TimersAndConstants ::=           SEQUENCE {
    t300                                ENUMERATED {ms100, ms200, ms300, ms400, ms600, ms1000, ms1500, ms2000},
    t301                                ENUMERATED {ms100, ms200, ms300, ms400, ms600, ms1000, ms1500, ms2000},
    t310                                ENUMERATED {ms0, ms50, ms100, ms200, ms500, ms1000, ms2000},
    n310                                ENUMERATED {n1, n2, n3, n4, n6, n8, n10, n20},
    t311                                ENUMERATED {ms1000, ms3000, ms5000, ms10000, ms15000, ms20000, ms30000},
    n311                                ENUMERATED {n1, n2, n3, n4, n5, n6, n8, n10},
    t319                                ENUMERATED {ms100, ms200, ms300, ms400, ms600, ms1000, ms1500, ms2000},
    ...
}

-- TAG-UE-TIMERS-AND-CONSTANTS-STOP
-- ASN1STOP

–	UplinkConfigCommon
The IE UplinkConfigCommonprovides common uplink parameters of a cell.
UplinkConfigCommoninformation element
-- ASN1START
-- TAG-UPLINK-CONFIG-COMMON-START

UplinkConfigCommon ::=              SEQUENCE {
    frequencyInfoUL                     FrequencyInfoUL                                     OPTIONAL,   -- Cond InterFreqHOAndServCellAddAndSIB1
    initialUplinkBWP                    BWP-UplinkCommon                                    OPTIONAL,   -- Cond ServCellAddAndSIB1
    dummy                               TimeAlignmentTimer
}

-- TAG-UPLINK-CONFIG-COMMON-STOP
-- ASN1STOP

UplinkConfigCommon field descriptions
frequencyInfoUL
Absolute uplink frequency configuration and subcarrier specific virtual carriers.
initialUplinkBWP
The initial uplink BWP configuration for a SpCell (PCell of MCG or SCG). Corresponds to L1 parameter 'initial-UL-BWP'. (see 38.331, section FFS_Section).

Conditional Presence
Explanation
InterFreqHOAndServCellAddAndSIB1
This field is mandatory present for inter-frequency handover, SIB1 and upon serving cell (PSCell/SCell) addition. Otherwise, the field is optionally present, Need M.
ServCellAddAndSIB1
This field is mandatory present for SIB1 and upon serving cell addition (for PSCell and SCell). It is optionally present, Need M otherwise.

–	UplinkConfigCommonSIB
The IE UplinkConfigCommonSIB provides common uplink parameters of a cell.
UplinkConfigCommonSIB information element
-- ASN1START
-- TAG-UPLINK-CONFIG-COMMON-START

UplinkConfigCommonSIB ::=               SEQUENCE {
    frequencyInfoUL                         FrequencyInfoUL-SIB,
    initialUplinkBWP                            BWP-UplinkCommon,
    timeAlignmentTimerCommon                    TimeAlignmentTimer
}

-- TAG-UPLINK-CONFIG-COMMON-STOP
-- ASN1STOP

UplinkConfigCommon field descriptions
frequencyInfoUL
Absolute uplink frequency configuration and subcarrier specific virtual carriers.
InitialUplinkBWP
The initial uplink BWP configuration for a SpCell (PCell of MCG or SCG). Corresponds to L1 parameter 'initial-UL-BWP'. (see 38.331, section FFS_Section).

–	UplinkTxDirectCurrentList
The IE UplinkTxDirectCurrentList indicates the Tx Direct Current locations per serving cell for each configured UL BWP in the serving cell, based on the BWP numerology and the associated carrier bandwidth.
UplinkTxDirectCurrentList information element
-- ASN1START
-- TAG-UPLINKTXDIRECTCURRENTLIST-START

UplinkTxDirectCurrentList ::=           SEQUENCE (SIZE (1..maxNrofServingCells)) OF UplinkTxDirectCurrentCell

UplinkTxDirectCurrentCell ::=           SEQUENCE {
    servCellIndex                           ServCellIndex,
    uplinkDirectCurrentBWP                  SEQUENCE (SIZE (1..maxNrofBWPs)) OF UplinkTxDirectCurrentBWP,
    ...
}

UplinkTxDirectCurrentBWP ::=            SEQUENCE {
    bwp-Id                                  BWP-Id,
    shift7dot5kHz                           BOOLEAN,
    txDirectCurrentLocation             INTEGER (0..3301)
}

-- TAG-UPLINKTXDIRECTCURRENTLIST-STOP
-- ASN1STOP

UplinkTxDirectCurrentBWP field descriptions
bwp-Id
The BWP-Id of the corresponding uplink BWP.
shift7dot5kHz
Indicates whether there is 7.5 kHz shift or not. 7.5 kHz shift is applied if the field is set to TRUE. Otherwise 7.5 kHz shift is not applied.
txDirectCurrentLocation
The uplink Tx Direct Current location for the carrier. Only values in the value range of this field between 0 and 3299, which indicate the subcarrier index within the carrier corresponding to the numerology of the corresponding uplink BWP and value 3300, which indicates "Outside the carrier" and value 3301, which indicates "Undetermined position within the carrier" are used in this version of the specification.

UplinkTxDirectCurrentCell field descriptions
servCellIndex
The serving cell ID of the serving cell corresponding to the uplinkDCLocationsPerBWP.
uplinkDirectCurrentBWP
The Tx Direct Current locations for all the uplink BWPs configured at the corresponding serving cell.

–	ZP-CSI-RS-Resource
The IE ZP-CSI-RS-Resource is used to configure a Zero-Power (ZP) CSI-RS resource. Corresponds to L1 parameter 'ZP-CSI-RS-ResourceConfig' (see 38.214, section 5.1.4.2).
ZP-CSI-RS-Resource information element
-- ASN1START
-- TAG-ZP-CSI-RS-RESOURCE-START

ZP-CSI-RS-Resource ::=              SEQUENCE {
    zp-CSI-RS-ResourceId                ZP-CSI-RS-ResourceId,
    resourceMapping                     CSI-RS-ResourceMapping,
    periodicityAndOffset                CSI-ResourcePeriodicityAndOffset                            OPTIONAL, --Cond PeriodicOrSemiPersistent
    ...
}

ZP-CSI-RS-ResourceId ::=            INTEGER (0..maxNrofZP-CSI-RS-Resources-1)

-- TAG-ZP-CSI-RS-RESOURCE-STOP
-- ASN1STOP

ZP-CSI-RS-Resource field descriptions
periodicityAndOffset
Periodicity and slot offset for periodic/semi-persistent ZP-CSI-RS. Corresponds to L1 parameter 'ZP-CSI-RS-timeConfig' (see 38.214, section 5.1.4.2)
resourceMapping
OFDM symbol and subcarrier occupancy of the ZP-CSI-RS resource within a slot
zp-CSI-RS-ResourceId
ZP CSI-RS resource configuration ID. Corresponds to L1 parameter 'ZP-CSI-RS-ResourceConfigId' (see 38.214, section 5.1.4.2)

–	ZP-CSI-RS-ResourceSet
The IE ZP-CSI-RS-ResourceSet refers to a set of ZP-CSI-RS-Resources using their ZP-CSI-RS-ResourceIds. It corresponds to the L1 parameter 'ZP-CSI-RS-ResourceSetConfigList'.
ZP-CSI-RS-ResourceSet information element
-- ASN1START
-- TAG-ZP-CSI-RS-RESOURCESET-START

ZP-CSI-RS-ResourceSet ::=           SEQUENCE {
    zp-CSI-RS-ResourceSetId             ZP-CSI-RS-ResourceSetId,
    zp-CSI-RS-ResourceIdList            SEQUENCE (SIZE(1..maxNrofZP-CSI-RS-ResourcesPerSet)) OF ZP-CSI-RS-ResourceId,
    ...
}

-- TAG-ZP-CSI-RS-RESOURCESET-STOP
-- ASN1STOP

ZP-CSI-RS-ResourceSet field descriptions
zp-CSI-RS-ResourceIdList
The list of ZP-CSI-RS-ResourceId identifying the ZP-CSI-RS-Resource elements belonging to this set.

–	ZP-CSI-RS-ResourceSetId
The IE ZP-CSI-RS-ResourceSetId identifies a ZP-CSI-RS-ResourceSet.
ZP-CSI-RS-ResourceSetId information element
-- ASN1START
-- TAG-ZP-CSI-RS-RESOURCESETID-START

ZP-CSI-RS-ResourceSetId ::=                     INTEGER (0..maxNrofZP-CSI-RS-ResourceSets-1)

-- TAG-ZP-CSI-RS-RESOURCESETID-STOP
-- ASN1STOP

6.3.3	UE capability information elements
–	AccessStratumRelease
The IE AccessStratumRelease indicates the release supported by the UE.
AccessStratumRelease information element
-- ASN1START
-- TAG-ACCESSSTRATUMRELEASE-START

AccessStratumRelease ::= ENUMERATED {
                            rel15, spare7, spare6, spare5, spare4, spare3, spare2, spare1, ... }

-- TAG-ACCESSSTRATUMRELEASE-STOP
-- ASN1STOP

–	BandCombinationList
The IE BandCombinationList contains a list of NR CA and/or MR-DC band combinations (also including DL only or UL only band).
BandCombinationList information element
-- ASN1START
-- TAG-BANDCOMBINATIONLIST-START

BandCombinationList ::=             SEQUENCE (SIZE (1..maxBandComb)) OF BandCombination

BandCombination ::=                 SEQUENCE {
    bandList                            SEQUENCE (SIZE (1..maxSimultaneousBands)) OF BandParameters,
    featureSetCombination               FeatureSetCombinationId,

    ca-ParametersEUTRA                  CA-ParametersEUTRA                      OPTIONAL,
    ca-ParametersNR                     CA-ParametersNR                         OPTIONAL,
    mrdc-Parameters                     MRDC-Parameters                         OPTIONAL,
    supportedBandwidthCombinationSet    BIT STRING (SIZE (1..32))               OPTIONAL,
    powerClass-v1530                    ENUMERATED {pc2}                        OPTIONAL
}

BandParameters ::=                      CHOICE {
    eutra                               SEQUENCE {
        bandEUTRA                           FreqBandIndicatorEUTRA,
        ca-BandwidthClassDL-EUTRA           CA-BandwidthClassEUTRA              OPTIONAL,
        ca-BandwidthClassUL-EUTRA           CA-BandwidthClassEUTRA              OPTIONAL
    },
    nr                                  SEQUENCE {
        bandNR                              FreqBandIndicatorNR,
        ca-BandwidthClassDL-NR              CA-BandwidthClassNR                 OPTIONAL,
        ca-BandwidthClassUL-NR              CA-BandwidthClassNR                 OPTIONAL
    }
}

-- TAG-BANDCOMBINATIONLIST-STOP
-- ASN1STOP

BandCombination field descriptions
powerClass
Power class that the UE supports when operating according to this band combination. If the field is absent, the UE supports the default power class. If this power class is higher than the power class that the UE supports on the individual bands of this band combination (ue-PowerClass in BandNR), the latter determines maximum TX power available in each band. The UE sets the new power class parameter only in band combinations with two FR1 uplink serving cells. 
supportedBandwidthCombinationSet
For NR SA and for inter-band EN-DC, the field defines the bandwidth combinations for the NR part of the band combination. For intra-band EN-DC, the field indicates the supported bandwidth combination set applicable to the NR and LTE band combinations. The first (left-most) bit in the bitmap corresponds to the BWCS#0 and so on. If the bit is set to 1, the UE supports the corresponding BWCS.

–	CA-BandwidthClassEUTRA
-- ASN1START
-- TAG-CA-BANDWIDTHCLASSEUTRA-START

CA-BandwidthClassEUTRA ::=          ENUMERATED {a, b, c, d, e, f, ...}

-- TAG-CA-BANDWIDTHCLASSEUTRA-STOP
-- ASN1STOP

–	CA-BandwidthClassNR
-- ASN1START
-- TAG-CA-BANDWIDTHCLASSNR-START

CA-BandwidthClassNR ::=             ENUMERATED {a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, ...}

-- TAG-CA-BANDWIDTHCLASSNR-STOP
-- ASN1STOP

–	CA-ParametersEUTRA
The IE CA-ParameterEUTRA contains the EUTRA part of band combination parameters for a given MR-DC band combination.
NOTE:	If an additional EUTRA band combination parameters are defined in TS 36.331 [10], which are supported for MR-DC, they will be defined here as well.
-- ASN1START
-- TAG-CA-PARAMETERSEUTRA-START

CA-ParametersEUTRA ::=                          SEQUENCE {
    multipleTimingAdvance                           ENUMERATED {supported}                          OPTIONAL,
    simultaneousRx-Tx                               ENUMERATED {supported}                          OPTIONAL,
    supportedNAICS-2CRS-AP                          BIT STRING (SIZE (1..8))                        OPTIONAL,
    additionalRx-Tx-PerformanceReq                  ENUMERATED {supported}                          OPTIONAL,
    ue-CA-PowerClass-N                              ENUMERATED {class2}                             OPTIONAL,
    supportedBandwidthCombinationSetEUTRA-v1530     BIT STRING (SIZE (1..32))                       OPTIONAL,
    ...
}

-- TAG-CA-PARAMETERSEUTRA-STOP
-- ASN1STOP

CA-ParametersEUTRA field descriptions
supportedBandwidthCombinationSetEUTRA
Indicates the set of supported bandwidth combinations for the LTE part for inter-band EN-DC. The first (left-most) bit in the bitmap corresponds to the BWCS#0 and so on. If the bit is set to 1, the UE supports the corresponding BWCS.

–	CA-ParametersNR
The IE CA-ParametersNR contains carrier aggregation related capabilities that are defined per band combination.
CA-ParametersNR information element
-- ASN1START
-- TAG-CA-PARAMETERSNR-START

CA-ParametersNR ::=                 SEQUENCE {
    multipleTimingAdvances              ENUMERATED {supported}      OPTIONAL,
    parallelTxSRS-PUCCH-PUSCH           ENUMERATED {supported}      OPTIONAL,
    parallelTxPRACH-SRS-PUCCH-PUSCH     ENUMERATED {supported}      OPTIONAL,
    simultaneousRxTxInterBandCA         ENUMERATED {supported}      OPTIONAL,
    simultaneousRxTxSUL                 ENUMERATED {supported}      OPTIONAL,
    diffNumerologyAcrossPUCCH-Group     ENUMERATED {supported}      OPTIONAL,
    diffNumerologyWithinPUCCH-Group     ENUMERATED {supported}      OPTIONAL,
    supportedNumberTAG                  ENUMERATED {n2, n3, n4}     OPTIONAL,
    ...
}

-- TAG-CA-PARAMETERSNR-STOP
-- ASN1STOP

–	FeatureSetCombination
The IE FeatureSetCombination is a two-dimensional matrix of FeatureSet entries.
Each FeatureSetsPerBand contains a list of feature sets applicable to the carrier(s) of one band entry of the associated band combination. Across the associated bands, the UE shall support the combination of FeatureSets at the same position in the FeatureSetsPerBand. All FeatureSetsPerBand in one FeatureSetCombination must have the same number of entries.
The number of FeatureSetsPerBand in the FeatureSetCombination must be equal to the number of band entries in an associated band combination. The first FeatureSetPerBand applies to the first band entry of the band combination, and so on.
Each FeatureSet contains either a pair of NR- or EUTRA feature set IDs for UL and DL.
In case of NR, the actual feature sets for UL and DL are defined in the FeatureSets IE and referred to from here by their ID, i.e., their position in the featureSetsUplink / featureSetsDownlink list in the FeatureSet IE.
In case of EUTRA, the feature sets referred to from this list are defined in TS 36.331 and conveyed as part of the UE-EUTRA-Capability container. The FeatureSetUL-Id-r15 and FeatureSetDL-Id-r15 in the EUTRA feature sets correspond to the FeatureSetEUTRA-DownlinkId and FeatureSetEUTRA-UplinkId, respectively.
The FeatureSetUplink and FeatureSetDownlink referred to from the FeatureSet comprise, among other information, a set of FeatureSetUplinkPerCC-Id:s and FeatureSetDownlinkPerCC-Id:s. The number of these per-CC IDs determines the number of carriers that the UE is able to aggregate contiguously in frequency domain in the corresponding band. The number of carriers supported by the UE is also restricted by the BWC indicated in the associated BandCombination, if present.
NOTE:	The UE may advertise fallback band-combinations in which it supports additional functionality explicitly in two ways: Either by setting FeatureSet IDs to zero (inter-band and intra-band non-contiguous fallback) and by reducing the number of FeatureSet-PerCC Ids in a Feature Set (intra-band contiguous fallback). Or by separate BandCombination entries with associated FeatureGroupCombinations.
NOTE:	The UE may advertise a FeatureSetCombinations containing only fallback band combinations. That means, in a FeatureSetCombination each group of FeatureSets across the bands may contain at least one pair of FeatureSetUplinkId and FeatureSetDownlinkId which is set to 0/0.
FeatureSetCombination information element
-- ASN1START
-- TAG-FEATURESETCOMBINATION-START

FeatureSetCombination ::=       SEQUENCE (SIZE (1..maxSimultaneousBands)) OF FeatureSetsPerBand

FeatureSetsPerBand ::=          SEQUENCE (SIZE (1..maxFeatureSetsPerBand)) OF FeatureSet

FeatureSet ::=                  CHOICE {
    eutra                           SEQUENCE {
        downlinkSetEUTRA                FeatureSetEUTRA-DownlinkId,
        uplinkSetEUTRA                  FeatureSetEUTRA-UplinkId
    },
    nr                              SEQUENCE {
        downlinkSetNR                   FeatureSetDownlinkId,
        uplinkSetNR                     FeatureSetUplinkId
    }
}

-- ASN1STOP
-- TAG-FEATURESETCOMBINATION-STOP

–	FeatureSetCombinationId
The IE FeatureSetCombinationId identifies a FeatureSetCombination. The FeatureSetCombinationId of a FeatureSetCombination is the position of the FeatureSetCombination in the featureSetCombinations list (in UE-NR-Capability or UE-MRDC-Capability).
FeatureSetCombinationId information element
-- ASN1START
-- TAG-FEATURESET-COMBINATION-ID-START

FeatureSetCombinationId ::=         INTEGER (0.. maxFeatureSetCombinations)

-- TAG-FEATURESET-COMBINATION-ID-STOP
-- ASN1STOP

–	FeatureSetDownlink
The IE FeatureSetDownlink indicates a set of features that the UE supports on the carriers corresponding to one band entry in a band combination.
FeatureSetDownlink information element
-- ASN1START
-- TAG-FEATURESETDOWNLINK-START

FeatureSetDownlink ::=                  SEQUENCE {
    featureSetListPerDownlinkCC             SEQUENCE (SIZE (1..maxNrofServingCells)) OF FeatureSetDownlinkPerCC-Id,

    intraBandFreqSeparationDL               FreqSeparationClass                                                     OPTIONAL,
    scalingFactor                           ENUMERATED {f0p4, f0p75, f0p8}                                          OPTIONAL,
    crossCarrierScheduling-OtherSCS         ENUMERATED {supported}                                                  OPTIONAL,
    scellWithoutSSB                         ENUMERATED {supported}                                                  OPTIONAL,
    csi-RS-MeasSCellWithoutSSB              ENUMERATED {supported}                                                  OPTIONAL,
    srs-AssocCSI-RS                         ENUMERATED {supported}                                                  OPTIONAL,
    type1-3-CSS                             ENUMERATED {supported}                                                  OPTIONAL,
    pdcch-MonitoringAnyOccasions            ENUMERATED {withoutDCI-Gap, withDCI-Gap}                                OPTIONAL,
    pdcch-MonitoringAnyOccasionsWithSpanGap ENUMERATED {supported}                                                  OPTIONAL,
    ue-SpecificUL-DL-Assignment             ENUMERATED {supported}                                                  OPTIONAL,
    searchSpaceSharingCA-DL                 ENUMERATED {supported}                                                  OPTIONAL,
    timeDurationForQCL                      SEQUENCE {
        scs-60kHz                           ENUMERATED {s7, s14, s28}                                           OPTIONAL,
        sch-120kHz                          ENUMERATED {s14, s28}                                               OPTIONAL
    }                                                                                                               OPTIONAL,
    pdsch-DifferentTB-PerSlot               SEQUENCE {
        scs-15kHz                               ENUMERATED {upto2, upto4, upto7}                                    OPTIONAL,
        scs-30kHz                               ENUMERATED {upto2, upto4, upto7}                                    OPTIONAL,
        scs-60kHz                               ENUMERATED {upto2, upto4, upto7}                                    OPTIONAL,
        scs-120kHz                              ENUMERATED {upto2, upto4, upto7}                                    OPTIONAL
    }                                                                                                               OPTIONAL,
    csi-RS-IM-ReceptionForFeedback          CSI-RS-IM-ReceptionForFeedback                                          OPTIONAL,
    typeI-SinglePanelCodebookList           SEQUENCE (SIZE (1.. maxNrofCodebooks)) OF TypeI-SinglePanelCodebook OPTIONAL,
    typeI-MultiPanelCodebookList            SEQUENCE (SIZE (1.. maxNrofCodebooks)) OF TypeI-MultiPanelCodebook      OPTIONAL,
    typeII-CodebookList                     SEQUENCE (SIZE (1.. maxNrofCodebooks)) OF TypeII-Codebook               OPTIONAL,
    typeII-CodebookPortSelectionList        SEQUENCE (SIZE (1.. maxNrofCodebooks)) OF TypeII-CodebookPortSelection  OPTIONAL

}

CSI-RS-IM-ReceptionForFeedback ::=      SEQUENCE {
    maxNumberNZP-CSI-RS-PerCC                   INTEGER (1..32),
    maxNumberPortsAcrossNZP-CSI-RS-PerCC        ENUMERATED {p2, p4, p8, p12, p16, p24, p32, p40, p48, p56, p64, p72, p80,
                                                            p88, p96, p104, p112, p120, p128, p136, p144, p152, p160, p168,
                                                            p176, p184, p192, p200, p208, p216, p224, p232, p240, p248, p256},
    maxNumberCS-IM-PerCC                        ENUMERATED {n1, n2, n4, n8, n16, n32},
    maxNumberSimultaneousCSI-RS-ActBWP-AllCC    ENUMERATED {n5, n6, n7, n8, n9, n10, n12, n14, n16, n18, n20, n22, n24, n26,
                                                                n28, n30, n32, n34, n36, n38, n40, n42, n44, n46, n48, n50, n52,
                                                                n54, n56, n58, n60, n62, n64},
    totalNumberPortsSimultaneousCSI-RS-ActBWP-AllCC ENUMERATED {p8, p12, p16, p24, p32, p40, p48, p56, p64, p72, p80,
                                                                p88, p96, p104, p112, p120, p128, p136, p144, p152, p160, p168,
                                                                p176, p184, p192, p200, p208, p216, p224, p232, p240, p248, p256}
}

TypeI-SinglePanelCodebook ::=       SEQUENCE {
    maxNumberTxPortsPerResource         ENUMERATED {p2, p4, p8, p12, p16, p24, p32},
    maxNumberResources                  INTEGER (1..64),
    totalNumberTxPorts                  INTEGER (2..256),
    supportedCodebookMode               ENUMERATED {mode1, mode1AndMode2},
    maxNumberCSI-RS-PerResourceSet      INTEGER (1..8)
}

TypeI-MultiPanelCodebook ::=        SEQUENCE {
    maxNumberTxPortsPerResource         ENUMERATED {p8, p16, p32},
    maxNumberResources                  INTEGER (1..64),
    totalNumberTxPorts                  INTEGER (2..256),
    supportedCodebookMode               ENUMERATED {mode1, mode2, both},
    supportedNumberPanels               ENUMERATED {n2, n4},
    maxNumberCSI-RS-PerResourceSet      INTEGER (1..8)
}

TypeII-Codebook ::=                 SEQUENCE {
    maxNumberTxPortsPerResource         ENUMERATED {p4, p8, p12, p16, p24, p32},
    maxNumberResources                  INTEGER (1..64),
    totalNumberTxPorts                  INTEGER (2..256),
    parameterLx                         INTEGER (2..4),
    amplitudeScalingType                ENUMERATED {wideband, widebandAndSubband},
    amplitudeSubsetRestriction          ENUMERATED {supported}                          OPTIONAL,
    maxNumberCSI-RS-PerResourceSet      INTEGER (1..8)
}

TypeII-CodebookPortSelection ::=    SEQUENCE {
    maxNumberTxPortsPerResource         ENUMERATED {p4, p8, p12, p16, p24, p32},
    maxNumberResources                  INTEGER (1..64),
    totalNumberTxPorts                  INTEGER (2..256),
    parameterLx                         INTEGER (2..4),
    amplitudeScalingType                ENUMERATED {wideband, widebandAndSubband},
    maxNumberCSI-RS-PerResourceSet      INTEGER (1..8)
}

-- TAG-FEATURESETDOWNLINK-STOP
-- ASN1STOP

FeatureSetDownlink field descriptions
crossCarrierScheduling-OtherSCS
The UE shall set this field to the same value as crossCarrierScheduling-OtherSCS in the associated FeatureSetUplink (if present).
featureSetListPerDownlinkCC
Indicates which features the UE supports on the individual carriers of the feature set (and hence of a band entry that refer to the feature set). The UE shall hence include as many FeatureSetDownlinkPerCC-Id in this list as the number of carriers it supports according to the ca-bandwidthClassDL. The order of the elements in this list is not relevant, i.e., the network may configure any of the carriers in accordance with any of the FeatureSetDownlinkPerCC-Id in this list.

–	FeatureSetDownlinkId
The IE FeatureSetDownlinkId identifies a downlink feature set. The FeatureSetDownlinkId of a FeatureSetDownlink is the index position of the FeatureSetDownlink in the featureSetsDownlink list in the FeatureSets IE. The first element in that list is referred to by FeatureSetDownlinkId = 1. The FeatureSetDownlinkId=0 is not used by an actual FeatureSetDownlink but means that the UE does not support a carrier in this band of a band combination.
FeatureSetDownlinkId information element
-- ASN1START
-- TAG-FEATURESET-DOWNLINK-ID-START

FeatureSetDownlinkId ::=            INTEGER (0..maxDownlinkFeatureSets)

-- TAG-FEATURESET-DOWNLINK-ID-STOP
-- ASN1STOP

–	FeatureSetDownlinkPerCC
The IE FeatureSetDownlinkPerCC indicates a set of features that the UE supports on the corresponding carrier of one band entry of a band combination.
FeatureSetDownlinkPerCC information element
-- ASN1START
-- TAG-FEATURESETDOWNLINKPERCC-START

FeatureSetDownlinkPerCC ::=         SEQUENCE {
    supportedSubcarrierSpacingDL        SubcarrierSpacing,
    supportedBandwidthDL                SupportedBandwidth,
    channelBW-90mhz                     ENUMERATED {supported}                                                  OPTIONAL,
    maxNumberMIMO-LayersPDSCH           MIMO-LayersDL                                                           OPTIONAL,
    supportedModulationOrderDL          ModulationOrder                                                         OPTIONAL
}

-- TAG-FEATURESETDOWNLINKPERCC-STOP
-- ASN1STOP

–	FeatureSetDownlinkPerCC-Id
The IE FeatureSetDownlinkPerCC-Id identifies a set of features applicable to one carrier of a feature set. The FeatureSetDownlinkPerCC-Id of a FeatureSetDownlinkPerCC is the index position of the FeatureSetDownlinkPerCC in the featureSetsDownlinkPerCC. The first element in the list is referred to by FeatureSetDownlinkPerCC-Id = 1, and so on.
FeatureSetDownlinkPerCC-Id information element
-- ASN1START
-- TAG-FEATURESET-DOWNLINK-PER-CC-ID-START

FeatureSetDownlinkPerCC-Id ::=      INTEGER (1..maxPerCC-FeatureSets)

-- TAG-FEATURESET-DOWNLINK-PER-CC-ID-STOP
-- ASN1STOP

–	FeatureSetEUTRA-DownlinkId
The IE FeatureSetEUTRA-DownlinkId identifies a downlink feature set in EUTRA. The FeatureSetEUTRA-DownlinkId=0 is used when the UE does not support a carrier in this band of a band combination.
FeatureSetEUTRA-DownlinkId information element
-- ASN1START
-- TAG-FEATURESET-EUTRA-DOWNLINK-ID-START

FeatureSetEUTRA-DownlinkId ::=      INTEGER (0..maxEUTRA-DL-FeatureSets)

-- TAG-FEATURESET-EUTRA-DOWNLINK-ID-STOP
-- ASN1STOP

–	FeatureSetEUTRA-UplinkId
The IE FeatureSetEUTRA-UplinkId identifies an uplink feature set. The FeatureSetEUTRA-UplinkId =0 is used when the UE does not support a carrier in this band of a band combination.
FeatureSetEUTRA-UplinkId information element
-- ASN1START
-- TAG-FEATURESET-EUTRA-UPLINK-ID-START

FeatureSetEUTRA-UplinkId ::=                    INTEGER (0..maxEUTRA-UL-FeatureSets)

-- TAG-FEATURESET-EUTRA-UPLINK-ID-STOP
-- ASN1STOP

–	FeatureSets
The IE FeatureSets is used to provide pools of downlink and uplink features sets. A FeatureSetCombination refers to the IDs of the feature set(s) that the UE supports in that FeatureSetCombination. The BandCombination entries in the BandCombinationList then indicate the ID of the FeatureSetCombination that the UE supports fot that band combination.
The entries in the lists in this IE are identified by their index position. For example, the FeatureSetUplinkPerCC-Id = 4 identifies the 4th element in the featureSetsUplinkPerCC list.
NOTE:	When feature sets (per CC) IEs require extension in future versions of the specification, new versions of the FeatureSetDownlink, FeatureSetUplink, FeatureSets, FeatureSetDownlinkPerCC and/or FeatureSetUplinkPerCC will be created and instantiated in corresponding new lists in the FeatureSets IE. For example, if new capability bits are to be added to the FeatureSetDownlink, they will instead be defined in a new FeatureSetDownlink-rxy which will be instantiated in a new featureSetDownlinkList-rxy list. If a UE indicates in a FeatureSetCombination that it supports the FeatureSetDownlink with ID #5, it implies that it supports both the features in FeatureSetDownlink #5 and FeatureSetDownlink-rxy #5 (if present).
FeatureSets information element
-- ASN1START
-- TAG-FEATURESETS-START

FeatureSets ::=	SEQUENCE {
    featureSetsDownlink                 SEQUENCE (SIZE (1..maxDownlinkFeatureSets)) OF FeatureSetDownlink               OPTIONAL,
    featureSetsDownlinkPerCC            SEQUENCE (SIZE (1..maxPerCC-FeatureSets)) OF FeatureSetDownlinkPerCC            OPTIONAL,
    featureSetsUplink                   SEQUENCE (SIZE (1..maxUplinkFeatureSets)) OF FeatureSetUplink                   OPTIONAL,
    featureSetsUplinkPerCC              SEQUENCE (SIZE (1..maxPerCC-FeatureSets)) OF FeatureSetUplinkPerCC              OPTIONAL,
    ...
}

-- ASN1STOP
-- TAG-FEATURESETS-STOP

–	FeatureSetUplink
The IE FeatureSetUplink is used to indicate the features that the UE supports on the carriers corresponding to one band entry in a band combination.
FeatureSetUplink information element
-- ASN1START
-- TAG-FEATURESETUPLINK-START

FeatureSetUplink ::=                SEQUENCE {
    featureSetListPerUplinkCC           SEQUENCE (SIZE (1.. maxNrofServingCells)) OF FeatureSetUplinkPerCC-Id,
    scalingFactor                       ENUMERATED {f0p4, f0p75, f0p8}              OPTIONAL,
    crossCarrierScheduling-OtherSCS     ENUMERATED {supported}                      OPTIONAL,
    intraBandFreqSeparationUL           FreqSeparationClass                         OPTIONAL,
    searchSpaceSharingCA-UL             ENUMERATED {supported}                      OPTIONAL,
    srs-TxSwitch                        SRS-TxSwitch                                OPTIONAL,
    supportedSRS-Resources              SRS-Resources                               OPTIONAL,
    twoPUCCH-Group                      ENUMERATED {supported}                      OPTIONAL,
    dynamicSwitchSUL                    ENUMERATED {supported}                      OPTIONAL,
    simultaneousTxSUL-NonSUL-v1530      ENUMERATED {supported}                      OPTIONAL,
    pusch-DifferentTB-PerSlot           SEQUENCE {
        scs-15kHz                           ENUMERATED {upto2, upto4, upto7}        OPTIONAL,
        scs-30kHz                           ENUMERATED {upto2, upto4, upto7}        OPTIONAL,
        scs-60kHz                           ENUMERATED {upto2, upto4, upto7}        OPTIONAL,
        scs-120kHz                          ENUMERATED {upto2, upto4, upto7}        OPTIONAL
    }                                                                               OPTIONAL,
    csi-ReportFramework                 CSI-ReportFramework                         OPTIONAL
}

CSI-ReportFramework ::=                     SEQUENCE {
    maxNumberPeriodicCSI-ReportPerBWP           INTEGER (1..4),
    maxNumberAperiodicCSI-ReportPerBWP          INTEGER (1..4),
    maxNumberSemiPersistentCSI-ReportPerBWP     INTEGER (0..4),
    simultaneousCSI-ReportsAllCC                INTEGER (5..32)
}

-- TAG- FEATURESETUPLINK-STOP
-- ASN1STOP

FeatureSetUplink field descriptions
crossCarrierScheduling-OtherSCS
The UE shall set this field to the same value as crossCarrierScheduling-OtherSCS in the associated FeatureSetDownlink (if present).
featureSetsPerUplinkCC
Indicates which features the UE supports on the individual carriers of the feature set (and hence of a band entry that refers to the feature set). The UE shall hence include as many FeatureSetUplinkPerCC-Id in this list as the number of carriers it supports according to the ca-BandwidthClassUL. The order of the elements in this list is not relevant, i.e., the network may configure any of the carriers in accordance with any of the FeatureSetUplinkPerCC-Id in this list.

–	FeatureSetUplinkId
The IE FeatureSetUplinkId identifies a downlink feature set. The FeatureSetUplinkId of a FeatureSetUplink is the index position of the FeatureSetUplink in the featureSetsUplink list in the FeatureSets IE. The first element in the list is referred to by FeatureSetUplinkPerCC-Id = 1, and so on. The FeatureSetUplinkId =0 is not used by an actual FeatureSetUplink but means that the UE does not support a carrier in this band of a band combination.
FeatureSetUplinkId information element
-- ASN1START
-- TAG-FEATURESET-UPLINK-ID-START

FeatureSetUplinkId ::=                  INTEGER (0..maxUplinkFeatureSets)

-- TAG-FEATURESET-UPLINK-ID-STOP
-- ASN1STOP

–	FeatureSetUplinkPerCC
The IE FeatureSetDownlinkPerCC indicates a set of features that the UE supports on the corresponding carrier of one band entry of a band combination.
FeatureSetUplinkPerCC information element
-- ASN1START
-- TAG-FEATURESETUPLINKPERCC-START

FeatureSetUplinkPerCC ::=               SEQUENCE {
    supportedSubcarrierSpacingUL            SubcarrierSpacing,
    supportedBandwidthUL                    SupportedBandwidth,
    channelBW-90mhz                         ENUMERATED {supported}                      OPTIONAL,
    mimo-CB-PUSCH                           SEQUENCE {
        maxNumberMIMO-LayersCB-PUSCH            MIMO-LayersUL                           OPTIONAL,
        maxNumberSRS-ResourcePerSet             INTEGER (1..2)
    }                                                                                   OPTIONAL,
    maxNumberMIMO-LayersNonCB-PUSCH         MIMO-LayersUL                               OPTIONAL,
    supportedModulationOrderUL              ModulationOrder                             OPTIONAL

}

-- TAG-FEATURESETUPLINKPERCC-STOP
-- ASN1STOP

–	FeatureSetUplinkPerCC-Id
The IE FeatureSetUplinkPerCC-Id identifies a set of features applicable to one carrier of a feature set. The FeatureSetUplinkPerCC-Id of a FeatureSetUplinkPerCC is the index position of the FeatureSetUplinkPerCC in the featureSetsUplinkPerCC. The first element in the list is referred to by FeatureSetUplinkPerCC-Id = 1, and so on.
FeatureSetUplinkPerCC-Id information element
-- ASN1START
-- TAG-FEATURESET-UPLINK-PER-CC-ID-START

FeatureSetUplinkPerCC-Id ::=            INTEGER (1..maxPerCC-FeatureSets)

-- TAG-FEATURESET-UPLINK-PER-CC-ID-STOP
-- ASN1STOP

–	FreqBandIndicatorEUTRA
-- ASN1START
-- TAG-FREQ-BAND-INDICATOR-EUTRA-START

FreqBandIndicatorEUTRA ::=  INTEGER (1..maxBandsEUTRA)

-- TAG-FREQ-BAND-INDICATOR-EUTRA-STOP
-- ASN1STOP

–	FreqBandList
The IE FreqBandList is used by the network to request NR CA and/or MR-DC band combinations for specific NR and/or E-UTRA frequency bands and/or up to a specific number of carriers and/or up to specific aggregated bandwidth.
FreqBandList information element
-- ASN1START
-- TAG-FREQBANDLIST-START

FreqBandList ::=                SEQUENCE (SIZE (1..maxBandsMRDC)) OF FreqBandInformation

FreqBandInformation ::=         CHOICE {
    bandInformationEUTRA            FreqBandInformationEUTRA,
    bandInformationNR               FreqBandInformationNR
}

FreqBandInformationEUTRA ::=    SEQUENCE {
    bandEUTRA                       FreqBandIndicatorEUTRA,
    ca-BandwidthClassDL-EUTRA       CA-BandwidthClassEUTRA                  OPTIONAL,   -- Need N
    ca-BandwidthClassUL-EUTRA       CA-BandwidthClassEUTRA                  OPTIONAL    -- Need N
}

FreqBandInformationNR ::=       SEQUENCE {
    bandNR                          FreqBandIndicatorNR,
    maxBandwidthRequestedDL         AggregatedBandwidth         OPTIONAL,   -- Need N
    maxBandwidthRequestedUL         AggregatedBandwidth         OPTIONAL,   -- Need N
    maxCarriersRequestedDL          INTEGER (1..maxNrofServingCells)        OPTIONAL,   -- Need N
    maxCarriersRequestedUL          INTEGER (1..maxNrofServingCells)        OPTIONAL    -- Need N
}

AggregatedBandwidth ::=         ENUMERATED {mhz50, mhz100, mhz150, mhz200, mhz250, mhz300, mhz350,
                                            mhz400, mhz450, mhz500, mhz550, mhz600, mhz650, mhz700, mhz750, mhz800}

-- TAG-FREQBANDLIST-STOP
-- ASN1STOP

–	FreqSeparationClass
The IE FreqSeparationClass is used for an intra-band non-contiguous CA band combination to indicate frequency separation between lower edge of lowest CC and upper edge of highest CC in a frequency band.
FreqSeparationClass information element
-- ASN1START
-- TAG-FREQSEPARATIONCLASS-START

FreqSeparationClass ::=	ENUMERATED {c1, c2, c3, ...}

-- TAG-FREQSEPARATIONCLASS-STOP
-- ASN1STOP

–	InterRAT-Parameters
The IE InterRAT-Parameters is used convey UE capabilities related to the other RATs.
InterRAT-Parameters information element
-- ASN1START
-- TAG-INTERRAT-PARAMETERS-START

InterRAT-Parameters ::=             SEQUENCE {
    eutra                               EUTRA-Parameters                OPTIONAL,
    ...
}

EUTRA-Parameters ::=                SEQUENCE {
    supportedBandListEUTRA          SEQUENCE (SIZE (1..maxBandsEUTRA)) OF FreqBandIndicatorEUTRA,
    eutra-ParametersCommon          EUTRA-ParametersCommon                                          OPTIONAL,
    eutra-ParametersXDD-Diff            EUTRA-ParametersXDD-Diff                                        OPTIONAL,
    ...
}

EUTRA-ParametersCommon ::=      SEQUENCE {
    mfbi-EUTRA                          ENUMERATED {supported}          OPTIONAL,
    modifiedMRP-BehaviorEUTRA           BIT STRING (SIZE (32))          OPTIONAL,
    multiNS-Pmax-EUTRA                  ENUMERATED {supported}          OPTIONAL,
    rs-SINR-MeasEUTRA                   ENUMERATED {supported}          OPTIONAL,
    ...
}

EUTRA-ParametersXDD-Diff ::=        SEQUENCE {
    rsrqMeasWidebandEUTRA               ENUMERATED {supported}          OPTIONAL,
    ...
}

-- TAG-INTERRAT-PARAMETERS-STOP
-- ASN1STOP

–	MAC-Parameters
The IE MAC-Parameters is used to convey capabilities related to MAC.
MAC-Parameters information element
-- ASN1START
-- TAG-MAC-PARAMETERS-START

MAC-Parameters ::= SEQUENCE {
    mac-ParametersCommon            MAC-ParametersCommon    OPTIONAL,
    mac-ParametersXDD-Diff          MAC-ParametersXDD-Diff  OPTIONAL
}

MAC-ParametersCommon ::=    SEQUENCE {
    lcp-Restriction                 ENUMERATED {supported}  OPTIONAL,
    pucch-SpatialRelInfoMAC-CE      ENUMERATED {supported}  OPTIONAL,
    lch-ToSCellRestriction          ENUMERATED {supported}  OPTIONAL,
    ...,
    [[
    recommendedBitRate              ENUMERATED {supported}  OPTIONAL,
    recommendedBitRateQuery     ENUMERATED {supported}  OPTIONAL
    ]]
}

MAC-ParametersXDD-Diff ::=  SEQUENCE {
    skipUplinkTxDynamic             ENUMERATED {supported}  OPTIONAL,
    logicalChannelSR-DelayTimer     ENUMERATED {supported}  OPTIONAL,
    longDRX-Cycle                   ENUMERATED {supported}  OPTIONAL,
    shortDRX-Cycle                  ENUMERATED {supported}  OPTIONAL,
    multipleSR-Configurations       ENUMERATED {supported}  OPTIONAL,
    multipleConfiguredGrants    ENUMERATED {supported}  OPTIONAL,
    ...
}

-- TAG-MAC-PARAMETERS-STOP
-- ASN1STOP

–	MeasAndMobParameters
The IE MeasAndMobParameters is used to convey UE capabilities related to measurements for radio resource management (RRM), radio link monitoring (RLM) and mobility (e.g. handover).
MeasAndMobParameters information element
-- ASN1START
-- TAG-MEASANDMOBPARAMETERS-START

MeasAndMobParameters ::=                    SEQUENCE {
    measAndMobParametersCommon              MeasAndMobParametersCommon          OPTIONAL,
    measAndMobParametersXDD-Diff                MeasAndMobParametersXDD-Diff        OPTIONAL,
    measAndMobParametersFRX-Diff                MeasAndMobParametersFRX-Diff        OPTIONAL
}

MeasAndMobParametersCommon ::=          SEQUENCE {
    supportedGapPattern                 BIT STRING (SIZE (22))          OPTIONAL,
    ssb-RLM                             ENUMERATED {supported}          OPTIONAL,
    ssb-AndCSI-RS-RLM                   ENUMERATED {supported}          OPTIONAL,
    ...,
    [[
    eventB-MeasAndReport        ENUMERATED {supported}      OPTIONAL,
    handoverFDD-TDD         ENUMERATED {supported}      OPTIONAL,
    eutra-CGI-Reporting     ENUMERATED {supported}      OPTIONAL,
    nr-CGI-Reporting            ENUMERATED {supported}      OPTIONAL
    ]]
}

MeasAndMobParametersXDD-Diff ::=            SEQUENCE {
    intraAndInterF-MeasAndReport        ENUMERATED {supported}  OPTIONAL,
    eventA-MeasAndReport                ENUMERATED {supported}  OPTIONAL,
    ...,
    [[
    handoverInterF              ENUMERATED {supported}  OPTIONAL,
    handoverLTE             ENUMERATED {supported}  OPTIONAL,
    handover-eLTE               ENUMERATED {supported}  OPTIONAL
    ]]
}

MeasAndMobParametersFRX-Diff ::=            SEQUENCE {
    ss-SINR-Meas                        ENUMERATED {supported}      OPTIONAL,
    csi-RSRP-AndRSRQ-MeasWithSSB        ENUMERATED {supported}      OPTIONAL,
    csi-RSRP-AndRSRQ-MeasWithoutSSB     ENUMERATED {supported}      OPTIONAL,
    csi-SINR-Meas                       ENUMERATED {supported}      OPTIONAL,
    csi-RS-RLM                          ENUMERATED {supported}      OPTIONAL,
    ...,
    [[
    handoverInterF              ENUMERATED {supported}  OPTIONAL,
    handoverLTE             ENUMERATED {supported}  OPTIONAL,
    handover-eLTE               ENUMERATED {supported}  OPTIONAL
    ]]
}

-- TAG-MEASANDMOBPARAMETERS-STOP
-- ASN1STOP

–	MeasAndMobParametersMRDC
The IE MeasAndMobParametersMRDC is used to convey capability parameters related to RRM measurements and RRC mobility.
MeasAndMobParametersMRDC information element
-- ASN1START
-- TAG-MEASANDMOBPARAMETERSMRDC-START

MeasAndMobParametersMRDC ::=            SEQUENCE {
    measAndMobParametersMRDC-Common         MeasAndMobParametersMRDC-Common             OPTIONAL,
    measAndMobParametersMRDC-XDD-Diff       MeasAndMobParametersMRDC-XDD-Diff               OPTIONAL,
    measAndMobParametersMRDC-FRX-Diff       MeasAndMobParametersMRDC-FRX-Diff               OPTIONAL
}

MeasAndMobParametersMRDC-Common ::=     SEQUENCE {
    independentGapConfig                    ENUMERATED {supported}              OPTIONAL
}

MeasAndMobParametersMRDC-XDD-Diff ::=   SEQUENCE {
    sftd-MeasPSCell                         ENUMERATED {supported}              OPTIONAL,
    sftd-MeasNR-Cell                        ENUMERATED {supported}              OPTIONAL
}

MeasAndMobParametersMRDC-FRX-Diff ::=   SEQUENCE {
    simultaneousRxDataSSB-DiffNumerology    ENUMERATED {supported}      OPTIONAL
}

-- TAG-MEASANDMOBPARAMETERSMRDC-STOP
-- ASN1STOP

–	MIMO-Layers
-- ASN1START
-- TAG-MIMO-LAYERS-START

MIMO-LayersDL ::=   ENUMERATED {twoLayers, fourLayers, eightLayers}

MIMO-LayersUL ::=   ENUMERATED {oneLayer, twoLayers, fourLayers}

-- TAG-MIMO-LAYERS-STOP
-- ASN1STOP

–	MIMO-ParametersPerBand
The IE MIMO-ParametersPerBand is used to convey MIMO related parameters specific for a certain band (not per feature set or band combination).
MIMO-ParametersPerBand information element
-- ASN1START
-- TAG-MIMO-PARAMETERSPERBAND-START

MIMO-ParametersPerBand ::=          SEQUENCE {
    tci-StatePDSCH                      SEQUENCE {
        maxNumberConfiguredTCIstatesPerCC   ENUMERATED {n4, n8, n16, n32, n64, n128}                    OPTIONAL,
        maxNumberActiveTCI-PerBWP           ENUMERATED {n1, n2, n4, n8}                                 OPTIONAL
    }                                                                                                   OPTIONAL,
    additionalActiveTCI-StatePDCCH      ENUMERATED {supported}                                          OPTIONAL,
    pusch-TransCoherence                ENUMERATED {nonCoherent, partialNonCoherent, fullCoherent}      OPTIONAL,
    beamCorrespondence                  ENUMERATED {supported}                                          OPTIONAL,
    periodicBeamReport                  ENUMERATED {supported}                                          OPTIONAL,
    aperiodicBeamReport                 ENUMERATED {supported}                                          OPTIONAL,
    sp-BeamReportPUCCH                  ENUMERATED {supported}                                          OPTIONAL,
    sp-BeamReportPUSCH                  ENUMERATED {supported}                                          OPTIONAL,
    beamManagementSSB-CSI-RS            BeamManagementSSB-CSI-RS                                        OPTIONAL,
    maxNumberRxBeam                     INTEGER (2..8)                                                  OPTIONAL,
    maxNumberRxTxBeamSwitchDL           SEQUENCE {
        scs-15kHz                           ENUMERATED {n4, n7, n14}                                    OPTIONAL,
        scs-30kHz                           ENUMERATED {n4, n7, n14}                                    OPTIONAL,
        scs-60kHz                           ENUMERATED {n4, n7, n14}                                    OPTIONAL,
        scs-120kHz                          ENUMERATED {n4, n7, n14}                                    OPTIONAL,
        scs-240kHz                          ENUMERATED {n4, n7, n14}                                    OPTIONAL
    }                                                                                                   OPTIONAL,
    maxNumberNonGroupBeamReporting      ENUMERATED {n1, n2, n4}                                         OPTIONAL,
    groupBeamReporting                  ENUMERATED {supported}                                          OPTIONAL,
    uplinkBeamManagement                SEQUENCE {
        maxNumberSRS-ResourcePerSet-BM      ENUMERATED {n2, n4, n8, n16},
        maxNumberSRS-ResourceSet            INTEGER (1..8)
    }                                                                                                   OPTIONAL,
    maxNumberCSI-RS-BFR                 INTEGER (1..64)                                                 OPTIONAL,
    maxNumberSSB-BFR                    INTEGER (1..64)                                                 OPTIONAL,
    maxNumberCSI-RS-SSB-BFR             INTEGER (1..256)                                                OPTIONAL,
    twoPortsPTRS-DL                     ENUMERATED {supported}                                          OPTIONAL,
    twoPortsPTRS-UL                     ENUMERATED {supported}                                          OPTIONAL,
    supportedSRS-Resources              SRS-Resources                                                   OPTIONAL,
    maxNumberSimultaneousSRS-PerCC      INTEGER (1..4)                                                  OPTIONAL,
    beamReportTiming                    SEQUENCE {
        scs-15kHz                           ENUMERATED {sym2, sym4, sym8}                               OPTIONAL,
        scs-30kHz                           ENUMERATED {sym4, sym8, sym14}                              OPTIONAL,
        scs-60kHz                           ENUMERATED {sym8, sym14, sym28}                             OPTIONAL,
        scs-120kHz                          ENUMERATED {sym14, sym28, sym56}                            OPTIONAL
    }                                                                                                   OPTIONAL,
    ptrs-DensityRecommendationSetDL     SEQUENCE {
        scs-15kHz                           PTRS-DensityRecommendationDL                                OPTIONAL,
        scs-30kHz                           PTRS-DensityRecommendationDL                                OPTIONAL,
        scs-60kHz                           PTRS-DensityRecommendationDL                                OPTIONAL,
        scs-120kHz                          PTRS-DensityRecommendationDL                                OPTIONAL
    }                                                                                                   OPTIONAL,
    ptrs-DensityRecommendationSetUL     SEQUENCE {
        scs-15kHz                           PTRS-DensityRecommendationUL                                OPTIONAL,
        scs-30kHz                           PTRS-DensityRecommendationUL                                OPTIONAL,
        scs-60kHz                           PTRS-DensityRecommendationUL                                OPTIONAL,
        scs-120kHz                          PTRS-DensityRecommendationUL                                OPTIONAL
    }                                                                                                   OPTIONAL,
    csi-RS-ForTracking                  CSI-RS-ForTracking                                              OPTIONAL,
    aperiodicTRS                        ENUMERATED {supported}                                          OPTIONAL,
    ...
}

BeamManagementSSB-CSI-RS ::=        SEQUENCE {
    maxNumberSSB-CSI-RS-ResourceOneTx   ENUMERATED {n8, n16, n32, n64},
    maxNumberSSB-CSI-RS-ResourceTwoTx   ENUMERATED {n0, n4, n8, n16, n32, n64},
    supportedCSI-RS-Density             ENUMERATED {one, three, oneAndThree}
}

CSI-RS-ForTracking ::=              SEQUENCE {
    burstLength                         INTEGER (1..2),
    maxSimultaneousResourceSetsPerCC    INTEGER (1..8),
    maxConfiguredResourceSetsPerCC      INTEGER (1..64),
    maxConfiguredResourceSetsAllCC      INTEGER (1..128)
}

PTRS-DensityRecommendationDL ::=    SEQUENCE {
    frequencyDensity1                   INTEGER (1..276),
    frequencyDensity2                   INTEGER (1..276),
    timeDensity1                        INTEGER (0..29),
    timeDensity2                        INTEGER (0..29),
    timeDensity3                        INTEGER (0..29)
}

PTRS-DensityRecommendationUL ::=    SEQUENCE {
    frequencyDensity1                   INTEGER (1..276),
    frequencyDensity2                   INTEGER (1..276),
    timeDensity1                        INTEGER (0..29),
    timeDensity2                        INTEGER (0..29),
    timeDensity3                        INTEGER (0..29),
    sampleDensity1                      INTEGER (1..276),
    sampleDensity2                      INTEGER (1..276),
    sampleDensity3                      INTEGER (1..276),
    sampleDensity4                      INTEGER (1..276),
    sampleDensity5                      INTEGER (1..276)
}

SRS-Resources ::=                   SEQUENCE {
    maxNumberAperiodicSRS-PerBWP            ENUMERATED {n1, n2, n4, n8, n16},
    maxNumberAperiodicSRS-PerBWP-PerSlot    INTEGER (1..6),
    maxNumberPeriodicSRS-PerBWP             ENUMERATED {n1, n2, n4, n8, n16},
    maxNumberPeriodicSRS-PerBWP-PerSlot     INTEGER (1..6),
    maxNumberSemiPersitentSRS-PerBWP        ENUMERATED {n1, n2, n4, n8, n16},
    maxNumberSP-SRS-PerBWP-PerSlot          INTEGER (1..6),
    maxNumberSRS-Ports-PerResource          ENUMERATED {n1, n2, n4}
}

SRS-TxSwitch ::=                    SEQUENCE {
    supportedSRS-TxPortSwitch           ENUMERATED {t1r2, t1r4, t2r4, t1r4-t2r4, tr-equal},
    txSwitchImpactToRx                  ENUMERATED {true}                                       OPTIONAL
}

-- ASN1STOP
-- TAG-MIMO-PARAMETERSPERBAND-STOP

–	ModulationOrder
-- ASN1START
-- TAG-MODULATION-ORDER-START

ModulationOrder ::=	ENUMERATED {bpsk-halfpi, bpsk, qpsk, qam16, qam64, qam256}

-- TAG-MODULATION-ORDER-STOP
-- ASN1STOP

–	MRDC-Parameters
The IE MRDC-Parameters contains the band combination parameters specific to MR-DC for a given MR-DC band combination.
MRDC-Parameters information element
-- ASN1START
-- TAG-MRDC-PARAMETERS-START

MRDC-Parameters ::=	SEQUENCE {
    singleUL-Transmission               ENUMERATED {supported}      OPTIONAL,
    dynamicPowerSharing                 ENUMERATED {supported}      OPTIONAL,
    tdm-Pattern                         ENUMERATED {supported}      OPTIONAL,
    ul-SharingEUTRA-NR                  ENUMERATED {tdm, fdm, both}     OPTIONAL,
    ul-SwitchingTimeEUTRA-NR            ENUMERATED {type1, type2}   OPTIONAL,
    simultaneousRxTxInterBandENDC       ENUMERATED {supported}      OPTIONAL,
    asyncIntraBandENDC                  ENUMERATED {supported}      OPTIONAL,
    ...
}

-- TAG-MRDC-PARAMETERS-STOP
-- ASN1STOP

–	PDCP-Parameters
The IE PDCP-Parameters is used to convey capabilities related to PDCP.
PDCP-Parameters information element
-- ASN1START
-- TAG-PDCP-PARAMETERS-START

PDCP-Parameters ::=         SEQUENCE {
    supportedROHC-Profiles      SEQUENCE {
        profile0x0000               BOOLEAN,
        profile0x0001               BOOLEAN,
        profile0x0002               BOOLEAN,
        profile0x0003               BOOLEAN,
        profile0x0004               BOOLEAN,
        profile0x0006               BOOLEAN,
        profile0x0101               BOOLEAN,
        profile0x0102               BOOLEAN,
        profile0x0103               BOOLEAN,
        profile0x0104               BOOLEAN
    },
    maxNumberROHC-ContextSessions       ENUMERATED {cs2, cs4, cs8, cs12, cs16, cs24, cs32, cs48, cs64,
                                                cs128, cs256, cs512, cs1024, cs16384, spare2, spare1},
    uplinkOnlyROHC-Profiles         ENUMERATED {supported}      OPTIONAL,
    continueROHC-Context                ENUMERATED {supported}      OPTIONAL,
    outOfOrderDelivery                  ENUMERATED {supported}      OPTIONAL,
    shortSN                             ENUMERATED {supported}  OPTIONAL,
    pdcp-DuplicationSRB3                ENUMERATED {supported}      OPTIONAL,
    pdcp-DuplicationMCG-OrSCG           ENUMERATED {supported}      OPTIONAL,
    ...
}

-- TAG-PDCP-PARAMETERS-STOP
-- ASN1STOP

–	PDCP-ParametersMRDC
The IE PDCP-ParametersMRDC is used to convey PDCP related capabilities for MR-DC.
PDCP-ParametersMRDC information element
-- ASN1START
-- TAG-PDCP-PARAMETERSMRDC-START

PDCP-ParametersMRDC ::=                 SEQUENCE {
    pdcp-DuplicationSplitSRB                ENUMERATED {supported}      OPTIONAL,
    pdcp-DuplicationSplitDRB                ENUMERATED {supported}      OPTIONAL
}

-- TAG-PDCP-PARAMETERSMRDC-STOP
-- ASN1STOP

–	Phy-Parameters
The IE Phy-Parameters is used to convey the physical layer capabilities.
Phy-Parameters information element
-- ASN1START
-- TAG-PHY-PARAMETERS-START

Phy-Parameters ::=                  SEQUENCE {
    phy-ParametersCommon                Phy-ParametersCommon                        OPTIONAL,
    phy-ParametersXDD-Diff              Phy-ParametersXDD-Diff                      OPTIONAL,
    phy-ParametersFRX-Diff              Phy-ParametersFRX-Diff                      OPTIONAL,
    phy-ParametersFR1                   Phy-ParametersFR1                           OPTIONAL,
    phy-ParametersFR2                   Phy-ParametersFR2                           OPTIONAL
}

Phy-ParametersCommon ::=            SEQUENCE {
    csi-RS-CFRA-ForHO                   ENUMERATED {supported}                      OPTIONAL,
    dynamicPRB-BundlingDL               ENUMERATED {supported}                      OPTIONAL,
    sp-CSI-ReportPUCCH                  ENUMERATED {supported}                      OPTIONAL,
    sp-CSI-ReportPUSCH                  ENUMERATED {supported}                      OPTIONAL,
    nzp-CSI-RS-IntefMgmt                ENUMERATED {supported}                      OPTIONAL,
    type2-SP-CSI-Feedback-LongPUCCH     ENUMERATED {supported}                      OPTIONAL,
    precoderGranularityCORESET          ENUMERATED {supported}                      OPTIONAL,
    dynamicHARQ-ACK-Codebook            ENUMERATED {supported}                      OPTIONAL,
    semiStaticHARQ-ACK-Codebook         ENUMERATED {supported}                      OPTIONAL,
    spatialBundlingHARQ-ACK             ENUMERATED {supported}                      OPTIONAL,
    dynamicBetaOffsetInd-HARQ-ACK-CSI   ENUMERATED {supported}                      OPTIONAL,
    pucch-Repetition-F1-3-4             ENUMERATED {supported}                      OPTIONAL,
    ra-Type0-PUSCH                      ENUMERATED {supported}                      OPTIONAL,
    dynamicSwitchRA-Type0-1-PDSCH       ENUMERATED {supported}                      OPTIONAL,
    dynamicSwitchRA-Type0-1-PUSCH       ENUMERATED {supported}                      OPTIONAL,
    pdsch-MappingTypeA                  ENUMERATED {supported}                      OPTIONAL,
    pdsch-MappingTypeB                  ENUMERATED {supported}                      OPTIONAL,
    interleavingVRB-ToPRB-PDSCH         ENUMERATED {supported}                      OPTIONAL,
    interSlotFreqHopping-PUSCH          ENUMERATED {supported}                      OPTIONAL,
    type1-PUSCH-RepetitionMultiSlots    ENUMERATED {supported}                      OPTIONAL,
    type2-PUSCH-RepetitionMultiSlots    ENUMERATED {supported}                      OPTIONAL,
    pusch-RepetitionMultiSlots          ENUMERATED {supported}                      OPTIONAL,
    pdsch-RepetitionMultiSlots          ENUMERATED {supported}                      OPTIONAL,
    downlinkSPS                         ENUMERATED {supported}                      OPTIONAL,
    configuredUL-GrantType1             ENUMERATED {supported}                      OPTIONAL,
    configuredUL-GrantType2             ENUMERATED {supported}                      OPTIONAL,
    pre-EmptIndication-DL               ENUMERATED {supported}                      OPTIONAL,
    cbg-TransIndication-DL              ENUMERATED {supported}                      OPTIONAL,
    cbg-TransIndication-UL              ENUMERATED {supported}                      OPTIONAL,
    cbg-FlushIndication-DL              ENUMERATED {supported}                      OPTIONAL,
    dynamicHARQ-ACK-CodeB-CBG-Retx-DL   ENUMERATED {supported}                      OPTIONAL,
    rateMatchingResrcSetSemi-Static     ENUMERATED {supported}                      OPTIONAL,
    rateMatchingResrcSetDynamic         ENUMERATED {supported}                      OPTIONAL,
    bwp-SwitchingDelay                  ENUMERATED {type1, type2}                   OPTIONAL,
    ... ,
    [[
    eutra-RS-SINR-measurement           ENUMERATED {supported}                      OPTIONAL
    ]]
}

Phy-ParametersXDD-Diff ::=          SEQUENCE {
    dynamicSFI                          ENUMERATED {supported}                      OPTIONAL,
    twoPUCCH-F0-2-ConsecSymbols         ENUMERATED {supported}                      OPTIONAL,
    twoDifferentTPC-Loop-PUSCH          ENUMERATED {supported}                      OPTIONAL,
    twoDifferentTPC-Loop-PUCCH          ENUMERATED {supported}                      OPTIONAL,
    ...
}

Phy-ParametersFRX-Diff ::=          SEQUENCE {
    dynamicSFI                          ENUMERATED {supported}                      OPTIONAL,
    oneFL-DMRS-TwoAdditionalDMRS        BIT STRING (SIZE (2))                       OPTIONAL,
    twoFL-DMRS                          BIT STRING (SIZE (2))                       OPTIONAL,
    twoFL-DMRS-TwoAdditionalDMRS        BIT STRING (SIZE (2))                       OPTIONAL,
    oneFL-DMRS-ThreeAdditionalDMRS      BIT STRING (SIZE (2))                       OPTIONAL,
    supportedDMRS-TypeDL                ENUMERATED {type1, type1And2}               OPTIONAL,
    supportedDMRS-TypeUL                ENUMERATED {type1, type1And2}               OPTIONAL,
    semiOpenLoopCSI                     ENUMERATED {supported}                      OPTIONAL,
    csi-ReportWithoutPMI                ENUMERATED {supported}                      OPTIONAL,
    csi-ReportWithoutCQI                ENUMERATED {supported}                      OPTIONAL,
    onePortsPTRS                        BIT STRING (SIZE (2))                       OPTIONAL,
    twoPUCCH-F0-2-ConsecSymbols         ENUMERATED {supported}                      OPTIONAL,
    pucch-F2-WithFH                     ENUMERATED {supported}                      OPTIONAL,
    pucch-F3-WithFH                     ENUMERATED {supported}                      OPTIONAL,
    pucch-F4-WithFH                     ENUMERATED {supported}                      OPTIONAL,
    freqHoppingPUCCH-F0-2               ENUMERATED {notSupported}                   OPTIONAL,
    freqHoppingPUCCH-F1-3-4             ENUMERATED {notSupported}                   OPTIONAL,
    mux-SR-HARQ-ACK-CSI-PUCCH           ENUMERATED {supported}                      OPTIONAL,
    uci-CodeBlockSegmentation           ENUMERATED {supported}                      OPTIONAL,
    onePUCCH-LongAndShortFormat         ENUMERATED {supported}                      OPTIONAL,
    twoPUCCH-AnyOthersInSlot            ENUMERATED {supported}                      OPTIONAL,
    intraSlotFreqHopping-PUSCH          ENUMERATED {supported}                      OPTIONAL,
    pusch-LBRM                          ENUMERATED {supported}                      OPTIONAL,
    pdcch-BlindDetectionCA              INTEGER (4..16)                             OPTIONAL,
    tpc-PUSCH-RNTI                      ENUMERATED {supported}                      OPTIONAL,
    tpc-PUCCH-RNTI                      ENUMERATED {supported}                      OPTIONAL,
    tpc-SRS-RNTI                        ENUMERATED {supported}                      OPTIONAL,
    absoluteTPC-Command                 ENUMERATED {supported}                      OPTIONAL,
    twoDifferentTPC-Loop-PUSCH          ENUMERATED {supported}                      OPTIONAL,
    twoDifferentTPC-Loop-PUCCH          ENUMERATED {supported}                      OPTIONAL,
    pusch-HalfPi-BPSK                   ENUMERATED {supported}                      OPTIONAL,
    pucch-F3-4-HalfPi-BPSK              ENUMERATED {supported}                      OPTIONAL,
    almostContiguousCP-OFDM-UL          ENUMERATED {supported}                      OPTIONAL,
    sp-CSI-RS                           ENUMERATED {supported}                      OPTIONAL,
    sp-CSI-IM                           ENUMERATED {supported}                      OPTIONAL,
    tdd-MultiDL-UL-SwitchPerSlot        ENUMERATED {supported}                      OPTIONAL,
    multipleCORESET                     ENUMERATED {supported}                      OPTIONAL,
    ...
}

Phy-ParametersFR1 ::=               SEQUENCE {
    pdcchMonitoringSingleOccasion       ENUMERATED {supported}                      OPTIONAL,
    scs-60kHz                           ENUMERATED {supported}                      OPTIONAL,
    pdsch-256QAM-FR1                    ENUMERATED {supported}                      OPTIONAL,
    pdsch-RE-MappingFR1                 ENUMERATED {n10, n20}                       OPTIONAL,
    ...
}

Phy-ParametersFR2 ::=               SEQUENCE {
    calibrationGapPA                    ENUMERATED {supported}                      OPTIONAL,
    pdsch-RE-MappingFR2                 ENUMERATED {n6, n20}                        OPTIONAL,
    ...
}

-- TAG-PHY-PARAMETERS-STOP
-- ASN1STOP

–	Phy-ParametersMRDC
The IE Phy-ParametersMRDC is used to convey physical layer capabilities for MR-DC.
Phy-ParametersMRDC information element
-- ASN1START
-- TAG-PHY-PARAMETERSMRDC-START

Phy-ParametersMRDC ::=              SEQUENCE {
    naics-Capability-List               SEQUENCE (SIZE (1..maxNrofNAICS-Entries)) OF NAICS-Capability-Entry         OPTIONAL,
    ...
}

NAICS-Capability-Entry ::=          SEQUENCE {
    numberOfNAICS-CapableCC             INTEGER(1..5),
    numberOfAggregatedPRB               ENUMERATED {n50, n75, n100, n125, n150, n175, n200, n225,
                                                    n250, n275, n300, n350, n400, n450, n500, spare},
    ...
}

-- TAG-PHY-PARAMETERSMRDC-STOP
-- ASN1STOP

PHY-ParametersMRDC field descriptions
naics-Capability-List
Indicates that UE in MR-DC supports NAICS as defined in defined in TS 36.331 [10].

–	RAT-Type
The IE RAT-Type is used to indicate the radio access technology (RAT), including NR, of the requested/transferred UE capabilities.
RAT-Type information element
-- ASN1START
-- TAG-RAT-TYPE-START

RAT-Type ::= ENUMERATED {nr, eutra-nr, eutra, spare1, ...}

-- TAG-RAT-TYPE-STOP
-- ASN1STOP

–	RF-Parameters
The IE RF-Parameters is used to convey RF-related capabilities for NR operation.
RF-Parameters information element
-- ASN1START
-- TAG-RF-PARAMETERS-START

RF-Parameters ::=                   SEQUENCE {
    supportedBandListNR                 SEQUENCE (SIZE (1..maxBands)) OF BandNR,
    supportedBandCombinationList        BandCombinationList                         OPTIONAL,
    appliedFreqBandListFilter           FreqBandList                                OPTIONAL,
    ...
}

BandNR ::=                          SEQUENCE {
    bandNR                              FreqBandIndicatorNR,
    modifiedMPR-Behaviour               BIT STRING (SIZE (8))                       OPTIONAL,
    mimo-ParametersPerBand              MIMO-ParametersPerBand                      OPTIONAL,
    extendedCP                          ENUMERATED {supported}                      OPTIONAL,
    multipleTCI                         ENUMERATED {supported}                      OPTIONAL,
    bwp-WithoutRestriction              ENUMERATED {supported}                      OPTIONAL,
    bwp-SameNumerology                  ENUMERATED {upto2, upto4}                   OPTIONAL,
    bwp-DiffNumerology                  ENUMERATED {upto4}                          OPTIONAL,
    crossCarrierScheduling-SameSCS      ENUMERATED {supported}                      OPTIONAL,
    pdsch-256QAM-FR2                    ENUMERATED {supported}                      OPTIONAL,
    pusch-256QAM                        ENUMERATED {supported}                      OPTIONAL,
    ue-PowerClass                       ENUMERATED {pc1, pc2, pc3, pc4}             OPTIONAL,
    rateMatchingLTE-CRS                 ENUMERATED {supported}                      OPTIONAL,
    channelBWs-DL-v1530                 CHOICE {
        fr1                                 SEQUENCE {
            scs-15kHz                           BIT STRING (SIZE (10))              OPTIONAL,
            scs-30kHz                           BIT STRING (SIZE (10))              OPTIONAL,
            scs-60kHz                           BIT STRING (SIZE (10))              OPTIONAL
        },
        fr2                                 SEQUENCE {
            scs-60kHz                           BIT STRING (SIZE (3))               OPTIONAL,
            scs-120kHz                          BIT STRING (SIZE (3))               OPTIONAL
        }
    }                                                                               OPTIONAL,
    channelBWs-UL-v1530                 CHOICE {
        fr1                                 SEQUENCE {
            scs-15kHz                           BIT STRING (SIZE (10))              OPTIONAL,
            scs-30kHz                           BIT STRING (SIZE (10))              OPTIONAL,
            scs-60kHz                           BIT STRING (SIZE (10))              OPTIONAL
        },
        fr2                                 SEQUENCE {
            scs-60kHz                           BIT STRING (SIZE (3))               OPTIONAL,
            scs-120kHz                          BIT STRING (SIZE (3))               OPTIONAL
        }
    }                                                                               OPTIONAL,
    ...,
    [[
    maxUplinkDutyCycle              ENUMERATED {n60, n70, n80, n90, n100}           OPTIONAL
    ]]

}

-- TAG-RF-PARAMETERS-STOP
-- ASN1STOP

RF-Parameters field descriptions
appliedFreqBandListFilter
In this field the UE mirrors the FreqBandList that the NW provided in the capability enquiry, if any. The UE filtered the band combinations in the supportedBandCombinationList in accordance with this appliedFreqBandListFilter. The UE does not include this field if the UE capability is requested by E-UTRAN and the network request includes the field eutra-nr-only [10].
supportedBandCombinationList
A list of band combinations that the UE supports for NR (without MR-DC). The FeatureSetCombinationId:s in this list refer to the FeatureSetCombination entries in the featureSetCombinations list in the UE-NR-Capability IE. The UE does not include this field if the UE capability is requested by E-UTRAN and the network request includes the field eutra-nr-only [10].

–	RF-ParametersMRDC
The IE RF-ParametersMRDC is used to convey RF related capabilities for MR-DC.
RF-ParametersMRDC information element
-- ASN1START
-- TAG-RF-PARAMETERSMRDC-START

RF-ParametersMRDC ::=               SEQUENCE {
    supportedBandCombinationList        BandCombinationList                 OPTIONAL,
    appliedFreqBandListFilter           FreqBandList                        OPTIONAL,
    ...
}

-- TAG-RF-PARAMETERSMRDC-STOP
-- ASN1STOP

RF-ParametersMRDC field descriptions
appliedFreqBandListFilter
In this field the UE mirrors the FreqBandList that the NW provided in the capability enquiry, if any. The UE filtered the band combinations in the supportedBandCombinationList in accordance with this appliedFreqBandListFilter.
supportedBandCombinationList
A list of band combinations that the UE supports for MR-DC. The FeatureSetCombinationId:s in this list refer to the FeatureSetCombination entries in the featureSetCombinations list in the UE-MRDC-Capability IE.

–	RLC-Parameters
The IE RLC-Parameters is used to convey capabilities related to RLC.
RLC-Parameters information element
-- ASN1START
-- TAG-RLC-PARAMETERS-START

RLC-Parameters ::= SEQUENCE {
    am-WithShortSN                  ENUMERATED {supported}  OPTIONAL,
    um-WithShortSN                  ENUMERATED {supported}  OPTIONAL,
    um-WithLongSN                   ENUMERATED {supported}  OPTIONAL,
    ...
}

-- TAG-RLC-PARAMETERS-STOP
-- ASN1STOP

–	SupportedBandwidth
The IE SupportedBandwidth is used to indicate the maximum channel bandwidth supported by the UE on one carrier of a band of a band combination.
SupportedBandwidth information element
-- ASN1START
-- TAG-SUPPORTEDBANDWIDTH-START

SupportedBandwidth ::=      CHOICE {
    fr1                         ENUMERATED {mhz5, mhz10, mhz15, mhz20, mhz25, mhz30, mhz40, mhz50, mhz60, mhz80, mhz100},
    fr2                         ENUMERATED {mhz50, mhz100, mhz200, mhz400}
}

-- TAG-SUPPORTEDBANDWIDTH-STOP
-- ASN1STOP

–	UE-CapabilityRAT-ContainerList
The IE UE-CapabilityRAT-ContainerList contains a list of radio access technology specific capability containers.
UE-CapabilityRAT-ContainerList information element
-- ASN1START
-- TAG-UE-CAPABILITY-RAT-CONTAINER-LIST-START

UE-CapabilityRAT-ContainerList ::=SEQUENCE (SIZE (0..maxRAT-CapabilityContainers)) OF UE-CapabilityRAT-Container

UE-CapabilityRAT-Container ::= SEQUENCE {
    rat-Type                            RAT-Type,
    ue-CapabilityRAT-Container          OCTET STRING
}

-- TAG-UE-CAPABILITY-RAT-CONTAINER-LIST-STOP
-- ASN1STOP

UE-CapabilityRAT-ContainerList field descriptions
ue-CapabilityRAT-Container
Container for the UE capabilities of the indicated RAT. The encoding is defined in the specification of each RAT:
For rat-Type set to nr: the encoding of UE capabilities is defined in UE-NR-Capability.
For rat-Type set to eutra-nr: the encoding of UE capabilities is defined in UE-MRDC-Capability.
For rat-Type set to eutra: the encoding of UE capabilities is defined in UE-EUTRA-Capability specified in 36.331.

–	UE-CapabilityRAT-RequestList
The IE UE-CapabilityRAT-RequestList is used to request UE capabilities for one or more RATs from the UE.
UE-CapabilityRAT-RequestList information element
-- ASN1START
-- TAG-UE-CAPABILITYRAT-REQUESTLIST-START

UE-CapabilityRAT-RequestList ::=        SEQUENCE (SIZE (1..maxRAT-CapabilityContainers)) OF UE-CapabilityRAT-Request

UE-CapabilityRAT-Request ::=            SEQUENCE {
    rat-Type                                RAT-Type,
    capabilityRequestFilter                 OCTET STRING                    OPTIONAL,   -- Need N
    ...
}

-- TAG-UE-CAPABILITYRAT-REQUESTLIST-STOP
-- ASN1STOP

UE-CapabilityRAT-Request field descriptions
capabilityRequestFilter
Information by which the network requests the UE to filter the UE capabilities.
For ratType set to nr: the encoding of the capabilityRequestFilter is defined in UE-CapabilityRequestFilterNR. 
rat-Type
The RAT type for which the NW requests UE capabilities.

–	UE-CapabilityRequestFilterNR
The IE UE-CapabilityRequestFilterNR is used to request filtered UE capabilities.
UE-CapabilityRequestFilterNR information element
-- ASN1START
-- TAG-UE-CAPABILITYREQUESTFILTERNR-START

UE-CapabilityRequestFilterNR ::=            SEQUENCE {
    frequencyBandList                           FreqBandList                OPTIONAL,   -- Need N
    nonCriticalExtension                        SEQUENCE {}                 OPTIONAL
}

-- TAG-UE-CAPABILITYREQUESTFILTERNR-STOP
-- ASN1STOP

–	UE-MRDC-Capability
The IE UE-MRDC-Capability is used to convey the UE Radio Access Capability Parameters for MR-DC, see TS 38.306 [yy].
UE-MRDC-Capability information element
-- ASN1START
-- TAG-UE-MRDC-CAPABILITY-START

UE-MRDC-Capability ::=              SEQUENCE {
    measAndMobParametersMRDC            MeasAndMobParametersMRDC            OPTIONAL,
    phy-ParametersMRDC-v1530            Phy-ParametersMRDC                  OPTIONAL,
    rf-ParametersMRDC                   RF-ParametersMRDC,
    generalParametersMRDC               GeneralParametersMRDC-XDD-Diff      OPTIONAL,
    fdd-Add-UE-MRDC-Capabilities        UE-MRDC-CapabilityAddXDD-Mode       OPTIONAL,
    tdd-Add-UE-MRDC-Capabilities        UE-MRDC-CapabilityAddXDD-Mode       OPTIONAL,
    fr1-Add-UE-MRDC-Capabilities        UE-MRDC-CapabilityAddFRX-Mode       OPTIONAL,
    fr2-Add-UE-MRDC-Capabilities        UE-MRDC-CapabilityAddFRX-Mode       OPTIONAL,
    featureSetCombinations              SEQUENCE (SIZE (1..maxFeatureSetCombinations)) OF FeatureSetCombination         OPTIONAL,
    pdcp-ParametersMRDC-v1530           PDCP-ParametersMRDC                 OPTIONAL,
    lateNonCriticalExtension            OCTET STRING                        OPTIONAL,
    nonCriticalExtension                SEQUENCE {}                         OPTIONAL
}

UE-MRDC-CapabilityAddXDD-Mode ::=   SEQUENCE {
    measAndMobParametersMRDC-XDD-Diff       MeasAndMobParametersMRDC-XDD-Diff   OPTIONAL,
    generalParametersMRDC-XDD-Diff          GeneralParametersMRDC-XDD-Diff      OPTIONAL
}

UE-MRDC-CapabilityAddFRX-Mode ::=   SEQUENCE {
    measAndMobParametersMRDC-FRX-Diff       MeasAndMobParametersMRDC-FRX-Diff
}


GeneralParametersMRDC-XDD-Diff ::= SEQUENCE {
    splitSRB-WithOneUL-Path             ENUMERATED {supported}              OPTIONAL,
    splitDRB-withUL-Both-MCG-SCG        ENUMERATED {supported}              OPTIONAL,
    srb3                                ENUMERATED {supported}              OPTIONAL,
    v2x-EUTRA-v1530                     ENUMERATED {supported}              OPTIONAL,
    ...
}

-- TAG-UE-MRDC-CAPABILITY-STOP
-- ASN1STOP

UE-MRDC-Capability field descriptions
featureSetCombinations
A list of FeatureSetCombination:s for MR-DC. The FeatureSetDownlink:s and FeatureSetUplink:s referred to from these FeatureSetCombination:s are defined in the featureSets list in UE-NR-Capability.

–	UE-NR-Capability
The IE UE-NR-Capability is used to convey the NR UE Radio Access Capability Parameters, see TS 38.306.
UE-NR-Capability information element
-- ASN1START
-- TAG-UE-NR-CAPABILITY-START

UE-NR-Capability ::=            SEQUENCE {
    accessStratumRelease            AccessStratumRelease,
    pdcp-Parameters                 PDCP-Parameters,
    rlc-Parameters                  RLC-Parameters                      OPTIONAL,
    mac-Parameters                  MAC-Parameters                      OPTIONAL,
    phy-Parameters                  Phy-Parameters,
    rf-Parameters                   RF-Parameters,
    measAndMobParameters            MeasAndMobParameters                OPTIONAL,
    fdd-Add-UE-NR-Capabilities      UE-NR-CapabilityAddXDD-Mode         OPTIONAL,
    tdd-Add-UE-NR-Capabilities      UE-NR-CapabilityAddXDD-Mode         OPTIONAL,
    fr1-Add-UE-NR-Capabilities      UE-NR-CapabilityAddFRX-Mode         OPTIONAL,
    fr2-Add-UE-NR-Capabilities      UE-NR-CapabilityAddFRX-Mode         OPTIONAL,
    featureSets                     FeatureSets                         OPTIONAL,
    featureSetCombinations          SEQUENCE (SIZE (1..maxFeatureSetCombinations)) OF FeatureSetCombination         OPTIONAL,

    lateNonCriticalExtension        OCTET STRING                        OPTIONAL,
    nonCriticalExtension            UE-NR-Capability-1530               OPTIONAL
}

UE-NR-Capability-1530 ::=               SEQUENCE {
    fdd-Add-UE-NR-Capabilities-1530         UE-NR-CapabilityAddXDD-Mode-1530        OPTIONAL,
    tdd-Add-UE-NR-Capabilities-1530         UE-NR-CapabilityAddXDD-Mode-1530        OPTIONAL,
    voiceOverMCG-Bearer                     ENUMERATED {supported}                  OPTIONAL,
    interRAT-Parameters                     InterRAT-Parameters                     OPTIONAL,
    inactiveState                           ENUMERATED {supported}                  OPTIONAL,
    delayBudgetReporting                    ENUMERATED {supported}                  OPTIONAL,
    nonCriticalExtension                    SEQUENCE {}                             OPTIONAL
}

UE-NR-CapabilityAddXDD-Mode ::=         SEQUENCE {
    phy-ParametersXDD-Diff                  Phy-ParametersXDD-Diff                  OPTIONAL,
    mac-ParametersXDD-Diff                  MAC-ParametersXDD-Diff                  OPTIONAL,
    measAndMobParametersXDD-Diff            MeasAndMobParametersXDD-Diff            OPTIONAL
}

UE-NR-CapabilityAddXDD-Mode-1530 ::=    SEQUENCE {
    eutra-ParametersXDD-Diff                EUTRA-ParametersXDD-Diff
}

UE-NR-CapabilityAddFRX-Mode ::=	SEQUENCE {
    phy-ParametersFRX-Diff              Phy-ParametersFRX-Diff                      OPTIONAL,
    measAndMobParametersFRX-Diff        MeasAndMobParametersFRX-Diff                OPTIONAL
}

-- TAG-UE-NR-CAPABILITY-STOP
-- ASN1STOP

UE-NR-Capability field descriptions
featureSetCombinations
A list of FeatureSetCombination:s for NR (not for MR-DC). The FeatureSetDownlink:s and FeatureSetUplink:s referred to from these FeatureSetCombination:s are defined in the featureSets list in UE-NR-Capability.

6.3.4	Other information elements
–	EUTRA-AllowedMeasBandwidth
The IE EUTRA-AllowedMeasBandwidth is used to indicate the maximum allowed measurement bandwidth on a carrier frequency as defined by the parameter Transmission Bandwidth Configuration "NRB" TS 36.104 [47]. The values mbw6, mbw15, mbw25, mbw50, mbw75, mbw100 indicate 6, 15, 25, 50, 75 and 100 resource blocks respectively.
EUTRA-AllowedMeasBandwidth information element
-- ASN1START
-- TAG-EUTRA-ALLOWED-MEAS-BANDWIDTH-START

EUTRA-AllowedMeasBandwidth ::=              ENUMERATED {mbw6, mbw15, mbw25, mbw50, mbw75, mbw100}

-- TAG-EUTRA-ALLOWED-MEAS-BANDWIDTH-STOP
-- ASN1STOP

–	EUTRA-MBSFN-SubframeConfigList
The IE EUTRA-MBSFN-SubframeConfigList is used to define an E-UTRA MBSFN subframe pattern (for the purpose of NR rate matching).
EUTRA-MBSFN-SubframeConfigList information element
-- ASN1START
-- TAG-EUTRA-MBSFN-SUBFRAMECONFIGLIST-START

EUTRA-MBSFN-SubframeConfigList ::= 	SEQUENCE (SIZE (1..maxMBSFN-Allocations)) OF EUTRA-MBSFN-SubframeConfig

EUTRA-MBSFN-SubframeConfig ::=      SEQUENCE {
    radioframeAllocationPeriod          ENUMERATED {n1, n2, n4, n8, n16, n32},
    radioframeAllocationOffset          INTEGER (0..7),
    subframeAllocation1                 CHOICE {
        oneFrame                            BIT STRING (SIZE(6)),
        fourFrames                          BIT STRING (SIZE(24))
    },
    subframeAllocation2                 CHOICE {
        oneFrame                            BIT STRING (SIZE(2)),
        fourFrames                          BIT STRING (SIZE(8))
    }                                                                                                                   OPTIONAL,   -- Need R
    ...
}

-- TAG-EUTRA-MBSFN-SUBFRAMECONFIGLIST-STOP
-- ASN1STOP

EUTRA-MBSFN-SubframeConfig field descriptions
radioframeAllocationOffset
Field as defined in MBSFN-SubframeConfig in 36.331
radioframeAllocationPeriod
Field as defined in MBSFN-SubframeConfig in 36.331
subframeAllocation1
Field as defined in MBSFN-SubframeConfig in 36.331
subframeAllocation2
Field as defined in MBSFN-SubframeConfig-v1430 in 36.331

–	EUTRA-MultiBandInfoList
The IE EUTRA-MultiBandInfoList indicates the list of frequency bands in addition to the band represented by CarrierFreq for which cell reselection parameters are common, and a list of additionalPmax and additionalSpectrumEmission.
EUTRA-MultiBandInfoList information element
-- ASN1START
-- TAG-EUTRA-MULTI-BAND-INFO-LIST-START

EUTRA-MultiBandInfoList ::=     SEQUENCE (SIZE (1..maxMultiBands)) OF EUTRA-MultiBandInfo

EUTRA-MultiBandInfo ::=         SEQUENCE {
    eutra-FreqBandIndicator         FreqBandIndicatorEUTRA,
    eutra-NS-PmaxList               EUTRA-NS-PmaxList                           OPTIONAL    -- Need R
}

-- TAG-EUTRA-MULTI-BAND-INFO-LIST-STOP
-- ASN1STOP

–	EUTRA-NS-PmaxList
The IE EUTRA-NS-PmaxList concerns a list of additionalPmax and additionalSpectrumEmission, as defined in TS 36.101 [22, table 6.2.4-1] for UEs neither in CE nor BL UEs and TS 36.101 [22, table 6.2.4E-1] for UEs in CE or BL UEs, for a given frequency band.
EUTRA-NS-PmaxList information element
-- ASN1START
-- TAG-EUTRA-NS-PMAX-LIST-START

EUTRA-NS-PmaxList ::=               SEQUENCE (SIZE (1..maxEUTRA-NS-Pmax)) OF EUTRA-NS-PmaxValue

EUTRA-NS-PmaxValue ::=              SEQUENCE {
    additionalPmax                      INTEGER (-30..33)                       OPTIONAL,   -- Need R
    additionalSpectrumEmission          INTEGER (1..288)                        OPTIONAL    -- Need R
}

-- TAG-EUTRA-NS-PMAX-LIST-STOP
-- ASN1STOP

–	EUTRA-PhysCellId
The IE EUTRA-PhysCellId is used to indicate the physical layer identity of the cell, as defined in TS 36.211 [21].
EUTRA-PhysCellId information element
-- ASN1START
-- TAG-EUTRA-PHYS-CELL-ID-START

EUTRA-PhysCellId ::=                        INTEGER (0..503)

-- TAG-EUTRA-PHYS-CELL-ID-STOP
-- ASN1STOP

–	EUTRA-PhysCellIdRange
The IE EUTRA-PhysCellIdRange is used to encode either a single or a range of physical cell identities. The range is encoded by using a start value and by indicating the number of consecutive physical cell identities (including start) in the range. For fields comprising multiple occurrences of EUTRA-PhysCellIdRange, NW may configure overlapping ranges of physical cell identities.
EUTRA-PhysCellIdRange information element
-- ASN1START
-- TAG-EUTRA-PHYS-CELL-ID-RANGE-START

EUTRA-PhysCellIdRange ::=       SEQUENCE {
    start                           EUTRA-PhysCellId,
    range                           ENUMERATED {n4, n8, n12, n16, n24, n32, n48, n64, n84, n96,
                                                n128, n168, n252, n504, spare2, spare1}                             OPTIONAL    -- Need N
}

-- TAG-EUTRA-PHYS-CELL-ID-RANGE-STOP
-- ASN1STOP

–	EUTRA-PresenceAntennaPort1
The IE EUTRA-PresenceAntennaPort1 is used to indicate whether all the neighbouring cells use Antenna Port 1. When set to TRUE, the UE may assume that at least two cell-specific antenna ports are used in all neighbouring cells.
EUTRA-PresenceAntennaPort1 information element
-- ASN1START
-- TAG-EUTRA-PRESENCE-ANTENNA-PORT1-START

EUTRA-PresenceAntennaPort1 ::=              BOOLEAN

-- TAG-EUTRA-PRESENCE-ANTENNA-PORT1-STOP
-- ASN1STOP

–	EUTRA-Q-OffsetRange
The IE EUTRA-Q-OffsetRange is used to indicate a cell, or frequency specific offset to be applied when evaluating candidates for cell re-selection or when evaluating triggering conditions for measurement reporting. The value in dB. Value dB-24 corresponds to -24 dB, dB-22 corresponds to -22 dB and so on.
EUTRA-Q-OffsetRange information element
-- ASN1START

EUTRA-Q-OffsetRange ::=                     ENUMERATED {
                                                dB-24, dB-22, dB-20, dB-18, dB-16, dB-14,
                                                dB-12, dB-10, dB-8, dB-6, dB-5, dB-4, dB-3,
                                                dB-2, dB-1, dB0, dB1, dB2, dB3, dB4, dB5,
                                                dB6, dB8, dB10, dB12, dB14, dB16, dB18,
                                                dB20, dB22, dB24}

-- ASN1STOP

–	MultiFrequencyBandListNR-SIB
The IE MultiFrequencyBandListNR-SIB indicates the list of frequency bands in addition to the band represented by dl-CarrierFreq for which cell reselection parameters are common, and a list of additionalPmax and additionalSpectrumEmission
MultiFrequencyBandListNR-SIB information element
-- ASN1START
-- TAG-MULTIFREQUENCYBANDLISTNR-SIB-START

MultiFrequencyBandListNR-SIB ::=            SEQUENCE (SIZE (1.. maxNrofMultiBands)) OF NR-MultiBandInfo

NR-MultiBandInfo ::=                        SEQUENCE {
            freqBandIndicatorNR                 FreqBandIndicatorNR         OPTIONAL,   -- Cond OptULNotSIB2
            nr-NS-PmaxList                  NR-NS-PmaxList                  OPTIONAL    -- Need S
}

-- TAG-MULTIFREQUENCYBANDLISTNR-SIB-STOP
-- ASN1STOP

NR-MultiBandInfo field descriptions
freqBandIndicatorNR
Absolute frequency of the reference resource block (Common RB 0).
nr-NS-PmaxList
Provides a list of additionalPmax and additionalSpectrumEmission values as defined in TS 38.101 [table 6.2.3-1].

Conditional Presence
Explanation
OptULNotSIB2
The field is not present for SIB2 and is mandatory present in frequencyInfoDL-SIB. Otherwise, if the field is not present in frequencyInfoUL-SIB in UplinkConfigCommonSIB, the UE will use the frequency band indicated in frequencyInfoDL-SIB in DownlinkConfigCommonSIB.

–	NR-NS-PmaxList
The IE NR-NS-PmaxList is used to configure a list of additionalPmax and additionalSpectrumEmission, as defined in TS 38.101 [xx, table 6.2.3-1] for a given frequency band.
NR-NS-PmaxList information element
-- ASN1START
-- TAG-NR-NS-PMAXLIST-START

NR-NS-PmaxList ::=                          SEQUENCE (SIZE (1..maxNR-NS-Pmax)) OF NR-NS-PmaxValue

NR-NS-PmaxValue ::=                     SEQUENCE {
    additionalPmax                              P-Max                               OPTIONAL,   -- Need N
    additionalSpectrumEmission              AdditionalSpectrumEmission
}

-- TAG-NR-NS-PMAXLIST-STOP
-- ASN1STOP

–	OtherConfig
The IE OtherConfig contains configuration related to other configuration
OtherConfig information element
-- ASN1START
-- TAG-OTHERCONFIG-START

OtherConfig ::=                 SEQUENCE    {
    delayBudgetReportingConfig  CHOICE{
            release                 NULL,
            setup                   SEQUENCE{
                delayBudgetReportingProhibitTimer   ENUMERATED {s0, s0dot4, s0dot8, s1dot6, s3, s6, s12, s30}
            }
    }                                                               OPTIONAL        -- Need N
}

-- TAG-OTHERCONFIG-STOP
-- ASN1STOP

OtherConfig field descriptions
delayBudgetReportingProhibitTimer
Prohibit timer for delay budget reporting. Value in seconds. Value s0 means prohibit timer is set to 0 second, value s0dot4 means prohibit timer is set to 0.4 second, and so on.

–	RRC-TransactionIdentifier
The IE RRC-TransactionIdentifier is used, together with the message type, for the identification of an RRC procedure (transaction).
RRC-TransactionIdentifier information element
-- ASN1START
-- TAG-RRC-TRANSACTIONIDENTIFIER-START

RRC-TransactionIdentifier ::=       INTEGER (0..3)

-- TAG-RRC-TRANSACTIONIDENTIFIER-STOP
-- ASN1STOP

6.4	RRC multiplicity and type constraint values
–	Multiplicity and type constraint definitions
-- ASN1START
-- TAG-MULTIPLICITY-AND-TYPE-CONSTRAINT-DEFINITIONS-START

maxBandComb                             INTEGER ::= 65536   -- Maximum number of DL band combinations
maxCellBlack                            INTEGER ::= 16      -- Maximum number of NR blacklisted cell ranges in SIB3, SIB4
maxCellInter                            INTEGER ::= 16      -- Maximum number of inter-Freq cells listed in SIB4
maxCellIntra                            INTEGER ::= 16      -- Maximum number of intra-Freq cells listed in SIB3
maxCellMeasEUTRA                        INTEGER ::= 32      -- Maximum number of cells in EUTRAN
maxEARFCN                               INTEGER ::= 262143  -- Maximum value of EUTRA carrier frequency
maxEUTRA-CellBlack                      INTEGER ::= 16      -- Maximum number of EUTRA-blacklisted physical cell identity ranges in SIB5
maxEUTRA-NS-Pmax                        INTEGER ::= 8       -- Maximum number of NS and P-Max values per band
maxMultiBands                           INTEGER ::= 8       -- Maximum number of additional frequency bands that a cell belongs to
maxNARFCN                               INTEGER ::= 3279165 -- Maximum value of NR carrier frequency
maxNR-NS-Pmax                           INTEGER ::= 8       -- Maximum number of NS and P-Max values per band
maxNrofServingCells                     INTEGER ::= 32      -- Max number of serving cells (SpCell + SCells) per cell group
maxNrofServingCells-1                   INTEGER ::= 31      -- Max number of serving cells (SpCell + SCells) per cell group minus 1
maxNrofAggregatedCellsPerCellGroup      INTEGER ::= 16
maxNrofSCells                           INTEGER ::= 31      -- Max number of secondary serving cells per cell group
maxNrofCellMeas                         INTEGER ::= 32      -- Maximum number of entries in each of the cell lists in a measurement object
maxNrofSS-BlocksToAverage               INTEGER ::= 16      -- Max number for the (max) number of SS blocks to average to determine cell
                                                            -- measurement
maxNrofCSI-RS-ResourcesToAverage        INTEGER ::= 16      -- Max number for the (max) number of CSI-RS to average to determine cell
                                                            -- measurement
maxNrofDL-Allocations                   INTEGER ::= 16      -- Maximum number of PDSCH time domain resource allocations

maxNrofSR-ConfigPerCellGroup            INTEGER ::= 8       -- Maximum number of SR configurations per cell group

maxLCG-ID                               INTEGER ::= 7       -- Maximum value of LCG ID
maxLC-ID                                INTEGER ::= 32      -- Maximum value of Logical Channel ID
maxNrofTAGs                             INTEGER ::= 4       -- Maximum number of Timing Advance Groups
maxNrofTAGs-1                           INTEGER ::= 3       -- Maximum number of Timing Advance Groups minus 1

maxNrofBWPs                             INTEGER ::= 4       -- Maximum number of BWPs per serving cell
maxNrofCombIDC                          INTEGER ::= 128     -- Maximum number of reported MR-DC combinations for IDC
maxNrofSymbols-1                        INTEGER ::= 13      -- Maximum index identifying a symbol within a slot (14 symbols, indexed from 0..13)
maxNrofSlots                            INTEGER ::= 320     -- Maximum number of slots in a 10 ms period
maxNrofSlots-1                          INTEGER ::= 319     -- Maximum number of slots in a 10 ms period minus 1

maxNrofPhysicalResourceBlocks           INTEGER ::= 275     -- Maximum number of PRBs
maxNrofPhysicalResourceBlocks-1         INTEGER ::= 274     -- Maximum number of PRBs minus 1
maxNrofPhysicalResourceBlocksPlus1      INTEGER ::= 276     -- Maximum number of PRBs plus 1
maxNrofControlResourceSets-1            INTEGER ::= 11      -- Max number of CoReSets configurable on a serving cell minus 1
maxCoReSetDuration                      INTEGER ::= 3       -- Max number of OFDM symbols in a control resource set
maxNrofSearchSpaces-1                   INTEGER ::= 39      -- Max number of Search Spaces minus 1
maxSFI-DCI-PayloadSize                  INTEGER ::= 128     -- Max number payload of a DCI scrambled with SFI-RNTI
maxSFI-DCI-PayloadSize-1                INTEGER ::= 127     -- Max number payload of a DCI scrambled with SFI-RNTI minus 1
maxINT-DCI-PayloadSize                  INTEGER ::= 126     -- Max number payload of a DCI scrambled with INT-RNTI
maxINT-DCI-PayloadSize-1                INTEGER ::= 125     -- Max number payload of a DCI scrambled with INT-RNTI minus 1
maxNrofRateMatchPatterns                INTEGER ::= 4       -- Max number of rate matching patterns that may be configured
maxNrofRateMatchPatterns-1              INTEGER ::= 3       -- Max number of rate matching patterns that may be configured minus 1
maxNrofRateMatchPatternsPerGroup        INTEGER ::= 8       -- Max number of rate matching patterns that may be configured in one group

maxNrofCSI-ReportConfigurations         INTEGER ::= 48      -- Maximum number of report configurations
maxNrofCSI-ReportConfigurations-1       INTEGER ::= 47      -- Maximum number of report configurations minus 1

maxNrofCSI-ResourceConfigurations       INTEGER ::= 112     -- Maximum number of resource configurations
maxNrofCSI-ResourceConfigurations-1     INTEGER ::= 111     -- Maximum number of resource configurations minus 1

maxNrofAP-CSI-RS-ResourcesPerSet        INTEGER ::= 16
maxNrOfCSI-AperiodicTriggers            INTEGER ::= 128     -- Maximum number of triggers for aperiodic CSI reporting
maxNrofReportConfigPerAperiodicTrigger  INTEGER ::= 16      -- Maximum number of report configurations per trigger state for aperiodic reporting

maxNrofNZP-CSI-RS-Resources             INTEGER ::= 192     -- Maximum number of Non-Zero-Power (NZP) CSI-RS resources
maxNrofNZP-CSI-RS-Resources-1           INTEGER ::= 191     -- Maximum number of Non-Zero-Power (NZP) CSI-RS resources minus 1
maxNrofNZP-CSI-RS-ResourcesPerSet       INTEGER ::= 64      -- Maximum number of NZP CSI-RS resources per resource set
maxNrofNZP-CSI-RS-ResourceSets          INTEGER ::= 64      -- Maximum number of NZP CSI-RS resources per cell
maxNrofNZP-CSI-RS-ResourceSets-1        INTEGER ::= 63      -- Maximum number of NZP CSI-RS resources per cell minus 1
maxNrofNZP-CSI-RS-ResourceSetsPerConfig INTEGER ::= 16      -- Maximum number of resource sets per resource configuration
maxNrofNZP-CSI-RS-ResourcesPerConfig    INTEGER ::= 128     -- Maximum number of resources per resource configuration

maxNrofZP-CSI-RS-Resources              INTEGER ::= 32      -- Maximum number of Zero-Power (NZP) CSI-RS resources
maxNrofZP-CSI-RS-Resources-1            INTEGER ::= 31      -- Maximum number of Zero-Power (NZP) CSI-RS resources minus 1
maxNrofZP-CSI-RS-ResourceSets-1         INTEGER ::= 15
maxNrofZP-CSI-RS-ResourcesPerSet        INTEGER ::= 16
maxNrofZP-CSI-RS-ResourceSets           INTEGER ::= 16

maxNrofCSI-IM-Resources                 INTEGER ::= 32      -- Maximum number of CSI-IM resources. See CSI-IM-ResourceMax in 38.214.
maxNrofCSI-IM-Resources-1               INTEGER ::= 31      -- Maximum number of CSI-IM resources minus 1. See CSI-IM-ResourceMax in 38.214.
maxNrofCSI-IM-ResourcesPerSet           INTEGER ::= 8       -- Maximum number of CSI-IM resources per set. See CSI-IM-ResourcePerSetMax in 38.214
maxNrofCSI-IM-ResourceSets              INTEGER ::= 64      -- Maximum number of NZP CSI-IM resources per cell
maxNrofCSI-IM-ResourceSets-1            INTEGER ::= 63      -- Maximum number of NZP CSI-IM resources per cell minus 1
maxNrofCSI-IM-ResourceSetsPerConfig     INTEGER ::= 16      -- Maximum number of CSI IM resource sets per resource configuration

maxNrofCSI-SSB-ResourcePerSet           INTEGER ::= 64      -- Maximum number of SSB resources in a resource set
maxNrofCSI-SSB-ResourceSets             INTEGER ::= 64      -- Maximum number of CSI SSB resource sets per cell
maxNrofCSI-SSB-ResourceSets-1           INTEGER ::= 63      -- Maximum number of CSI SSB resource sets per cell minus 1
maxNrofCSI-SSB-ResourceSetsPerConfig    INTEGER ::= 1       -- Maximum number of CSI SSB resource sets per resource configuration

maxNrofFailureDetectionResources        INTEGER ::= 10      -- Maximum number of failure detection resources
maxNrofFailureDetectionResources-1      INTEGER ::= 9       -- Maximum number of failure detection resources minus 1

maxNrofObjectId                         INTEGER ::= 64      -- Maximum number of measurement objects
maxNrofPageRec                          INTEGER ::= 32      -- Maximum number of page records
maxNrofPCI-Ranges                       INTEGER ::= 8       -- Maximum number of PCI ranges
maxPLMN                                 INTEGER ::= 12      -- Maximum number of PLMNs broadcast and reported by UE at establisghment
maxNrofCSI-RS-ResourcesRRM              INTEGER ::= 96      -- Maximum number of CSI-RS resources for an RRM measurement object
maxNrofCSI-RS-ResourcesRRM-1            INTEGER ::= 95      -- Maximum number of CSI-RS resources for an RRM measurement object minus 1
maxNrofMeasId                           INTEGER ::= 64      -- Maximum number of configured measurements
maxNrofQuantityConfig                   INTEGER ::= 2       -- Maximum number of quantity configurations
maxNrofCSI-RS-CellsRRM                  INTEGER ::= 96      -- Maximum number of FFS

maxNrofSRS-ResourceSets                 INTEGER ::= 16      -- Maximum number of SRS resource sets in a BWP.
maxNrofSRS-ResourceSets-1               INTEGER ::= 15      -- Maximum number of SRS resource sets in a BWP minus 1.
maxNrofSRS-Resources                    INTEGER ::= 64      -- Maximum number of SRS resources.
maxNrofSRS-Resources-1                  INTEGER ::= 63      -- Maximum number of SRS resources in an SRS resource set minus 1.
maxNrofSRS-ResourcesPerSet              INTEGER ::= 16      -- Maximum number of SRS resources in an SRS resource set
maxNrofSRS-TriggerStates-1              INTEGER ::= 3       -- Maximum number of SRS trigger states minus 1, i.e., the largest code point.
maxNrofSRS-TriggerStates-2              INTEGER ::= 2       -- Maximum number of SRS trigger states minus 2.
maxRAT-CapabilityContainers             INTEGER ::= 8       -- Maximum number of interworking RAT containers (incl NR and MRDC)
maxSimultaneousBands                    INTEGER ::= 32      -- Maximum number of simultaneously aggregated bands


maxNrofSlotFormatCombinationsPerSet     INTEGER ::= 512     -- Maximum number of Slot Format Combinations in a SF-Set.
maxNrofSlotFormatCombinationsPerSet-1   INTEGER ::= 511     -- Maximum number of Slot Format Combinations in a SF-Set minus 1.
maxNrofPUCCH-Resources                  INTEGER ::= 128
maxNrofPUCCH-Resources-1                INTEGER ::= 127
maxNrofPUCCH-ResourceSets               INTEGER ::= 4       -- Maximum number of PUCCH Resource Sets
maxNrofPUCCH-ResourceSets-1             INTEGER ::= 3       -- Maximum number of PUCCH Resource Sets minus 1.
maxNrofPUCCH-ResourcesPerSet            INTEGER ::= 32      -- Maximum number of PUCCH Resources per PUCCH-Resour©ceSet
maxNrofPUCCH-P0-PerSet                  INTEGER ::= 8       -- Maximum number of P0-pucch present in a p0-pucch set
maxNrofPUCCH-PathlossReferenceRSs       INTEGER ::= 4       -- Maximum number of RSs used as pathloss reference for PUCCH power control.
maxNrofPUCCH-PathlossReferenceRSs-1     INTEGER ::= 3       -- Maximum number of RSs used as pathloss reference for PUCCH power control minus 1.

maxNrofP0-PUSCH-AlphaSets               INTEGER ::= 30      -- Maximum number of P0-pusch-alpha-sets (see 38,213, section 7.1)
maxNrofP0-PUSCH-AlphaSets-1             INTEGER ::= 29      -- Maximum number of P0-pusch-alpha-sets minus 1 (see 38,213, section 7.1)
maxNrofPUSCH-PathlossReferenceRSs       INTEGER ::= 4       -- Maximum number of RSs used as pathloss reference for PUSCH power control.
maxNrofPUSCH-PathlossReferenceRSs-1     INTEGER ::= 3       -- Maximum number of RSs used as pathloss reference for PUSCH power control minus 1.
maxNrofNAICS-Entries                    INTEGER ::= 8       -- Maximum number of supported NAICS capability set
maxBands                                INTEGER ::= 1024    -- Maximum number of supported bands in UE capability.
maxBandsMRDC                            INTEGER ::= 1280
maxBandsEUTRA                           INTEGER ::= 256
maxCellReport                           INTEGER ::= 8
maxDRB                                  INTEGER ::= 29      -- Maximum number of DRBs (that can be added in DRB-ToAddModLIst).
maxFreq                                 INTEGER ::= 8       -- Max number of frequencies.
maxFreqIDC-MRDC                         INTEGER ::= 32      -- Maximum number of candidate NR frequencies for MR-DC IDC indication
maxNrofCSI-RS                           INTEGER ::= 64
maxNrofCandidateBeams                   INTEGER ::= 16      -- Max number of PRACH-ResourceDedicatedBFR that in BFR config.
maxNrofPCIsPerSMTC                      INTEGER ::= 64      -- Maximun number of PCIs per SMTC.
maxNrofQFIs                             INTEGER ::= 64
maxNrOfSemiPersistentPUSCH-Triggers     INTEGER ::= 64      -- Maximum number of triggers for semi persistent reporting on PUSCH
maxNrofSR-Resources                     INTEGER ::= 8       -- Maximum number of SR resources per BWP in a cell.
maxNrofSlotFormatsPerCombination        INTEGER ::= 256
maxNrofSpatialRelationInfos             INTEGER ::= 8
maxNrofIndexesToReport                  INTEGER ::= 32
maxNrofIndexesToReport2                 INTEGER ::= 64
maxNrofSSBs                             INTEGER ::= 64      -- Maximum number of SSB resources in a resource set.
maxNrofSSBs-1                           INTEGER ::= 63      -- Maximum number of SSB resources in a resource set minus 1.
maxNrofS-NSSAI                          INTEGER ::= 8       -- Maximum number of S-NSSAI.
maxNrofTCI-StatesPDCCH                  INTEGER ::= 64
maxNrofTCI-States                       INTEGER ::= 128     -- Maximum number of TCI states.
maxNrofTCI-States-1                     INTEGER ::= 127     -- Maximum number of TCI states minus 1.
maxNrofUL-Allocations                   INTEGER ::= 16      -- Maximum number of PUSCH time domain resource allocations.
maxQFI                                  INTEGER ::= 63
maxRA-CSIRS-Resources                   INTEGER ::= 96
maxRA-OccasionsPerCSIRS                 INTEGER ::= 64      -- Maximum number of RA occasions for one CSI-RS
maxRA-Occasions-1                       INTEGER ::= 511     -- Maximum number of RA occasions in the system
maxRA-SSB-Resources                     INTEGER ::= 64
maxSCSs                                 INTEGER ::= 5
maxSecondaryCellGroups                  INTEGER ::= 3
maxNrofServingCellsEUTRA                INTEGER ::= 32
maxMBSFN-Allocations                    INTEGER ::= 8
maxNrofMultiBands                       INTEGER ::= 8
maxCellSFTD                             INTEGER ::= 3       -- Maximum number of cells for SFTD reporting
maxReportConfigId                       INTEGER ::= 64
maxNrofCodebooks                        INTEGER ::= 16      -- Maximum number of codebooks suppoted by the UE

maxNrofSRI-PUSCH-Mappings               INTEGER ::= 16
maxNrofSRI-PUSCH-Mappings-1             INTEGER ::= 15
maxSIB                                  INTEGER::= 32       -- Maximum number of SIBs
maxSIB-1                                INTEGER::= 31
maxSI-Message                           INTEGER::= 32       -- Maximum number of SI messages

maxAccessCat-1                          INTEGER ::= 63      -- Maximum number of Acccess Categories minus 1
maxBarringInfoSet                       INTEGER ::= 8       -- Maximum number of Acccess Categories
maxCellEUTRA                            INTEGER ::= 8       -- Maximum number of EUTRA cells in SIB list
maxEUTRA-Carrier                        INTEGER ::= 8       -- Maximum number of EUTRA carriers in SIB list
maxPLMNIdentities                       INTEGER ::= 8       -- Maximum number of PLMN identites in RAN area configurations

maxDownlinkFeatureSets                  INTEGER ::= 1024    -- (for NR DL) Total number of FeatureSets (size of the pool)
maxUplinkFeatureSets                    INTEGER ::= 1024    -- (for NR UL) Total number of FeatureSets (size of the pool)
maxEUTRA-DL-FeatureSets                 INTEGER ::= 256     -- (for EUTRA) Total number of FeatureSets (size of the pool)
maxEUTRA-UL-FeatureSets                 INTEGER ::= 256     -- (for EUTRA) Total number of FeatureSets (size of the pool)
maxFeatureSetsPerBand                   INTEGER ::= 128     -- (for NR) The number of feature sets associated with one band.
maxPerCC-FeatureSets                    INTEGER ::= 1024    -- (for NR) Total number of CC-specific FeatureSets (size of the pool)
maxFeatureSetCombinations               INTEGER ::= 1024    -- (for MR-DC/NR)Total number of Feature set combinations (size of the pool)

maxInterRAT-RSTD-Freq                   INTEGER ::= 3


-- TAG-MULTIPLICITY-AND-TYPE-CONSTRAINT-DEFINITIONS-STOP
-- ASN1STOP
–	
End of NR-RRC-Definitions
-- ASN1START

END

-- ASN1STOP

6.5	Short message
Short messages can be transmitted on PDCCH using P-RNTI with or without associated Paging message using Short Message field in DCI format 1_0 (see TS 38.212 [17, 7.3.1.2.1]).
Table 6.5-1 defines Short Messages. Bit 1 is the most significant bit.
Table 6.5-1: Short messages
Bit
Short message
1
systemInfoModification
If set to 1: indication of a BCCH modification other than SIB6, SIB7 and SIB8.
2
etwsAndCmasIndication
If set to 1: indication of an ETWS primary notification and/or an ETWS secondary notification and/or a CMAS notification.
3 – [8]
Not used in this release of the specification, and shall be ignored by UE if received.

7	Variables and constants
7.1	Timers
7.1.1	Timers (Informative)
Timer
Start
Stop
At expiry
T300
Upon transmission of RRCSetupRequest.
Upon reception of RRCSetup or RRCReject message, cell re-selection and upon abortion of connection establishment by upper layers.
Perform the actions as specified in 5.3.3.6. 
T301
Upon transmission of RRCReestabilshmentRequest
Upon reception of RRCReestablishment or RRCSetupmessage as well as when the selected cell becomes unsuitable
Go to RRC_IDLE
T302
Upon reception of RRCReject while performing RRC connection establishment or resume.
Upon entering RRC_CONNECTED and upon cell re-selection.
Inform upper layers about barring alleviation as specified in 5.3.14.4
T304
Upon reception of RRCReconfiguration message including reconfigurationWithSync
Upon successful completion of random access on the corresponding SpCell
For T304 of SCG, upon SCG release
For T304 of MCG, in case of the handover from NR or intra-NR handover, initiate the RRC re-establishment procedure; In case of handover to NR, perform the actions defined in the specifications applicable for the source RAT.

For T304 of SCG, inform network about the reconfiguration with sync failure by initiating the SCG failure information procedure as specified in 5.7.3.
T310

Upon detecting physical layer problems for the SpCell i.e. upon receiving N310 consecutive out-of-sync indications from lower layers.
Upon receiving N311 consecutive in-sync indications from lower layers for the SpCell, upon receiving RRCReconfiguration with reconfigurationWithSync for that cell group, and upon initiating the connection re-establishment procedure.
Upon SCG release, if the T310 is kept in SCG.

If the T310 is kept in MCG: If security is not activated: go to RRC_IDLE else: initiate the connection re-establishment procedure.
If the T310 is kept in SCG, Inform E-UTRAN/NR about the SCG radio link failure by initiating the SCG failure information procedure as specified in 5.7.3.
T311

Upon initiating the RRC connection re-establishment procedure
Upon selection of a suitable NR cell or a cell using another RAT.
Enter RRC_IDLE
T319
Upon transmission of RRCResumeRequest.
Upon reception of RRCResume, RRCSetup, RRCRelease, RRCRelease with suspendConfig or RRCReject message, cell re-selection and upon abortion of connection establishment by upper layers.
Perform the actions as specified in 5.3.13.5.
T320
Upon reception of t320 or upon cell (re)selection to NR from another RAT with validity time configured for dedicated priorities (in which case the remaining validity time is applied).
Upon entering RRC_CONNECTED, upon reception of RRCRelease, when PLMN selection is performed on request by NAS, or upon cell (re)selection to another RAT (in which case the timer is carried on to the other RAT).
Discard the cell reselection priority information provided by dedicated signalling.
T321
Upon receiving measConfig including a reportConfig with the purpose set to reportCGI
Upon acquiring the information needed to set all fields of cgi-info, upon receiving measConfig that includes removal of the reportConfig with the purpose set to reportCGI and upon detecting that a cell is not broadcasting SIB1.  
Initiate the measurement reporting procedure, stop performing the related measurements and remove the corresponding measId.
T325
Upon reception of RRCRelease message with deprioritisationTimer.

Stop deprioritisation of all frequencies or NR signalled by RRCRelease.
T380
Upon reception of RRCRelease including suspendConfig .
Upon reception of RRCResume, RRCSetup or RRCRelease. .

Perform the actions as specified in 5.3.13.
T390
When access attempt is barred at access barring check for an Access Category. The UE shall maintain one instance of this timer per Access Category.
As specified in 5.3.14.3.
Perform the actions as specified in 5.3.14.4.
T3xx
Upon transmitting UEAssistanceInformation message with DelayBudgetReport.
Upon initiating the connection re-establishment procedures
No action.

7.1.2	Timer handling
When the UE applies zero value for a timer, the timer shall be started and immediately expire unless explicitly stated otherwise.
7.2	Counters
Counter
Reset
Incremented
When reaching max value
N310
Upon reception of "in-sync" indication from lower layers;
upon receiving RRCReconfiguration with reconfigurationWithSync for that cell group;
upon initiating the connection re-establishment procedure.
Upon reception of "out-of-sync" from lower layer while the timer T310 is stopped.
Start timer T310
N311
Upon reception of "out-of-sync" indication from lower layers;
upon receiving RRCReconfiguration with reconfigurationWithSync for that cell group;
upon initiating the connection re-establishment procedure.
Upon reception of the "in-sync" from lower layer while the timer T310 is running.
Stop the timer T310.

7.3	Constants
Constant
Usage
N310
Maximum number of consecutive "out-of-sync" indications for the PCell received from lower layers
N311
Maximum number of consecutive "in-sync" indications for the PCell received from lower layers

7.4	UE variables
NOTE:	To facilitate the specification of the UE behavioural requirements, UE variables are represented using ASN.1. Unless explicitly specified otherwise, it is however up to UE implementation how to store the variables. The optionality of the IEs in ASN.1 is used only to indicate that the values may not always be available.
–	NR-UE-Variables
This ASN.1 segment is the start of the NR UE variable definitions.
-- ASN1START

NR-UE-Variables DEFINITIONS AUTOMATIC TAGS ::=

BEGIN

IMPORTS
    CellIdentity,
    MeasId,
    MeasIdToAddModList,
    MeasObjectToAddModList,
    PhysCellId,
    RNTI-Value,
    ReportConfigToAddModList,
    RSRP-Range,
    QuantityConfig,
    maxNrofCellMeas,
    maxNrofMeasId
FROM NR-RRC-Definitions;

-- ASN1STOP

–	VarPendingRNA-Update
The UE variable VarPendingRNA-Update indicates whether there is a pending RNA update procedure or not. The setting of this BOOLEAN variable to TRUE means that there is a pending RNA Update procedure.
VarPendingRNA-Update UE variable
-- ASN1START
-- TAG-VAR-PENDING-RNA-UPDATE-START

VarPendingRNA-Update ::=                    SEQUENCE {
    pendingRNA-Update                   BOOLEAN                             OPTIONAL
}

-- TAG-VAR-PENDING-RNA-UPDATE-STOP
-- ASN1STOP

–	VarMeasConfig
The UE variable VarMeasConfig includes the accumulated configuration of the measurements to be performed by the UE, covering intra-frequency, inter-frequency and inter-RAT mobility related measurements.
VarMeasConfig UE variable
-- ASN1START
-- TAG-VAR-MEAS-CONFIG-START

VarMeasConfig ::=                   SEQUENCE {
    -- Measurement identities
    measIdList                          MeasIdToAddModList                  OPTIONAL,
    -- Measurement objects
    measObjectList                      MeasObjectToAddModList              OPTIONAL,
    -- Reporting configurations
    reportConfigList                    ReportConfigToAddModList            OPTIONAL,
    -- Other parameters
    quantityConfig                      QuantityConfig                      OPTIONAL,

    s-MeasureConfig                         CHOICE {
        ssb-RSRP                                RSRP-Range,
        csi-RSRP                                RSRP-Range
    }                                                                       OPTIONAL

}

-- TAG-VAR-MEAS-CONFIG-STOP
-- ASN1STOP

–	VarMeasReportList
The UE variable VarMeasReportList includes information about the measurements for which the triggering conditions have been met.
VarMeasReportList UE variable
-- ASN1START
-- TAG-VAR-MEAS-REPORT-START

VarMeasReportList ::=               SEQUENCE (SIZE (1..maxNrofMeasId)) OF VarMeasReport

VarMeasReport ::=                   SEQUENCE {
    -- List of measurement that have been triggered
    measId                              MeasId,
    cellsTriggeredList                  CellsTriggeredList              OPTIONAL,
    numberOfReportsSent                 INTEGER
}

CellsTriggeredList ::=              SEQUENCE (SIZE (1..maxNrofCellMeas)) OF CHOICE {
    physCellId                          PhysCellId,
--  Not needed for EN-DC.
    physCellIdEUTRA                     ENUMERATED {ffsTypeAndValue}
    }


-- TAG-VAR-MEAS-REPORT-STOP
-- ASN1STOP

–	VarResumeMAC-Input
The UE variable VarResumeMAC-Input specifies the input used to generate the resumeMAC-I during RRC Connection Resume procedure.
VarResumeMAC-Input variable
-- ASN1START
-- TAG-VAR-RESUMEMACINPUT-START

VarResumeMAC-Input  ::=     SEQUENCE {
    sourcePhysCellId                        PhysCellId,
    targetCellIdentity                      CellIdentity,
    source-c-RNTI                           RNTI-Value

}

-- TAG-VAR-RESUMEMACINPUT-STOP
-- ASN1STOP

Editor's Note: FFS Additional input to VarResumeMAC-Input (replay attacks mitigation).
VarResumeMAC-Input field descriptions
targetCellIdentity
Set to CellIdentity of the target cell i.e. the cell the UE is trying to resume.
source-c-RNTI
Set to C-RNTI that the UE had in the PCell it was connected to prior to suspension of the RRC connection.
sourcePhysCellId
Set to the physical cell identity of the PCell the UE was connected to prior to suspension of the RRC connection.

–	VarShortMAC-Input
The UE variable VarShortMAC-Input specifies the input used to generate the shortMAC-I during RRC Connection Reestablishment procedure.
VarShortMAC-Input variable
-- ASN1START
-- TAG-VAR-SHORTMACINPUT-START

VarShortMAC-Input   ::=                 SEQUENCE {
    sourcePhysCellId                        PhysCellId,
    targetCellIdentity                      CellIdentity,
    source-c-RNTI                           RNTI-Value
}

-- TAG-VAR- SHORTMACINPUT-STOP
-- ASN1STOP

VarShortMAC-Input field descriptions
targetCellIdentity
Set to CellIdentity of the target cell i.e. the cell the UE is trying to reestablish the connection.
source-c-RNTI
Set to C-RNTI that the UE had in the PCell it was connected to prior to the reestablishment.
sourcePhysCellId
Set to the physical cell identity of the PCell the UE was connected to prior to the RRC connection.

–	End of NR-UE-Variables
-- ASN1START

END

-- ASN1STOP

8	Protocol data unit abstract syntax
8.1	General
The RRC PDU contents in clause 6 and clause 10 are described using abstract syntax notation one (ASN.1) as specified in ITU-T Rec. X.680 [6] and X.681 [7]. Transfer syntax for RRC PDUs is derived from their ASN.1 definitions by use of Packed Encoding Rules, unaligned as specified in ITU-T Rec. X.691 [8].
The following encoding rules apply in addition to what has been specified in X.691:
-	When a bit string value is placed in a bit-field as specified in 15.6 to 15.11 in X.691, the leading bit of the bit string value shall be placed in the leading bit of the bit-field, and the trailing bit of the bit string value shall be placed in the trailing bit of the bit-field;
NOTE:	The terms 'leading bit' and 'trailing bit' are defined in ITU-T Rec. X.680. When using the 'bstring' notation, the leading bit of the bit string value is on the left, and the trailing bit of the bit string value is on the right.
-	When decoding types constrained with the ASN.1 Contents Constraint ("CONTAINING"), automatic decoding of the contained type should not be performed because errors in the decoding of the contained type should not cause the decoding of the entire RRC message PDU to fail. It is recommended that the decoder first decodes the outer PDU type that contains the OCTET STRING or BIT STRING with the Contents Constraint, and then decodes the contained type that is nested within the OCTET STRING or BIT STRING as a separate step;
-	When decoding a) RRC message PDUs, b) BIT STRING constrained with a Contents Constraint, or c) OCTET STRING constrained with a Contents Constraint, PER decoders are required to never report an error if there are extraneous zero or non-zero bits at the end of the encoded RRC message PDU, BIT STRING or OCTET STRING.
8.2	Structure of encoded RRC messages
An RRC PDU, which is the bit string that is exchanged between peer entities/across the radio interface contains the basic production as defined in X.691.
RRC PDUs shall be mapped to and from PDCP SDUs (in case of DCCH) or RLC SDUs (in case of PCCH, BCCH or CCCH) upon transmission and reception as follows:
-	when delivering an RRC PDU as an PDCP SDU to the PDCP layer for transmission, the first bit of the RRC PDU shall be represented as the first bit in the PDCP SDU and onwards; and
-	when delivering an RRC PDU as an RLC SDU to the RLC layer for transmission, the first bit of the RRC PDU shall be represented as the first bit in the RLC SDU and onwards; and
-	upon reception of an PDCP SDU from the PDCP layer, the first bit of the PDCP SDU shall represent the first bit of the RRC PDU and onwards; and
-	upon reception of an RLC SDU from the RLC layer, the first bit of the RLC SDU shall represent the first bit of the RRC PDU and onwards.
8.3	Basic production
The 'basic production' is obtained by applying UNALIGNED PER to the abstract syntax value (the ASN.1 description) as specified in X.691. It always contains a multiple of 8 bits.
8.4	Extension
The following rules apply with respect to the use of protocol extensions:
-	A transmitter compliant with this version of the specification shall, unless explicitly indicated otherwise on a PDU type basis, set the extension part empty. Transmitters compliant with a later version may send non-empty extensions;
-	A transmitter compliant with this version of the specification shall set spare bits to zero.
8.5	Padding
If the encoded RRC message does not fill a transport block, the RRC layer shall add padding bits. This applies to PCCH and BCCH.
Padding bits shall be set to 0 and the number of padding bits is a multiple of 8.

Figure 8.5-1: RRC level padding
9	Specified and default radio configurations
Specified and default configurations are configurations of which the details are specified in the standard. Specified configurations are fixed while default configurations can be modified using dedicated signalling. The default value for the parameters not listed in following subclauses shall be set such as the corresponding features are not configured, i.e. release or false unless explicitly stated otherwise.
NOTE 1: The default values specified in the field description of the parameters are not referred as default values in this clause.
9.1	Specified configurations
9.1.1	Logical channel configurations
9.1.1.1	BCCH configuration
Parameters
Name
Value
Semantics description
Ver
SDAP configuration
Not used


PDCP configuration
Not used


RLC configuration
TM


Logical channel configuration
Not used



NOTE:	RRC will perform padding, if required due to the granularity of the TF signalling, as defined in 8.5.
9.1.1.2	CCCH configuration
Parameters
Name
Value
Semantics description
Ver
SDAP configuration
Not used


PDCP configuration
Not used


RLC configuration
TM


Logical channel configuration



>priority
1
Highest priority

>prioritisedBitRate
infinity


>bucketSizeDuration
ms1000


>logicalChannelGroup
0



9.1.1.3	PCCH configuration
Parameters
Name
Value
Semantics description
Ver
SDAP configuration
Not used


PDCP configuration
Not used


RLC configuration
TM


Logical channel configuration
Not used



NOTE:	RRC will perform padding, if required due to the granularity of the TF signalling, as defined in 8.5.
9.1.2	Void
9.2	Default radio configurations
The following sections only list default values for REL-15 parameters included in protocol version v15.3.0. For all fields introduced in a later protocol version, the default value is "released" unless explicitly specified otherwise. If UE is to apply default configuration while it is configured with some critically extended fields, the UE shall apply the original version with only default values.
NOTE 1: 	In general, the signalling should preferably support a "release" option for fields introduced after v15.3.0. The "value not applicable" should be used restrictively, mainly limited to for fields which value is relevant only if another field is set to a value other than its default.
NOTE 2: 	For parameters in ServingCellConfig, the default values are specified in the corresponding specification.
9.2.1	Default SRB configurations
Parameters
Name
Value
Semantics description
Ver

SRB1/1S
SRB2/2S
SRB3


PDCP-Config
>t-Reordering

infinity


RLC-Config CHOICE
Am


ul-RLC-Config
>sn-FieldLength
>t-PollRetransmit
>pollPDU
>pollByte
>maxRetxThreshold

size12
ms45
infinity
infinity
t8


dl-RLC-Config
>sn-FieldLength
>t-Reassembly
>t-StatusProhibit

size12
ms35
ms0


logicalChannelIdentity
1
2
3


LogicalChannelConfig



>priority
1
3
1


>prioritisedBitRate
infinity


>logicalChannelGroup
0



9.2.2	Default MAC Cell Group configuration
Parameters
Name
Value
Semantics description
Ver
MAC Cell Group configuration



bsr-Config



>periodicBSR-Timer
sf10


>retxBSR-Timer
sf80


phr-Config



>phr-PeriodicTimer
sf10


>phr-ProhibitTimer
sf10


>phr-Tx-PowerFactorChange 
dB1


>phr-ModeOtherCG
real



9.2.3	Default values timers and constants
Parameters
Name
Value
Semantics description
Ver
t310
ms1000


n310
n1


t311
ms30000


n311
n1



10	Generic error handling
10.1	General
The generic error handling defined in the subsequent sub-clauses applies unless explicitly specified otherwise e.g. within the procedure specific error handling.
The UE shall consider a value as not comprehended when it is set:
-	to an extended value that is not defined in the version of the transfer syntax supported by the UE;
-	to a spare or reserved value unless the specification defines specific behaviour that the UE shall apply upon receiving the concerned spare/reserved value.
The UE shall consider a field as not comprehended when it is defined:
-	as spare or reserved unless the specification defines specific behaviour that the UE shall apply upon receiving the concerned spare/reserved field.
10.2	ASN.1 violation or encoding error
The UE shall:
1>	when receiving an RRC message on the [BCCH] for which the abstract syntax is invalid [6]:
2>	ignore the message.
NOTE:	This section applies in case one or more fields is set to a value, other than a spare, reserved or extended value, not defined in this version of the transfer syntax. E.g. in the case the UE receives value 12 for a field defined as INTEGER (1..11). In cases like this, it may not be possible to reliably detect which field is in the error hence the error handling is at the message level.
10.3	Field set to a not comprehended value
The UE shall, when receiving an RRC message on any logical channel:
1>	if the message includes a field that has a value that the UE does not comprehend:
2>	if a default value is defined for this field:
3>	treat the message while using the default value defined for this field;
2>	else if the concerned field is optional:
3>	treat the message as if the field were absent and in accordance with the need code for absence of the concerned field;
2>	else:
3>	treat the message as if the field were absent and in accordance with sub-clause 10.4.
10.4	Mandatory field missing
The UE shall:
1>	if the message includes a field that is mandatory to include in the message (e.g. because conditions for mandatory presence are fulfilled) and that field is absent or treated as absent:
2>	if the RRC message was received on DCCH or CCCH:
3>	ignore the message;
2>	else:
3>	if the field concerns a (sub-field of) an entry of a list (i.e. a SEQUENCE OF):
4>	treat the list as if the entry including the missing or not comprehended field was not present;
3>	else if the field concerns a sub-field of another field, referred to as the 'parent' field i.e. the field that is one nesting level up compared to the erroneous field:
4>	consider the 'parent' field to be set to a not comprehended value;
4>	apply the generic error handling to the subsequent 'parent' field(s), until reaching the top nesting level i.e. the message level;
3>	else (field at message level):
4>	ignore the message.
NOTE 1:	The error handling defined in these sub-clauses implies that the UE ignores a message with the message type or version set to a not comprehended value.
NOTE 2:	The nested error handling for messages received on logical channels other than DCCH and CCCH applies for errors in extensions also, even for errors that can be regarded as invalid network operation e.g. the network not observing conditional presence.
The following ASN.1 further clarifies the levels applicable in case of nested error handling for errors in extension fields.
-- /example/ ASN1START

-- Example with extension addition group

ItemInfoList ::=                    SEQUENCE (SIZE (1..max)) OFItemInfo

ItemInfo ::=                        SEQUENCE {
    itemIdentity                        INTEGER (1..max),
    field1                              Field1,
    field2                              Field2                  OPTIONAL,           -- Need N
    ...
    [[  field3-r9                       Field3-r9               OPTIONAL,           -- Cond Cond1
        field4-r9                       Field4-r9               OPTIONAL            -- Need N
    ]]
}

-- Example with traditional non-critical extension (empty sequence)

BroadcastInfoBlock1 ::=             SEQUENCE {
    itemIdentity                        INTEGER (1..max),
    field1                              Field1,
    field2                              Field2                  OPTIONAL,           -- Need N
    nonCriticalExtension                BroadcastInfoBlock1-v940-IEs    OPTIONAL
}

BroadcastInfoBlock1-v940-IEs::=	SEQUENCE {
    field3-r9                           Field3-r9               OPTIONAL,           -- Cond Cond1
    field4-r9                           Field4-r9               OPTIONAL,           -- Need N
    nonCriticalExtension                SEQUENCE {}             OPTIONAL            -- Need S
}

-- ASN1STOP

The UE shall, apply the following principles regarding the levels applicable in case of nested error handling:
-	an extension additon group is not regarded as a level on its own. E.g. in the ASN.1 extract in the previous, a error regarding the conditionality of field3 would result in the entire itemInfo entry to be ignored (rather than just the extension addition group containing field3 and field4);
-	a traditional nonCriticalExtension is not regarded as a level on its own. E.g. in the ASN.1 extract in the previous, an error regarding the conditionality of field3 would result in the entire BroadcastInfoBlock1 to be ignored (rather than just the non-critical extension containing field3 and field4).
10.5	Not comprehended field
The UE shall, when receiving an RRC message on any logical channel:
1>	if the message includes a field that the UE does not comprehend:
2>	treat the rest of the message as if the field was absent.
NOTE:	This section does not apply to the case of an extension to the value range of a field. Such cases are addressed instead by the requirements in section 10.3.
11	Radio information related interactions between network nodes
11.1	General
This section specifies RRC messages that are transferred between network nodes. These RRC messages may be transferred to or from the UE via another Radio Access Technology. Consequently, these messages have similar characteristics as the RRC messages that are transferred across the NR radio interface, i.e. the same transfer syntax and protocol extension mechanisms apply.
11.2	Inter-node RRC messages
11.2.1	General
This section specifies RRC messages that are sent either across the X2-, Xn- or the NG-interface, either to or from the gNB, i.e. a single 'logical channel' is used for all RRC messages transferred across network nodes. The information could originate from or be destined for another RAT.
-- ASN1START
-- TAG_NR-INTER-NODE-DEFINITIONS-START

NR-InterNodeDefinitions DEFINITIONS AUTOMATIC TAGS ::=

BEGIN

IMPORTS
    ARFCN-ValueNR,
    ARFCN-ValueEUTRA,
    CellIdentity,
    CSI-RS-Index,
    FreqBandIndicatorNR,
    GapConfig,
    maxBandComb,
    maxBands,
    maxFeatureSetsPerBand,
    maxFreqIDC-MRDC,
    maxNrofCombIDC,
    maxNrofSCells,
    maxNrofServingCells,
    maxNrofServingCells-1,
    maxNrofServingCellsEUTRA,
    maxNrofIndexesToReport,
    MeasQuantityResults,
    MeasResultSCG-Failure,
    MeasResultCellListSFTD,
    MeasResultList2NR,
    P-Max,
    PhysCellId,
    RadioBearerConfig,
    RAN-NotificationAreaInfo,
    RRCReconfiguration,
    ServCellIndex,
    SetupRelease,
    SSB-Index,
    SSB-MTC,
    SS-RSSI-Measurement,
    ShortMAC-I,
    SubcarrierSpacing,
    UE-CapabilityRAT-ContainerList
FROM NR-RRC-Definitions;

-- TAG_NR-INTER-NODE-DEFINITIONS-STOP
-- ASN1STOP

11.2.2	Message definitions
–	HandoverCommand
This message is used to transfer the handover command as generated by the target gNB.
Direction: target gNB to source gNB/source RAN.
HandoverCommand message
-- ASN1START
-- TAG-HANDOVER-COMMAND-START

HandoverCommand ::=                 SEQUENCE {
    criticalExtensions                  CHOICE {
        c1                                  CHOICE{
            handoverCommand                 HandoverCommand-IEs,
            spare3 NULL, spare2 NULL, spare1 NULL
        },
        criticalExtensionsFuture            SEQUENCE {}
    }
}

HandoverCommand-IEs ::=             SEQUENCE {
    handoverCommandMessage              OCTET STRING (CONTAINING RRCReconfiguration),
    nonCriticalExtension                SEQUENCE {}                         OPTIONAL
}

-- TAG-HANDOVER-COMMAND-STOP
-- ASN1STOP

HandoverCommand field descriptions
handoverCommandMessage
Contains the RRCReconfiguration message used to perform handover within NR or handover to NR, as generated (entirely) by the target gNB.

–	HandoverPreparationInformation
This message is used to transfer the NR RRC information used by the target gNB during handover preparation, including UE capability information.
Direction: source gNB/source RAN to target gNB.
HandoverPreparationInformation message
-- ASN1START
-- TAG-HANDOVER-PREPARATION-INFORMATION-START

HandoverPreparationInformation ::=  SEQUENCE {
    criticalExtensions                  CHOICE {
        c1                                  CHOICE{
            handoverPreparationInformation      HandoverPreparationInformation-IEs,
            spare3 NULL, spare2 NULL, spare1 NULL
        },
        criticalExtensionsFuture            SEQUENCE {}
    }
}

HandoverPreparationInformation-IEs ::= SEQUENCE {
    ue-CapabilityRAT-List               UE-CapabilityRAT-ContainerList,
    sourceConfig                        AS-Config       OPTIONAL, -- Cond HO
    rrm-Config                          RRM-Config              OPTIONAL,
    as-Context                          AS-Context              OPTIONAL,
    nonCriticalExtension                SEQUENCE {}             OPTIONAL
}

AS-Config ::=             SEQUENCE {
    rrcReconfiguration                  OCTET STRING (CONTAINING RRCReconfiguration),
    ...
}

AS-Context ::=                          SEQUENCE {
    reestablishmentInfo             ReestablishmentInfo                     OPTIONAL,
    configRestrictInfo                  ConfigRestrictInfoSCG                       OPTIONAL,
    ...,
    [[  ran-NotificationAreaInfo            RAN-NotificationAreaInfo    OPTIONAL
    ]]
}

ReestablishmentInfo ::=             SEQUENCE {
    sourcePhysCellId                        PhysCellId,
    targetCellShortMAC-I                    ShortMAC-I,
    additionalReestabInfoList               ReestabNCellInfoList                    OPTIONAL
}

ReestabNCellInfoList ::=        SEQUENCE ( SIZE (1..maxCellPrep) ) OF ReestabNCellInfo

ReestabNCellInfo::=	SEQUENCE{
    cellIdentity                            CellIdentity,
    key-gNodeB-Star                         BIT STRING (SIZE (256)),
    shortMAC-I                              ShortMAC-I
}

RRM-Config ::=              SEQUENCE {
    ue-InactiveTime             ENUMERATED {
                                    s1, s2, s3, s5, s7, s10, s15, s20,
                                    s25, s30, s40, s50, min1, min1s20c, min1s40,
                                    min2, min2s30, min3, min3s30, min4, min5, min6,
                                    min7, min8, min9, min10, min12, min14, min17, min20,
                                    min24, min28, min33, min38, min44, min50, hr1,
                                    hr1min30, hr2, hr2min30, hr3, hr3min30, hr4, hr5, hr6,
                                    hr8, hr10, hr13, hr16, hr20, day1, day1hr12, day2,
                                    day2hr12, day3, day4, day5, day7, day10, day14, day19,
                                    day24, day30, dayMoreThan30}        OPTIONAL,
    candidateCellInfoList       MeasResultList2NR       OPTIONAL,
    ...
}

-- TAG-HANDOVER-PREPARATION-INFORMATION-STOP
-- ASN1STOP

HandoverPreparationInformation field descriptions
as-Context
Local RAN context required by the target gNB.
sourceConfig
The radio resource configuration as used in the source cell.
rrm-Config
Local RAN context used mainly for RRM purposes.
ue-CapabilityRAT-List
The UE radio access related capabilities concerning RATs supported by the UE. FFS whether certain capabilities are mandatory to provide by source e.g. of target and/or source RAT.

Conditional Presence
Explanation
HO
The field is mandatory present in case of handover within NR; The field is optionally present in case of handover from E-UTRA connected to 5GC; otherwise the field is not present.

NOTE 2:	The following table indicates per source RAT whether RAT capabilities are included or not.
Source RAT
NR capabilites
E-UTRA capabilities
MR-DC capabilities
NR
Included
May be included
May be included
E-UTRAN
Included
May be included
May be included

RRM-Config field descriptions
candidateCellInfoList
A list of the best cells on each frequency for which measurement information was available

–	CG-Config
This message is used to transfer the SCG radio configuration as generated by the SgNB.
Direction: Secondary gNB to master gNB or eNB.
CG-Config message
-- ASN1START
-- TAG-CG-CONFIG-START

CG-Config ::=                   SEQUENCE {
    criticalExtensions                  CHOICE {
        c1                                  CHOICE{
            cg-Config                   CG-Config-IEs,
            spare3 NULL, spare2 NULL, spare1 NULL
        },
        criticalExtensionsFuture            SEQUENCE {}
    }
}

CG-Config-IEs ::=           SEQUENCE {
    scg-CellGroupConfig                 OCTET STRING (CONTAINING RRCReconfiguration)    OPTIONAL,
    scg-RB-Config                       OCTET STRING (CONTAINING RadioBearerConfig)     OPTIONAL,
    configRestrictModReq                ConfigRestrictModReqSCG                         OPTIONAL,
    drx-InfoSCG                         DRX-Info                                        OPTIONAL,
    candidateCellInfoListSN             OCTET STRING (CONTAINING MeasResultList2NR) OPTIONAL,
    measConfigSN                        MeasConfigSN                                    OPTIONAL,
    selectedBandCombinationNR           BandCombinationInfoSN                           OPTIONAL,
    fr-InfoListSCG                      FR-InfoList                                     OPTIONAL,
    candidateServingFreqListNR      CandidateServingFreqListNR                  OPTIONAL,
    nonCriticalExtension                SEQUENCE {}                                     OPTIONAL
}

MeasConfigSN ::= SEQUENCE {
    measuredFrequenciesSN               SEQUENCE (SIZE (1..maxMeasFreqsSN)) OF NR-FreqInfo  OPTIONAL,
    ...
}

NR-FreqInfo ::= SEQUENCE {
    measuredFrequency                   ARFCN-ValueNR                                   OPTIONAL,
    ...
}

ConfigRestrictModReqSCG ::=         SEQUENCE {
    requestedBC-MRDC                    BandCombinationInfoSN                           OPTIONAL,
    requestedP-MaxFR1               P-Max                                               OPTIONAL,
    ...
}

BandCombinationIndex ::= INTEGER (1..maxBandComb)

BandCombinationInfoSN ::=   SEQUENCE {
    bandCombinationIndex                BandCombinationIndex,
    requestedFeatureSets                FeatureSetEntryIndex
}

FR-InfoList ::=	SEQUENCE (SIZE (1..maxNrofServingCells-1)) OF FR-Info

FR-Info ::=	SEQUENCE {
    servCellIndex       ServCellIndex,
    fr-Type             ENUMERATED {fr1, fr2}
}

CandidateServingFreqListNR ::= SEQUENCE (SIZE (1.. maxFreqIDC-MRDC)) OF ARFCN-ValueNR


-- TAG-CG-CONFIG-STOP
-- ASN1STOP

CG-Config field descriptions
candidateCellInfoListSN
Contains information regarding cells that the source secondary node suggests the target secondary gNB to consider configuring.
candidateServingFreqListNR
Indicates frequencies of candidate serving cells for In-Device Co-existence Indication (see TS 36.331 [10]).
fr-InfoListSCG
Contains information of FR information of serving cells.
measuredFrequenciesSN
Used by SN to indicate a list of frequencies measured by the UE.
requestedP-MaxFR1
Requested value for the maximum power for the serving cells on frequency range 1 (FR1) in this secondary cell group (see TS 38.104 [12]) the UE can use in NR SCG.
requestedBC-MRDC
Used to request configuring an NR band combination and corresponding feature sets which are forbidden to use by MN. 
scg-CellGroupConfig
Contains the RRCReconfiguration message, used to (re-)configure the SCG configuration upon SCG establishment or modification, as generated (entirely) by the (target) SgNB
scg-RB-Config
Contains the IE RadioBearerConfig, used to establish or reconfigure the SCG configuration, used to (re-)configure the SCG RB configuration upon SCG establishment or modification, as generated (entirely) by the (target) SgNB
selectedBandCombinationNR
Indicates the band combination selected by SN for the EN-DC.
configRestrictModReq
Used by SN to request changes to SCG configuration restrictions previously set by MN to ensure UE capabilities are respected. E.g. can used to request configuring an NR band combination whose use MN has previously forbidden.

BandCombinationInfoSN field descriptions
bandCombinationIndex
The position of a band combination in the supportedBandCombinationList
requestedFeatureSets
The position in the FeatureSetCombination which identifies one FeatureSetUplink/Downlink for each band entry in the associated band combination

–	CG-ConfigInfo
This message is used by master eNB or gNB to request the SgNB to perform certain actions e.g. to establish, modify or release an SCG. The message may include additional information e.g. to assist the SgNB to set the SCG configuration. It can also be used by a CU to request a DU to perform certain actions, e.g. to establish, modify or release an MCG or SCG.
Direction: Master eNB or gNB to secondary gNB, alternatively CU to DU.
CG-ConfigInfo message
-- ASN1START
-- TAG-CG-CONFIG-INFO-START

CG-ConfigInfo ::=               SEQUENCE {
    criticalExtensions              CHOICE {
        c1                              CHOICE{
            cg-ConfigInfo               CG-ConfigInfo-IEs,
            spare3 NULL, spare2 NULL, spare1 NULL
        },
        criticalExtensionsFuture        SEQUENCE {}
    }
}

CG-ConfigInfo-IEs ::=       SEQUENCE {
    ue-CapabilityInfo           OCTET STRING (CONTAINING UE-CapabilityRAT-ContainerList)        OPTIONAL,-- Cond SN-Addition
    candidateCellInfoListMN         MeasResultList2NR                                   OPTIONAL,
    candidateCellInfoListSN         OCTET STRING (CONTAINING MeasResultList2NR)         OPTIONAL,
    measResultCellListSFTD          MeasResultCellListSFTD                                  OPTIONAL,
    scgFailureInfo                  SEQUENCE {
        failureType                     ENUMERATED { t310-Expiry, randomAccessProblem,
                                                        rlc-MaxNumRetx, scg-ChangeFailure,
                                                        scg-reconfigFailure,
                                                        srb3-IntegrityFailure},
        measResultSCG                   OCTET STRING (CONTAINING MeasResultSCG-Failure)
    }                                                                                       OPTIONAL,
    configRestrictInfo          ConfigRestrictInfoSCG                                       OPTIONAL,
    drx-InfoMCG                 DRX-Info                                                    OPTIONAL,
    measConfigMN                MeasConfigMN                                                OPTIONAL,
    sourceConfigSCG             OCTET STRING (CONTAINING RRCReconfiguration)                OPTIONAL,
    scg-RB-Config               OCTET STRING (CONTAINING RadioBearerConfig)                 OPTIONAL,
    mcg-RB-Config               OCTET STRING (CONTAINING RadioBearerConfig)                 OPTIONAL,
    mrdc-AssistanceInfo         MRDC-AssistanceInfo                                         OPTIONAL,
    nonCriticalExtension        SEQUENCE {}                                                 OPTIONAL
}

ConfigRestrictInfoSCG ::=       SEQUENCE {
    allowedBC-ListMRDC              BandCombinationInfoList                             OPTIONAL,
    powerCoordination-FR1               SEQUENCE {
        p-maxNR-FR1                     P-Max                                               OPTIONAL,
        p-maxEUTRA                      P-Max                                               OPTIONAL,
        p-maxUE-FR1                     P-Max                                               OPTIONAL
    }                                                                                       OPTIONAL,
    servCellIndexRangeSCG           SEQUENCE {
        lowBound                        ServCellIndex,
        upBound                         ServCellIndex
    }                                                                                       OPTIONAL,   -- Cond SN-Addition
    maxMeasFreqsSCG-NR                  INTEGER(1..maxMeasFreqsMN)                          OPTIONAL,
    maxMeasIdentitiesSCG-NR             INTEGER(1..maxMeasIdentitiesMN)                     OPTIONAL,
    ...
}

BandCombinationInfoList ::= SEQUENCE (SIZE (1..maxBandComb)) OF BandCombinationInfo

BandCombinationInfo ::=     SEQUENCE {
    bandCombinationIndex        BandCombinationIndex,
    allowedFeatureSetsList      SEQUENCE (SIZE (1..maxFeatureSetsPerBand)) OF FeatureSetEntryIndex
}

FeatureSetEntryIndex ::=    INTEGER (1.. maxFeatureSetsPerBand)

DRX-Info ::=                    SEQUENCE {
    drx-LongCycleStartOffset        CHOICE {
        ms10                            INTEGER(0..9),
        ms20                            INTEGER(0..19),
        ms32                            INTEGER(0..31),
        ms40                            INTEGER(0..39),
        ms60                            INTEGER(0..59),
        ms64                            INTEGER(0..63),
        ms70                            INTEGER(0..69),
        ms80                            INTEGER(0..79),
        ms128                           INTEGER(0..127),
        ms160                           INTEGER(0..159),
        ms256                           INTEGER(0..255),
        ms320                           INTEGER(0..319),
        ms512                           INTEGER(0..511),
        ms640                           INTEGER(0..639),
        ms1024                          INTEGER(0..1023),
        ms1280                          INTEGER(0..1279),
        ms2048                          INTEGER(0..2047),
        ms2560                          INTEGER(0..2559),
        ms5120                          INTEGER(0..5119),
        ms10240                         INTEGER(0..10239)
    },
    shortDRX                            SEQUENCE {
        drx-ShortCycle                      ENUMERATED  {
                                                ms2, ms3, ms4, ms5, ms6, ms7, ms8, ms10, ms14, ms16, ms20, ms30, ms32,
                                                ms35, ms40, ms64, ms80, ms128, ms160, ms256, ms320, ms512, ms640, spare9,
                                                spare8, spare7, spare6, spare5, spare4, spare3, spare2, spare1 },
        drx-ShortCycleTimer                 INTEGER (1..16)
    }                                                                                   OPTIONAL
}

MeasConfigMN ::= SEQUENCE {
    measuredFrequenciesMN               SEQUENCE (SIZE (1..maxMeasFreqsMN)) OF NR-FreqInfo  OPTIONAL,
    measGapConfig                   SetupRelease { GapConfig }                          OPTIONAL,
    gapPurpose                          ENUMERATED {perUE, perFR1}                          OPTIONAL,
    ...
}

MRDC-AssistanceInfo ::= SEQUENCE {
    affectedCarrierFreqCombInfoListMRDC     SEQUENCE (SIZE (1..maxNrofCombIDC)) OF AffectedCarrierFreqCombInfoMRDC,
    ...
}

AffectedCarrierFreqCombInfoMRDC ::= SEQUENCE {
    victimSystemType                    VictimSystemType,
    interferenceDirectionMRDC       ENUMERATED {eutra-nr, nr, other, utra-nr-other, nr-other, spare3, spare2, spare1},
    affectedCarrierFreqCombMRDC         SEQUENCE    {
        affectedCarrierFreqCombEUTRA            AffectedCarrierFreqCombEUTRA    OPTIONAL,
        affectedCarrierFreqCombNR           AffectedCarrierFreqCombNR
    }       OPTIONAL
}

VictimSystemType ::= SEQUENCE {
    gps                         ENUMERATED {true}               OPTIONAL,
    glonass                 ENUMERATED {true}               OPTIONAL,
    bds                     ENUMERATED {true}               OPTIONAL,
    galileo                     ENUMERATED {true}               OPTIONAL,
    wlan                        ENUMERATED {true}               OPTIONAL,
    bluetooth               ENUMERATED {true}               OPTIONAL
}

AffectedCarrierFreqCombEUTRA ::= SEQUENCE (SIZE (1..maxNrofServingCellsEUTRA)) OF ARFCN-ValueEUTRA

AffectedCarrierFreqCombNR ::= SEQUENCE (SIZE (1..maxNrofServingCells)) OF ARFCN-ValueNR

-- TAG-CG-CONFIG-INFO-STOP
-- ASN1STOP

CG-ConfigInfo field descriptions
allowedBandCombinationListMRDC
A list of indices referring to band combinations in MR-DC capabilities from which SN is allowed to select an NR band combination. Each entry refers to a band combination numbered according to supportedBandCombination in the UE-MRDC-Capability and the Feature Sets allowed for each band entry. All MR-DC band combinations indicated by this field comprise the LTE band combination, which is a superset of the LTE band(s) selected by MN.
candidateCellInfoListMN, candidateCellInfoListSN
Contains information regarding cells that the master node or the source node suggests the target gNB to consider configuring.
Including CSI-RS measurement results in candidateCellInfoListMN is not supported in this version of the specification.
maxMeasFreqsSCG-NR
Indicates the maximum number of NR inter-frequency carriers the SN is allowed to configure with PSCell for measurements.
maxMeasIdentitiesSCG-NR
Indicates the maximum number of allowed measurement identities that the SCG is allowed to configure.
measuredFrequenciesMN
Used by MN to indicate a list of frequencies measured by the UE.
measGapConfig
Indicates the measurement gap configuration configured by MN.
mcg-RB-Config
Contains the IE RadioBearerConfig of the MN, used to support delta configuration for bearer type change between MN terminated to SN terminated bearer and SN change. It is also used to indicate the PDCP duplication related information (whether duplication is configured and if so, whether it is initially activated) in SN Addition/Modification procedure.
mrdc-AssistanceInfo
Contains the IDC assistance information for MR-DC reported by the UE (see TS 36.331 [10]).
p-maxEUTRA
Indicates the maximum total transmit power to be used by the UE in the EUTRA cell group (see TS 36.104 [XX]).
p-maxNR-FR1
Indicates the maximum total transmit power to be used by the UE in the NR cell group across all serving cells in frequency range 1 (FR1) (see TS 38.104 [12]) the UE can use in NR SCG.
p-maxUE-FR1
Indicates the maximum total transmit power to be used by the UE across all serving cells in frequency range 1 (FR1).
powerCoordination-FR1
Indicates the maximum power that the UE can use in FR1.
scg-RB-Config
Contains the IE RadioBearerConfig of the SN, used to support delta configuration e.g. during SN change. This field is absent when master eNB uses full configuration option.
sourceConfigSCG
Includes the current dedicated SCG configuration in the same format as the RRCReconfiguration message, i.e. not only CellGroupConfig but also e.g. measConfig. This field is absent when master eNB uses full configuration option.
ConfigRestrictInfo
Includes fields for which SgNB is explictly indicated to observe a configuration restriction.
servCellIndexRangeSCG
Range of serving cell indices that SN is allowed to configure for SCG serving cells.

BandCombinationInfo field descriptions
allowedFeatureSetsList
Defines a subset of the entries in a FeatureSetCombination. Each index identifies one FeatureSetUplink/Downlink for each band entry in the associated band combination.
bandCombinationIndex
The position of a band combination in the supportedBandCombinationList

Conditional Presence
Explanation
SN-Addition
The field is mandatory present upon SN addition.

–	MeasurementTimingConfiguration
The MeasurementTimingConfiguration message is used to convey assistance information for measurement timing between master eNB and secondary gNB.
Direction: en-gNB to eNB, eNB to en-gNB, gNB DU to gNB CU, and gNB CU to gNB DU.
MeasurementTimingConfiguration message
-- ASN1START
-- TAG-MEASUREMENT-TIMING-CONFIGURATION-START

MeasurementTimingConfiguration ::=              SEQUENCE {
    criticalExtensions              CHOICE {
        c1                              CHOICE{
            measTimingConf                  MeasurementTimingConfiguration-IEs,
            spare3 NULL, spare2 NULL, spare1 NULL
        },
        criticalExtensionsFuture        SEQUENCE {}
    }
}

MeasurementTimingConfiguration-IEs ::=  SEQUENCE {
    measTiming                              MeasTimingList                          OPTIONAL,
    nonCriticalExtension                    SEQUENCE {}                             OPTIONAL
}

MeasTimingList ::= SEQUENCE (SIZE (1..maxMeasFreqsMN)) OF MeasTiming

MeasTiming ::= SEQUENCE {
    frequencyAndTiming                      SEQUENCE {
        carrierFreq                             ARFCN-ValueNR,
        ssbSubcarrierSpacing                        SubcarrierSpacing,
        ssb-MeasurementTimingConfiguration      SSB-MTC,
        ss-RSSI-Measurement                     SS-RSSI-Measurement                 OPTIONAL
    }                                                                               OPTIONAL,
    ...
}

-- TAG-MEASUREMENT-TIMING-CONFIGURATION-STOP
-- ASN1STOP

MeasurementTimingConfiguration field descriptions
measTiming
A list of SMTC information, SSB RSSI measurement information and associated NR frequency that SN informs MN via EN-DC X2 Setup and EN-DC Configuration Update procedures, or F1 messages from gNB DU to gNB CU.

–	UERadioPagingInformation
This message is used to transfer radio paging information, covering both upload to and download from the AMF.
Direction: gNB to/ from AMF
UERadioPagingInformation message
-- ASN1START

UERadioPagingInformation ::= SEQUENCE {
    criticalExtensions                  CHOICE {
        c1                                  CHOICE{
            ueRadioPagingInformation            UERadioPagingInformation-IEs,
            spare7 NULL,
            spare6 NULL, spare5 NULL, spare4 NULL,
            spare3 NULL, spare2 NULL, spare1 NULL
        },
        criticalExtensionsFuture            SEQUENCE {}
    }
}

UERadioPagingInformation-IEs ::= SEQUENCE {
    supportedBandListNRForPaging        SEQUENCE (SIZE (1..maxBands)) OF FreqBandIndicatorNR    OPTIONAL,
    nonCriticalExtension                SEQUENCE {}                                             OPTIONAL
}


-- ASN1STOP

UERadioPagingInformation field descriptions
supportedBandListNRForPaging
Indicates the UE supported NR frequency bands which is derived by the gNB from UE-NR-Capability.

–	UERadioAccessCapabilityInformation
This message is used to transfer UE radio access capability information, covering both upload to and download from the 5GC.
Direction: ng-eNB or gNB to/ from 5GC
UERadioAccessCapabilityInformation message
-- ASN1START

UERadioAccessCapabilityInformation ::= SEQUENCE {
    criticalExtensions                  CHOICE {
        c1                                  CHOICE{
            ueRadioAccessCapabilityInformation
                                                UERadioAccessCapabilityInformation-IEs,
            spare7 NULL,
            spare6 NULL, spare5 NULL, spare4 NULL,
            spare3 NULL, spare2 NULL, spare1 NULL
        },
        criticalExtensionsFuture            SEQUENCE {}
    }
}

UERadioAccessCapabilityInformation-IEs ::= SEQUENCE {
    ue-RadioAccessCapabilityInfo        OCTET STRING (CONTAINING UE-CapabilityRAT-ContainerList),
    nonCriticalExtension                SEQUENCE {}                         OPTIONAL
}

-- ASN1STOP

UERadioAccessCapabilityInformation-IEs field descriptions
ue-RadioAccessCapabilityInfo
Including NR, MR-DC, E-UTRA radio access capabilities.

11.3	Inter-node RRC information element definitions
-
11.4	Inter-node RRC multiplicity and type constraint values
–	Multiplicity and type constraints definitions
-- ASN1START
-- TAG_NR-MULTIPLICITY-AND-CONSTRAINTS-START

maxMeasFreqsMN              INTEGER ::= 32  -- Maximum number of MN-configured measurement frequencies
maxMeasFreqsSN              INTEGER ::= 32  -- Maximum number of SN-configured measurement frequencies
maxMeasIdentitiesMN         INTEGER ::= 62  -- Maximum number of measurement identities that a UE can be configured with
maxCellPrep                 INTEGER ::= 32  -- Maximum number of cells prepared for handover

-- TAG_NR-MULTIPLICITY-AND-CONSTRAINTS-STOP
-- ASN1STOP

–	End of NR-InterNodeDefinitions
-- ASN1START
-- TAG_NR-INTER-NODE-DEFINITIONS-END-START

END

-- TAG_NR-INTER-NODE-DEFINITIONS-END-STOP
-- ASN1STOP

12	Processing delay requirements for RRC procedures
The UE performance requirements for RRC procedures are specified in the following tables. The performance requirement is expressed as the time in [ms] from the end of reception of the network -> UE message on the UE physical layer up to when the UE shall be ready for the reception of uplink grant for the UE -> network response message with no access delay other than the TTI-alignment (e.g. excluding delays caused by scheduling, the random access procedure or physical layer synchronisation).

Figure 12.1-1: Illustration of RRC procedure delay
Table 12.1-1: UE performance requirements for RRC procedures for UEs
Procedure title:
Network -> UE
UE -> Network
Value [ms]
Notes
RRC Connection Control Procedures
RRC reconfiguration

RRCReconfiguration
RRCReconfigurationComplete
X

UE assistance information

UEAssistanceInformation
NA



Annex A (informative):	Guidelines, mainly on use of ASN.1
A.1	Introduction
The following clauses contain guidelines for the specification of RRC protocol data units (PDUs) with ASN.1.
A.2	Procedural specification
A.2.1	General principles
The procedural specification provides an overall high level description regarding the UE behaviour in a particular scenario.
It should be noted that most of the UE behaviour associated with the reception of a particular field is covered by the applicable parts of the PDU specification. The procedural specification may also include specific details of the UE behaviour upon reception of a field, but typically this should be done only for cases that are not easy to capture in the PDU section e.g. general actions, more complicated actions depending on the value of multiple fields.
Likewise, the procedural specification need not specify the UE requirements regarding the setting of fields within the messages that are sent to the network i.e. this may also be covered by the PDU specification.
A.2.2	More detailed aspects
The following more detailed conventions should be used:
-	Bullets:
-	Capitals should be used in the same manner as in other parts of the procedural text i.e. in most cases no capital applies since the bullets are part of the sentence starting with 'The UE shall:'
-	All bullets, including the last one in a sub-clause, should end with a semi-colon i.e. an ';.
-	Conditions:
-	Whenever multiple conditions apply, a semi-colon should be used at the end of each conditions with the exception of the last one, i.e. as in 'if cond1, or cond2.
A.3	PDU specification
A.3.1	General principles
A.3.1.1	ASN.1 sections
The RRC PDU contents are formally and completely described using abstract syntax notation (ASN.1), see X.680 [13], X.681 (02/2002) [14].
The complete ASN.1 code is divided into a number of ASN.1 sections in the specifications. In order to facilitate the extraction of the complete ASN.1 code from the specification, each ASN.1 section begins with the following:
- 	a first text paragraph consisting entirely of an ASN.1 start tag, which consists of a double hyphen followed by a single space and the text string "ASN1START" (in all upper case letters);
-	a second text paragraph consisting entirely of a block start tag is included, which consists of a double hyphen followed by a single space and the text string "TAG-NAME-START" (in all upper case letters), where the "NAME" refers to the main name of the paragraph (in all upper-case letters).
Similarly, each ASN.1 section ends with the following:
-	a first text paragraph consisting entirely of a blockstop tag, which consists of a double hyphen followed by a single space and the text string "TAG-NAME-STOP" (in all upper-case letters), where the "NAME" refers to the main name of the paragraph (in all upper-case letters);
-	a second text paragraph consisting entirely of an ASN.1 stop tag, which consists of a double hyphen followed by a singlespace and the text "ASN1STOP" (in all upper case letters).
This results in the following tags:
-- ASN1START
-- TAG-NAME-START

-- TAG-NAME-STOP
-- ASN1STOP

The text paragraphs containing either of the start and stop tags should not contain any ASN.1 code significant for the complete description of the RRC PDU contents. The complete ASN.1 code may be extracted by copying all the text paragraphs between an ASN.1 start tag and the following ASN.1 stop tag in the order they appear, throughout the specification.
NOTE:	A typical procedure for extraction of the complete ASN.1 code consists of a first step where the entire RRC PDU contents description (ultimately the entire specification) is saved into a plain text (ASCII) file format, followed by a second step where the actual extraction takes place, based on the occurrence of the ASN.1 start and stop tags.
A.3.1.2	ASN.1 identifier naming conventions
The naming of identifiers (i.e., the ASN.1 field and type identifiers) should be based on the following guidelines:
-	Message (PDU) identifiers should be ordinary mixed case without hyphenation. These identifiers, e.g., the RRCConnectionModificationCommand, should be used for reference in the procedure text. Abbreviations should be avoided in these identifiers and abbreviated forms of these identifiers should not be used.
-	Type identifiers other than PDU identifiers should be ordinary mixed case, with hyphenation used to set off acronyms only where an adjacent letter is a capital, e.g., EstablishmentCause, SelectedPLMN (not Selected-PLMN, since the "d" in "Selected" is lowercase), InitialUE-Identity and MeasSFN-SFN-TimeDifference.
-	Field identifiers shall start with a lowercase letter and use mixed case thereafter, e.g., establishmentCause. If a field identifier begins with an acronym (which would normally be in upper case), the entire acronym is lowercase (plmn-Identity, not pLMN-Identity). The acronym is set off with a hyphen (ue-Identity, not ueIdentity), in order to facilitate a consistent search pattern with corresponding type identifiers.
-	Identifiers should convey the meaning of the identifier and should avoid adding unnecessary postfixes (e.g. abstractions like 'Info') for the name.
-	Identifiers that are likely to be keywords of some language, especially widely used languages, such as C++ or Java, should be avoided to the extent possible.
-	Identifiers, other than PDU identifiers, longer than 25 characters should be avoided where possible. It is recommended to use abbreviations, which should be done in a consistent manner i.e. use 'Meas' instead of 'Measurement' for all occurrences. Examples of typical abbreviations are given in tableA.3.1.2.1-1 below.
-	For future extension: When an extension is introduced a suffix is added to the identifier of the concerned ASN.1 field and/or type. A suffix of the form "‑rX" is used, with X indicating the release, for ASN.1 fields or types introduced in a later release (i.e. a release later than the original/first release of the protocol) as well as for ASN.1 fields or types for which a revision is introduced in a later release replacing a previous version, e.g., Foo-r9 for the Rel-9 version of the ASN.1 type Foo. A suffix of the form "‑rXb" is used for the first revision of a field that it appears in the same release (X) as the original version of the field, "‑rXc" for a second intra-release revision and so on. A suffix of the form "‑vXYZ" is used for ASN.1 fields or types that only are an extension of a corresponding earlier field or type (see sub-clause A.4), e.g., AnElement-v10b0 for the extension of the ASN.1 type AnElement introduced in version 10.11.0 of the specification. A number 0...9, 10, 11, etc. is used to represent the first part of the version number, indicating the release of the protocol. Lower case letters a, b, c, etc. are used to represent the second (and third) part of the version number if they are greater than 9. In the procedural specification, in field descriptions as well as in headings suffices are not used, unless there is a clear need to distinguish the extension from the original field.
-	More generally, in case there is a need to distinguish different variants of an ASN.1 field or IE, a suffix should be added at the end of the identifiers e.g. MeasObjectUTRA, ConfigCommon. When there is no particular need to distinguish the fields (e.g. because the field is included in different IEs), a common field identifier name may be used. This may be attractive e.g. in case the procedural specification is the same for the different variants.
-	It should be avoided to use field identifiers with the same name within the elements of a CHOICE, including using a CHOICE inside a SEQUENCE (to avoid certain compiler errors).
TableA.3.1.2-1: Examples of typical abbreviations used in ASN.1 identifiers
Abbreviation
Abbreviated word
Config
Configuration
DL
Downlink
Ext
Extension
Freq
Frequency
Id
Identity
Ind
Indication
Meas
Measurement
MIB
MasterInformationBlock
Neigh
Neighbour(ing)
Param(s)
Parameter(s)
Phys
Physical
PCI
Physical Cell Id
Proc
Process
Reconfig
Reconfiguration
Reest
Re-establishment
Req
Request
Rx
Reception
Sched
Scheduling
SIB
SystemInformationBlock
Sync
Synchronisation
Thr
Threshold
Tx
Transmission
UL
Uplink

NOTE:	The tableA.3.1.2.1-1 is not exhaustive. Additional abbreviations may be used in ASN.1 identifiers when needed.
A.3.1.3	Text references using ASN.1 identifiers
A text reference into the RRC PDU contents description from other parts of the specification is made using the ASN.1 field identifier of the referenced type. The ASN.1 field and type identifiers used in text references should be in the italic font style. The "do not check spelling and grammar" attribute in Word should be set. Quotation marks (i.e., "") should not be used around the ASN.1 field or type identifier.
A reference to an RRC PDU should be made using the corresponding ASN.1 field identifier followed by the word "message", e.g., a reference to the RRCRelease message.
A reference to a specific part of an RRC PDU, or to a specific part of any other ASN.1 type, should be made using the corresponding ASN.1 field identifier followed by the word "field", e.g., a reference to the prioritisedBitRate field in the example below.
-- /example/ ASN1START

LogicalChannelConfig ::=            SEQUENCE {
    ul-SpecificParameters               SEQUENCE {
        priority                            Priority,
        prioritisedBitRate                  PrioritisedBitRate,
        bucketSizeDuration                  BucketSizeDuration,
        logicalChannelGroup                 INTEGER (0..3)
    }       OPTIONAL
}

-- ASN1STOP

NOTE:	All the ASN.1 start tags in the ASN.1 sections, used as examples in this annex to the specification, are deliberately distorted, in order not to include them when the ASN.1 description of the RRC PDU contents is extracted from the specification.
A reference to a specific type of information element should be made using the corresponding ASN.1 type identifier preceded by the acronym "IE", e.g., a reference to the IE LogicalChannelConfig in the example above.
References to a specific type of information element should only be used when those are generic, i.e., without regard to the particular context wherein the specific type of information element is used. If the reference is related to a particular context, e.g., an RRC PDU type (message) wherein the information element is used, the corresponding field identifier in that context should be used in the text reference.
A reference to a specific value of an ASN.1 field should be made using the corresponding ASN.1 value without using quotation marks around the ASN.1 value, e.g., 'if the status field is set to value true'.
A.3.2	High-level message structure
Within each logical channel type, the associated RRC PDU (message) types are alternatives within a CHOICE, as shown in the example below.
-- /example/ ASN1START

DL-DCCH-Message ::= SEQUENCE {
    message                 DL-DCCH-MessageType
}

DL-DCCH-MessageType ::= CHOICE {
    c1                      CHOICE {
        dlInformationTransfer                   DLInformationTransfer,
        handoverFromEUTRAPreparationRequest     HandoverFromEUTRAPreparationRequest,
        mobilityFromEUTRACommand                MobilityFromEUTRACommand,
        rrcConnectionReconfiguration            RRCConnectionReconfiguration,
        rrcConnectionRelease                    RRCConnectionRelease,
        securityModeCommand                     SecurityModeCommand,
        ueCapabilityEnquiry                     UECapabilityEnquiry,
        spare1 NULL
    },
    messageClassExtension   SEQUENCE {}
}

-- ASN1STOP

A nested two-level CHOICE structure is used, where the alternative PDU types are alternatives within the inner level c1 CHOICE.
Spare alternatives (i.e., spare1 in this case) may be included within the c1 CHOICE to facilitate future extension. The number of such spare alternatives should not extend the total number of alternatives beyond an integer-power-of-two number of alternatives (i.e., eight in this case).
Further extension of the number of alternative PDU types is facilitated using the messageClassExtension alternative in the outer level CHOICE.
A.3.3	Message definition
Each PDU (message) type is specified in an ASN.1 section similar to the one shown in the example below.
-- /example/ ASN1START

RRCConnectionReconfiguration ::=    SEQUENCE {
    rrc-TransactionIdentifier           RRC-TransactionIdentifier,
    criticalExtensions                  CHOICE {
        c1                                  CHOICE{
            rrcConnectionReconfiguration-r8     RRCConnectionReconfiguration-r8-IEs,
            spare3 NULL, spare2 NULL, spare1 NULL
        },
        criticalExtensionsFuture            SEQUENCE {}
    }
}

RRCConnectionReconfiguration-r8-IEs ::= SEQUENCE {
    -- Enter the IEs here.
    ...
}

-- ASN1STOP

Hooks for critical and non-critical extension should normally be included in the PDU type specification. How these hooks are used is further described in sub-clause A.4.
Critical extensions are characterised by a redefinition of the PDU contents and need to be governed by a mechanism for protocol version agreement between the encoder and the decoder of the PDU, such that the encoder is prevented from sending a critically extended version of the PDU type, which is not comprehended by the decoder.
Critical extension of a PDU type is facilitated by a two-level CHOICE structure, where the alternative PDU contents are alternatives within the inner level c1 CHOICE. Spare alternatives (i.e., spare3 down to spare1 in this case) may be included within the c1 CHOICE. The number of spare alternatives to be included in the original PDU specification should be decided case by case, based on the expected rate of critical extension in the future releases of the protocol.
Further critical extension, when the spare alternatives from the original specifications are used up, is facilitated using the criticalExtensionsFuture in the outer level CHOICE.
In PDU types where critical extension is not expected in the future releases of the protocol, the inner level c1 CHOICE and the spare alternatives may be excluded, as shown in the example below.
-- /example/ ASN1START

RRCConnectionReconfigurationComplete ::= SEQUENCE {
    rrc-TransactionIdentifier           RRC-TransactionIdentifier,
    criticalExtensions                  CHOICE {
        rrcConnectionReconfigurationComplete-r8
                                            RRCConnectionReconfigurationComplete-r8-IEs,
        criticalExtensionsFuture            SEQUENCE {}
    }
}

RRCConnectionReconfigurationComplete-r8-IEs ::= SEQUENCE {
    -- Enter the fields here.
    ...
}

-- ASN1STOP

Non-critical extensions are characterised by the addition of new information to the original specification of the PDU type. If not comprehended, a non-critical extension may be skipped by the decoder, whilst the decoder is still able to complete the decoding of the comprehended parts of the PDU contents.
Non-critical extensions at locations other than the end of the message or other than at the end of a field contained in a BIT or OCTET STRING are facilitated by use of the ASN.1 extension marker "...". The original specification of a PDU type should normally include the extension marker at the end of the sequence of information elements contained.
Non-critical extensions at the end of the message or at the end of a field that is contained in a BIT or OCTET STRING may be facilitated by use of an empty sequence that is marked OPTIONAL e.g. as shown in the following example:
-- /example/ ASN1START

RRCMessage-r8-IEs ::=                   SEQUENCE {
    field1                                  InformationElement1,
    field2                                  InformationElement2,

    nonCriticalExtension                    SEQUENCE {}                     OPTIONAL
}

-- ASN1STOP

The ASN.1 section specifying the contents of a PDU type may be followed by a field description table where a further description of, e.g., the semantic properties of the fields may be included. The general format of this table is shown in the example below. The field description table is absent in case there are no fields for which further description needs to be provided e.g. because the PDU does not include any fields, or because an IE is defined for each field while there is nothing specific regarding the use of this IE that needs to be specified.
%PDU-TypeIdentifier% field descriptions
%field identifier%
Field description.
%field identifier%
Field description.

The field description table has one column. The header row shall contain the ASN.1 type identifier of the PDU type.
The following rows are used to provide field descriptions. Each row shall include a first paragraph with a field identifier (in bold and italic font style) referring to the part of the PDU to which it applies. The following paragraphs at the same row may include (in regular font style), e.g., semantic description, references to other specifications and/or specification of value units, which are relevant for the particular part of the PDU.
The parts of the PDU contents that do not require a field description shall be omitted from the field description table.
A.3.4	Information elements
Each IE (information element) type is specified in an ASN.1 section similar to the one shown in the example below.
-- /example/ ASN1START

PRACH-ConfigSIB ::=                 SEQUENCE {
    rootSequenceIndex                   INTEGER (0..1023),
    prach-ConfigInfo                    PRACH-ConfigInfo
}

PRACH-Config ::=                    SEQUENCE {
    rootSequenceIndex                   INTEGER (0..1023),
    prach-ConfigInfo                    PRACH-ConfigInfo                    OPTIONAL    -- Need N
}

PRACH-ConfigInfo ::=                SEQUENCE {
    prach-ConfigIndex                   ENUMERATED {ffs},
    highSpeedFlag                       ENUMERATED {ffs},
    zeroCorrelationZoneConfig           ENUMERATED {ffs}
}

-- ASN1STOP

IEs should be introduced whenever there are multiple fields for which the same set of values apply. IEs may also be defined for other reasons e.g. to break down a ASN.1 definition in to smaller pieces.
A group of closely related IE type definitions, like the IEs PRACH-ConfigSIB and PRACH-Config in this example, are preferably placed together in a common ASN.1 section. The IE type identifiers should in this case have a common base, defined as the generic type identifier. It may be complemented by a suffix to distinguish the different variants. The "PRACH-Config" is the generic type identifier in this example, and the "SIB" suffix is added to distinguish the variant. The sub-clause heading and generic references to a group of closely related IEs defined in this way should use the generic type identifier.
The same principle should apply if a new version, or an extension version, of an existing IE is created for critical or non-critical extension of the protocol (see sub-clause A.4). The new version, or the extension version, of the IE is included in the same ASN.1 section defining the original. A suffix is added to the type identifier, using the naming conventions defined in sub-clause A.3.1.2, indicating the release or version of the where the new version, or extension version, was introduced.
Local IE type definitions, like the IE PRACH-ConfigInfo in the example above, may be included in the ASN.1 section and be referenced in the other IE types defined in the same ASN.1 section. The use of locally defined IE types should be encouraged, as a tool to break up large and complex IE type definitions. It can improve the readability of the code. There may also be a benefit for the software implementation of the protocol end-points, as these IE types are typically provided by the ASN.1 compiler as independent data elements, to be used in the software implementation.
An IE type defined in a local context, like the IE PRACH-ConfigInfo, should not be referenced directly from other ASN.1 sections in the RRC specification. An IE type which is referenced in more than one ASN.1 section should be defined in a separate sub-clause, with a separate heading and a separate ASN.1 section (possibly as one in a set of closely related IE types, like the IEs PRACH-ConfigSIB and PRACH-Config in the example above). Such IE types are also referred to as 'global IEs'.
NOTE:	Referring to an IE type, that is defined as a local IE type in the context of another ASN.1 section, does not generate an ASN.1 compilation error. Nevertheless, using a locally defined IE type in that way makes the IE type definition difficult to find, as it would not be visible at an outline level of the specification. It should be avoided.
The ASN.1 section specifying the contents of one or more IE types, like in the example above, may be followed by a field description table, where a further description of, e.g., the semantic properties of the fields of the information elements may be included. This table may be absent, similar as indicated in sub-clause A.3.3 for the specification of the PDU type. The general format of the field description table is the same as shown in sub-clause A.3.3 for the specification of the PDU type.
A.3.5	Fields with optional presence
A field with optional presence may be declared with the keyword DEFAULT. It identifies a default value to be assumed, if the sender does not include a value for that field in the encoding:
-- /example/ ASN1START

PreambleInfo ::=                    SEQUENCE {
    numberOfRA-Preambles                INTEGER (1..64)                     DEFAULT 1,
    ...
}

-- ASN1STOP

Alternatively, a field with optional presence may be declared with the keyword OPTIONAL. It identifies a field for which a value can be omitted. The omission carries semantics, which is different from any normal value of the field:
-- /example/ ASN1START

PRACH-Config ::=                SEQUENCE {
    rootSequenceIndex                   INTEGER (0..1023),
    prach-ConfigInfo                    PRACH-ConfigInfo                    OPTIONAL    -- Need N
}

-- ASN1STOP

The semantics of an optionally present field, in the case it is omitted, should be indicated at the end of the paragraph including the keyword OPTIONAL, using a short comment text with a need code. The need code includes the keyword "Need", followed by one of the predefined semantics tags (S, M, N or R) defined in sub-clause 6.1. If the semantics tag S is used, the semantics of the absent field are further specified either in the field description table following the ASN.1 section, or in procedure text.
The addition of OPTIONAL keywords for capability groups is based on the following guideline. If there is more than one field in the lower level IE, then OPTIONAL keyword is added at the group level. If there is only one field in the lower level IE, OPTIONAL keyword is not added at the group level.
A.3.6	Fields with conditional presence
A field with conditional presence is declared with the keyword OPTIONAL. In addition, a short comment text shall be included at the end of the paragraph including the keyword OPTIONAL. The comment text includes the keyword "Cond", followed by a condition tag associated with the field ("UL" in this example):
-- /example/ ASN1START

LogicalChannelConfig ::=            SEQUENCE {
    ul-SpecificParameters               SEQUENCE {
        priority                            INTEGER (0),
        ...
    }       OPTIONAL                                                                    -- Cond UL
}

-- ASN1STOP

When conditionally present fields are included in an ASN.1 section, the field description table after the ASN.1 section shall be followed by a conditional presence table. The conditional presence table specifies the conditions for including the fields with conditional presence in the particular ASN.1 section.
Conditional presence
Explanation
UL
Specification of the conditions for including the field associated with the condition tag = "UL". Semantics in case of optional presence under certain conditions may also be specified.

The conditional presence table has two columns. The first column (heading: "Conditional presence") contains the condition tag (in italic font style), which links the fields with a condition tag in the ASN.1 section to an entry in the table. The second column (heading: "Explanation") contains a text specification of the conditions and requirements for the presence of the field. The second column may also include semantics, in case of an optional presence of the field, under certain conditions i.e. using the same predefined tags as defined for optional fields in A.3.5.
Conditional presence should primarily be used when presence of a field depends on the presence and/or value of other fields within the same message. If the presence of a field depends on whether another feature/function has been configured, while this function can be configured independently e.g. by another message and/or at another point in time, the relation is best reflected by means of a statement in the field description table.
If the ASN.1 section does not include any fields with conditional presence, the conditional presence table shall not be included.
Whenever a field is only applicable in specific cases e.g. TDD, use of conditional presence should be considered.
A.3.7	Guidelines on use of lists with elements of SEQUENCE type
Where an information element has the form of a list (the SEQUENCE OF construct in ASN.1) with the type of the list elements being a SEQUENCE data type, an information element shall be defined for the list elements even if it would not otherwise be needed.
For example, a list of PLMN identities with reservation flags is defined as in the following example:
-- /example/ ASN1START

PLMN-IdentityInfoList ::=               SEQUENCE (SIZE (1..6)) OF PLMN-IdentityInfo

PLMN-IdentityInfo ::=               SEQUENCE {
    plmn-Identity                       PLMN-Identity,
    cellReservedForOperatorUse          ENUMERATED {reserved, notReserved}
}

-- ASN1STOP

rather than as in the following (bad) example, which may cause generated code to contain types with unpredictable names:
-- /bad example/ ASN1START

PLMN-IdentityList ::=                   SEQUENCE (SIZE (1..6)) OFSEQUENCE {
    plmn-Identity                           PLMN-Identity,
    cellReservedForOperatorUse              ENUMERATED {reserved, notReserved}
}

-- ASN1STOP

A.3.8	Guidelines on use of parameterised SetupRelease type
The usage of the parameterised SetupRelease type is like a function call in programming languages where the element type parameter is passed as a parameter. The parameterised type only implies a textual change in abstract syntax where all references to the parameterised type are replaced by the compiler with the release/setup choice. Two examples of the usage are shown below:
-- /example/ ASN1START

RRCMessage-r15-IEs ::= SEQUENCE {
    field-r15               SetupRelease { IE-r15 }                 OPTIONAL,   --  Need M
    ...
}


RRCMessage-r15-IEs ::= SEQUENCE {
    field-r15       SetupRelease { Element-r15 }
}                                                                   OPTIONAL,   -- Need M

Element-r15 ::= SEQUENCE {
    field1-r15                  IE1-r15,
    field2-r15                  IE2-r15                             OPTIONAL    -- Need N
}                                                                   OPTIONAL,   -- Need M

-- /example/ ASN1STOP

The SetupRelease is always be used with only named IEs, i.e. the example below is not allowed:
-- /example/ ASN1START

RRCMessage-r15-IEs ::= SEQUENCE {
    field-r15       SetupRelease { SEQUENCE {   -- Unnamed SEQUENCEs are not allowed!
            field1-r15                  IE1-r15,
            field2-r15                  IE2-r15                         OPTIONAL    -- Need N
        }
    }                                                                   OPTIONAL,   -- Need M
}

-- /example/ ASN1STOP

If a field defined using the parameterized SetupRelease type requires procedural text, the field is referred to using the values defined for the type itself, namely, "setup" and "release". For example, procedural text for field-r15 above could be as follows:
1> if field-r15 is set to "setup":
2> do something;
1> else (field-r15 is set to "release"):
2> release field-r15 (if appropriate).
A.3.9	Guidelines on use of ToAddModList and ToReleaseList
In order to benefit from delta signalling when modifying lists with many and/or large elements, so-called add/mod- and release- lists should be used. Instead of a single list containing all elements of the list, the ASN.1 provides two lists. One list is used to convey the actual elements that are to be added to the list or modified in the list. The second list conveys only the identities (IDs) of the list elements that are to be released from the list. In other words, the ASN.1 defines only means to signal modifications to a list maintained in the receiver (typically the UE). An example is provided below:
-- /example/ ASN1START

AnExampleIE ::=         SEQUENCE {
    elementsToAddModList    SEQUENCE (SIZE (1..maxNrofElements)) OF Element                                     OPTIONAL,   --  Need N
    elementsToReleaseList   SEQUENCE (SIZE (1..maxNrofElements)) OF ElementId                                   OPTIONAL,   --  Need N
    ...
}

Element ::=         SEQUENCE {
    elementId               ElementId,
    aField                  INTEG ER (0..16777215),
    anotherField            OCTET STRING,
    ...
}

ElementId ::=           INTEGER (0..maxNrofElements-1)

maxNrofElements         INTEGER ::= 50
maxNrofElements-1       INTEGER ::= 49

-- /example/ ASN1STOP

As can be seen, the elements of the list must contain an identity (INTEGER) that identifies the elements unambiguously upon addition, modification and removal. It is recommended to define an IE for that identifier (here ElementId) so that it can be used both for a field inside the element as well as in the elementsToReleaseList.
Both lists should be made OPTIONAL and flagged as "Need N". The need code reflects that the UE does not maintain the received lists as such but rather updates its configuration using the information therein. In other words, it is not possible to provide via delta signalling an update to a previously signalled elementsToAddModList or elementsToReleaseList (which Need M would imply). The update is always in relation to the UE's internal configuration.
If no procedural text is provided for a set of ToAddModList and ToReleaseList, the following generic procedure applies:
The UE shall:
1>	for each ElementId in the elementsToReleaseList,:
2>	if the current UE configuration includes an Element with the given ElementId:
3>	release the Element from the current UE configuration;
1>	for each Element in the elementsToAddModList:
2>	if the current UE configuration includes an Element with the given ElementId:
3>	modify the configured Element in accordance with the received Element;
2>	else:
3>	add received Element to the UE configuration.
A.4	Extension of the PDU specifications
A.4.1	General principles to ensure compatibility
It is essential that extension of the protocol does not affect interoperability i.e. it is essential that implementations based on different versions of the RRC protocol are able to interoperate. In particular, this requirement applies for the following kind of protocol extensions:
-	Introduction of new PDU types (i.e. these should not cause unexpected behaviour or damage).
-	Introduction of additional fields in an extensible PDUs (i.e. it should be possible to ignore uncomprehended extensions without affecting the handling of the other parts of the message).
-	Introduction of additional values of an extensible field of PDUs. If used, the behaviour upon reception of an uncomprehended value should be defined.
It should be noted that the PDU extension mechanism may depend on the logical channel used to transfer the message e.g. for some PDUs an implementation may be aware of the protocol version of the peer in which case selective ignoring of extensions may not be required.
The non-critical extension mechanism is the primary mechanism for introducing protocol extensions i.e. the critical extension mechanism is used merely when there is a need to introduce a 'clean' message version. Such a need appears when the last message version includes a large number of non-critical extensions, which results in issues like readability, overhead associated with the extension markers. The critical extension mechanism may also be considered when it is complicated to accommodate the extensions by means of non-critical extension mechanisms.
A.4.2	Critical extension of messages and fields
The mechanisms to critically extend a message are defined in A.3.3. There are both "outer branch" and "inner branch" mechanisms available. The "outer branch" consists of a CHOICE having the name criticalExtensions, with two values, c1 and criticalExtensionsFuture. The criticalExtensionsFuture branch consists of an empty SEQUENCE, while the c1 branch contains the "inner branch" mechanism.
The "inner branch" structure is a CHOICE with values of the form "MessageName-rX-IEs" (e.g., "RRCConnectionReconfiguration-r8-IEs") or "spareX", with the spare values having type NULL. The "-rX-IEs" structures contain the complete structure of the message IEs for the appropriate release; i.e., the critical extension branch for the Rel-10 version of a message includes all Rel-8 and Rel-9 fields (that are not obviated in the later version), rather than containing only the additional Rel-10 fields.
The following guidelines may be used when deciding which mechanism to introduce for a particular message, i.e. only an 'outer branch', or an 'outer branch' in combination with an 'inner branch' including a certain number of spares:
-	For certain messages, e.g. initial uplink messages, messages transmitted on a broadcast channel, critical extension may not be applicable.
-	An outer branch may be sufficient for messages not including any fields.
-	The number of spares within inner branch should reflect the likelihood that the message will be critically extended in future releases (since each release with a critical extension for the message consumes one of the spare values). The estimation of the critical extension likelihood may be based on the number, size and changeability of the fields included in the message.
-	In messages where an inner branch extension mechanism is available, all spare values of the inner branch should be used before any critical extensions are added using the outer branch.
The following example illustrates the use of the critical extension mechanism by showing the ASN.1 of the original and of a later release
-- /example/ ASN1START                  -- Original release

RRCMessage ::=                          SEQUENCE {
    rrc-TransactionIdentifier               RRC-TransactionIdentifier,
    criticalExtensions                  CHOICE {
        c1                                  CHOICE{
            rrcMessage-r8                       RRCMessage-r8-IEs,
            spare3 NULL, spare2 NULL, spare1 NULL
        },
        criticalExtensionsFuture            SEQUENCE {}
    }
}

-- ASN1STOP

-- /example/ ASN1START                  -- Later release

RRCMessage ::=                          SEQUENCE {
    rrc-TransactionIdentifier               RRC-TransactionIdentifier,
    criticalExtensions                  CHOICE {
        c1                                  CHOICE{
            rrcMessage-r8                       RRCMessage-r8-IEs,
            rrcMessage-r10                      RRCMessage-r10-IEs,
            rrcMessage-r11                      RRCMessage-r11-IEs,
            rrcMessage-r14                      RRCMessage-r14-IEs
        },
        later                           CHOICE {
            c2                                  CHOICE{
                rrcMessage-r16                      RRCMessage-r16-IEs,
                spare7 NULL, spare6 NULL, spare5 NULL, spare4 NULL,
                spare3 NULL, spare2 NULL, spare1 NULL
            },
            criticalExtensionsFuture                SEQUENCE {}
        }
    }
}

-- ASN1STOP

It is important to note that critical extensions may also be used at the level of individual fields i.e. a field may be replaced by a critically extended version. When sending the extended version, the original version may also be included (e.g. original field is mandatory, EUTRAN is unaware if UE supports the extended version). In such cases, a UE supporting both versions may be required to ignore the original field. The following example illustrates the use of the critical extension mechanism by showing the ASN.1 of the original and of a later release.
-- /example/ ASN1START                  -- Original release

RRCMessage ::=                          SEQUENCE {
    rrc-TransactionIdentifier               RRC-TransactionIdentifier,
    criticalExtensions                  CHOICE {
        c1                                  CHOICE{
            rrcMessage-r8                       RRCMessage-r8-IEs,
            spare3 NULL, spare2 NULL, spare1 NULL
        },
        criticalExtensionsFuture            SEQUENCE {}
    }
}

RRCMessage-rN-IEs ::= SEQUENCE {
    field1-rN                           ENUMERATED {
                                            value1, value2, value3, value4} OPTIONAL,   -- Need N
    field2-rN                           InformationElement2-rN              OPTIONAL,   -- Need N
    nonCriticalExtension                RRCConnectionReconfiguration-vMxy-IEs   OPTIONAL
}

RRCConnectionReconfiguration-vMxy-IEs ::= SEQUENCE {
    field2-rM                           InformationElement2-rM          OPTIONAL, -- Cond NoField2rN
    nonCriticalExtension                SEQUENCE {}                     OPTIONAL
}

-- ASN1STOP

Conditional presence
Explanation
NoField2rN
The field is optionally present, need N, if field2-rN is absent. Otherwise the field is not present

Finally, it is noted that a critical extension may be introduced in the same release as the one in which the original field was introduced e.g. to correct an essential ASN.1 error. In such cases a UE capability may be introduced, to assist the network in deciding whether or not to use the critically extension.
A.4.3	Non-critical extension of messages
A.4.3.1	General principles
The mechanisms to extend a message in a non-critical manner are defined in A.3.3. W.r.t. the use of extension markers, the following additional guidelines apply:
-	When further non-critical extensions are added to a message that has been critically extended, the inclusion of these non-critical extensions in earlier critical branches of the message should be avoided when possible.
-	The extension marker ("...") is the primary non-critical extension mechanism that is used but empty sequences may be used if length determinant is not required. Examples of cases where a length determinant is not required:
-	at the end of a message;
-	at the end of a structure contained in a BIT STRING or OCTET STRING.
-	When an extension marker is available, non-critical extensions are preferably placed at the location (e.g. the IE) where the concerned parameter belongs from a logical/ functional perspective (referred to as the 'default extension location').
-	It is desirable to aggregate extensions of the same release or version of the specification into a group, which should be placed at the lowest possible level.
-	In specific cases it may be preferable to place extensions elsewhere (referred to as the 'actual extension location') e.g. when it is possible to aggregate several extensions in a group. In such a case, the group should be placed at the lowest suitable level in the message. <TBD: ref to separate example>
-	In case placement at the default extension location affects earlier critical branches of the message, locating the extension at a following higher level in the message should be considered.
-	In case an extension is not placed at the default extension location, an IE should be defined. The IE's ASN.1 definition should be placed in the same ASN.1 section as the default extension location. In case there are intermediate levels in-between the actual and the default extension location, an IE may be defined for each level. Intermediate levels are primarily introduced for readability and overview. Hence intermediate levels need not always be introduced e.g. they may not be needed when the default and the actual extension location are within the same ASN.1 section. <TBD: ref to separate example>
A.4.3.2	Further guidelines
Further to the general principles defined in the previous section, the following additional guidelines apply regarding the use of extension markers:
-	Extension markers within SEQUENCE:
-	Extension markers are primarily, but not exclusively, introduced at the higher nesting levels.
-	Extension markers are introduced for a SEQUENCE comprising several fields as well as for information elements whose extension would result in complex structures without it (e.g. re-introducing another list).
-	Extension markers are introduced to make it possible to maintain important information structures e.g. parameters relevant for one particular RAT.
-	Extension markers are also used for size critical messages (i.e. messages on BCCH, BR-BCCH, PCCH and CCCH), although introduced somewhat more carefully.
-	The extension fields introduced (or frozen) in a specific version of the specification are grouped together using double brackets.
-	Extension markers within ENUMERATED:
-	Spare values may be used until the number of values reaches the next power of 2, while the extension marker caters for extension beyond that limit, given that the use of spare values in a later Release is possible without any error cases.
-	A suffix of the form "vXYZ" is used for the identifier of each new value, e.g. "value-vXYZ".
-	Extension markers within CHOICE:
-	Extension markers are introduced when extension is foreseen and when comprehension is not required by the receiver i.e. behaviour is defined for the case where the receiver cannot comprehend the extended value (e.g. ignoring an optional CHOICE field). It should be noted that defining the behaviour of a receiver upon receiving a not comprehended choice value is not required if the sender is aware whether or not the receiver supports the extended value.
-	A suffix of the form "vXYZ" is used for the identifier of each new choice value, e.g. "choice-vXYZ".
Non-critical extensions at the end of a message/ of a field contained in an OCTET or BIT STRING:
-	When a nonCriticalExtension is actually used, a "Need" code should not be provided for the field, which always is a group including at least one extension and a field facilitating further possible extensions. For simplicity, it is recommended not to provide a "Need" code when the field is not actually used either.
Further, more general, guidelines:
-	In case a need code is not provided for a group, a "Need" code is provided for all individual extension fields within the group i.e. including for fields that are not marked as OPTIONAL. The latter is to clarify the action upon absence of the whole group.
A.4.3.3	Typical example of evolution of IE with local extensions
The following example illustrates the use of the extension marker for a number of elementary cases (sequence, enumerated, choice). The example also illustrates how the IE may be revised in case the critical extension mechanism is used.
NOTE	In case there is a need to support further extensions of release n while the ASN.1 of release (n+1) has been frozen, without requiring the release n receiver to support decoding of release (n+1) extensions, more advanced mechanisms are needed e.g. including multiple extension markers.
-- /example/ ASN1START

InformationElement1 ::=             SEQUENCE {
    field1                              ENUMERATED {
                                            value1, value2, value3, value4-v880,
                                            ..., value5-v960 },
    field2                              CHOICE {
        field2a                             BOOLEAN,
        field2b                             InformationElement2b,
        ...,
        field2c-v960                        InformationElement2c-r9
    },
    ...,
    [[  field3-r9                           InformationElement3-r9      OPTIONAL        -- Need R
    ]],
    [[  field3-v9a0                         InformationElement3-v9a0    OPTIONAL,       -- Need R
        field4-r9                           InformationElement4         OPTIONAL        -- Need R
    ]]
}

InformationElement1-r10 ::=         SEQUENCE {
    field1                              ENUMERATED {
                                            value1, value2, value3, value4-v880,
                                            value5-v960, value6-v1170, spare2, spare1, ... },
    field2                              CHOICE {
        field2a                             BOOLEAN,
        field2b                             InformationElement2b,
        field2c-v960                        InformationElement2c-r9,
        ...,
        field2d-v12b0                       INTEGER (0..63)
    },
    field3-r9                           InformationElement3-r10         OPTIONAL,   -- Need R
    field4-r9                           InformationElement4             OPTIONAL,   -- Need R
    field5-r10                          BOOLEAN,
    field6-r10                          InformationElement6-r10         OPTIONAL,   -- Need R
    ...,
    [[  field3-v1170                    InformationElement3-v1170       OPTIONAL    -- Need R
    ]]
}

-- ASN1STOP

Some remarks regarding the extensions of InformationElement1 as shown in the above example:
–	The InformationElement1 is initially extended with a number of non-critical extensions. In release 10 however, a critical extension is introduced for the message using this IE. Consequently, a new version of the IE InformationElement1 (i.e. InformationElement1-r10) is defined in which the earlier non-critical extensions are incorporated by means of a revision of the original field.
–	The value4-v880 is replacing a spare value defined in the original protocol version for field1. Likewise value6-v1170 replaces spare3 that was originally defined in the r10 version of field1.
–	Within the critically extended release 10 version of InformationElement1, the names of the original fields/IEs are not changed, unless there is a real need to distinguish them from other fields/IEs. E.g. the field1 and InformationElement4 were defined in the original protocol version (release 8) and hence not tagged. Moreover, the field3-r9 is introduced in release 9 and not re-tagged; although, the InformationElement3 is also critically extended and therefore tagged InformationElement3-r10 in the release 10 version of InformationElement1.
A.4.3.4	Typical examples of non critical extension at the end of a message
The following example illustrates the use of non-critical extensions at the end of the message or at the end of a field that is contained in a BIT or OCTET STRING i.e. when an empty sequence is used.
-- /example/ ASN1START

RRCMessage-r8-IEs ::=           SEQUENCE {
    field1                          InformationElement1,
    field2                          InformationElement2,
    field3                          InformationElement3                 OPTIONAL,   -- Need N
    nonCriticalExtension            RRCMessage-v860-IEs                 OPTIONAL
}

RRCMessage-v860-IEs ::=         SEQUENCE {
    field4-v860                     InformationElement4                 OPTIONAL,   -- Need S
    field5-v860                     BOOLEAN                             OPTIONAL,   -- Cond C54
    nonCriticalExtension            RRCMessage-v940-IEs                 OPTIONAL
}

RRCMessage-v940-IEs ::=         SEQUENCE {
    field6-v940                     InformationElement6-r9              OPTIONAL,   -- Need R
    nonCriticalExtensions           SEQUENCE {}                         OPTIONAL
}

-- ASN1STOP

Some remarks regarding the extensions shown in the above example:
–	The InformationElement4 is introduced in the original version of the protocol (release 8) and hence no suffix is used.
A.4.3.5	Examples of non-critical extensions not placed at the default extension location
The following example illustrates the use of non-critical extensions in case an extension is not placed at the default extension location.
–	ParentIE-WithEM
The IE ParentIE-WithEMis an example of a high level IE including the extension marker (EM). The root encoding of this IE includes two lower level IEs ChildIE1-WithoutEM and ChildIE2-WithoutEM which not include the extension marker. Consequently, non-critical extensions of the Child-IEs have to be included at the level of the Parent-IE.
The example illustrates how the two extension IEs ChildIE1-WithoutEM-vNx0 and ChildIE2-WithoutEM-vNx0 (both in release N) are used to connect non-critical extensions with a default extension location in the lower level IEs to the actual extension location in this IE.
ParentIE-WithEM information element
-- /example/ ASN1START

ParentIE-WithEM ::=                 SEQUENCE {
    -- Root encoding, including:
    childIE1-WithoutEM                  ChildIE1-WithoutEM              OPTIONAL,       -- Need N
    childIE2-WithoutEM                  ChildIE2-WithoutEM              OPTIONAL,       -- Need N
    ...,
    [[  childIE1-WithoutEM-vNx0             ChildIE1-WithoutEM-vNx0     OPTIONAL,       -- Need N
        childIE2-WithoutEM-vNx0             ChildIE2-WithoutEM-vNx0     OPTIONAL        -- Need N
    ]]
}

-- ASN1STOP

Some remarks regarding the extensions shown in the above example:
–	The fields childIEx-WithoutEM-vNx0 may not really need to be optional (depends on what is defined at the next lower level).
–	In general, especially when there are several nesting levels, fields should be marked as optional only when there is a clear reason.
–	ChildIE1-WithoutEM
The IE ChildIE1-WithoutEM is an example of a lower level IE, used to control certain radio configurations including a configurable feature which can be setup or released using the local IE ChIE1-ConfigurableFeature. The example illustrates how the new field chIE1-NewField is added in release N to the configuration of the configurable feature. The example is based on the following assumptions:
–	When initially configuring as well as when modifying the new field, the original fields of the configurable feature have to be provided also i.e. as if the extended ones were present within the setup branch of this feature.
–	When the configurable feature is released, the new field should be released also.
–	When omitting the original fields of the configurable feature the UE continues using the existing values (which is used to optimise the signalling for features that typically continue unchanged upon handover).
–	When omitting the new field of the configurable feature the UE releases the existing values and discontinues the associated functionality (which may be used to support release of unsupported functionality upon handover to an eNB supporting an earlier protocol version).
The above assumptions, which affect the use of conditions and need codes, may not always apply. Hence, the example should not be re-used blindly.
ChildIE1-WithoutEM information elements
-- /example/ ASN1START

ChildIE1-WithoutEM ::=              SEQUENCE {
    -- Root encoding, including:
    chIE1-ConfigurableFeature           ChIE1-ConfigurableFeature       OPTIONAL        -- Need N
}

ChildIE1-WithoutEM-vNx0 ::=     SEQUENCE {
    chIE1-ConfigurableFeature-vNx0      ChIE1-ConfigurableFeature-vNx0  OPTIONAL    -- Cond ConfigF
}

ChIE1-ConfigurableFeature ::=       CHOICE {
    release                             NULL,
    setup                               SEQUENCE {
        -- Root encoding
    }
}

ChIE1-ConfigurableFeature-vNx0 ::=  SEQUENCE {
    chIE1-NewField-rN                   INTEGER (0..31)
}

-- ASN1STOP

Conditional presence
Explanation
ConfigF
The field is optional present, need R, in case of chIE1-ConfigurableFeature is included and set to "setup"; otherwise the field is not present and the UE shall delete any existing value for this field.

–	ChildIE2-WithoutEM
The IE ChildIE2-WithoutEM is an example of a lower level IE, typically used to control certain radio configurations. The example illustrates how the new field chIE1-NewField is added in release N to the configuration of the configurable feature.
ChildIE2-WithoutEM information element
-- /example/ ASN1START

ChildIE2-WithoutEM ::=              CHOICE {
    release                             NULL,
    setup                               SEQUENCE {
        -- Root encoding
    }
}

ChildIE2-WithoutEM-vNx0 ::=         SEQUENCE {
    chIE2-NewField-rN                   INTEGER (0..31)                 OPTIONAL    -- Cond ConfigF
}

-- ASN1STOP

Conditional presence
Explanation
ConfigF
The field is optional present, need R, in case of chIE2-ConfigurableFeature is included and set to "setup"; otherwise the field is not present and the UE shall delete any existing value for this field.

A.5	Guidelines regarding inclusion of transaction identifiers in RRC messages
The following rules provide guidance on which messages should include a Transaction identifier
1:	DL messages on CCCH that move UE to RRC-Idle should not include the RRC transaction identifier.
2:	All network initiated DL messages by default should include the RRC transaction identifier.
3:	All UL messages that are direct response to a DL message with an RRC Transaction identifier should include the RRC Transaction identifier.
4:	All UL messages that require a direct DL response message should include an RRC transaction identifier.
5:	All UL messages that are not in response to a DL message nor require a corresponding response from the network should not include the RRC Transaction identifier.
A.6	Guidelines regarding use of need codes
The following rule provides guidance for determining need codes for optional downlink fields:
- if the field needs to be stored by the UE (i.e. maintained) when absent:
- use Need M (=Maintain);
- else, if the field needs to be released by the UE when absent:
- use Need R (=Release);
- else, if UE shall take no action when the field is absent (i.e. UE does not even need to maintain any existing value of the field):
- use Need N (=None);
- else (UE behaviour upon absence does not fit any of the above conditions):
- use Need S (=Specified);
- specify the UE behaviour upon absence of the field in the procedural text or in the field description table.
A.7	Guidelines regarding use of conditions
Conditions are primarily used to specify network restrictions, for which the following types can be distinguished:
-	CondM: Message Contents related constraints e.g. that a field B is mandatory present if the same message includes field A and when it is set value X.
-	CondC: Configuration Constraints e.g. that a field D can only be signalled if field C is configured and set to value Y. (i.e. regardless of whether field C is present in the same message or previously configured).
The use of these conditions is illustrated by an example.
-- /example/ ASN1START

RRCMessage-IEs ::= SEQUENCE {
    fieldA                          FieldA                  OPTIONAL,   -- Need M
    fieldB                          FieldB                  OPTIONAL,   -- CondM-FieldAsetToX
    fieldC                          FieldC                  OPTIONAL,   -- Need M
    fieldD                          FieldD                  OPTIONAL,   -- CondC-FieldCsetToY
    nonCriticalExtension            SEQUENCE {}             OPTIONAL
}

-- /example/ ASN1STOP

Conditional presence
Explanation
Message (content) constraints
CondM-FieldAsetToX
The field is mandatory present if fieldA is included and set to valueX. Otherwise the field is optional present, need R.
Configuration constraints
CondC- FieldCsetToY
The field is optional present, need M, if fieldC is configured and set to valueY. Otherwise the field is not present and the UE does not maintain the value

Annex B (informative):	RRC Information
B.1	Protection of RRC messages (informative)
The following list provides information which messages can be sent (unprotected) prior to security activation and which messages can be sent unprotected after security activation. Those messages indicated "-" in "P" column should never be sent unprotected by gNB or UE. Further requirements are defined in the procedural text.
P…Messages that can be sent (unprotected) prior to security activation
A - I…Messages that can be sent without integrity protection after security activation
A - C…Messages that can be sent unciphered after security activation
NA… Message can never be sent after security activation
Message
P
A-I
A-C
Comment
DLInformationTransfer
+
-
-

LocationMeasurementIndication
-
-
-

MIB
+
+
+

MeasurementReport
-
-
-
Measurement configuration may be sent prior to security activation. But: In order to protect privacy of UEs, MEASUREMENT REPORT is only sent from the UE after successful security activation.
Paging
+
+
+

RRCReconfiguration
+
-
-
The message shall not be sent unprotected before security activation if it is used to perform handover or to establish SRB2 and DRBs
RRCReconfigurationComplete
+
-
-
Unprotected, if sent as response to RRCConnectionReconfiguration which was sent before security activation
RRCReestablishment
-
-
+
Integrity protection applied, but no ciphering.
RRCReestablishmentComplete
-
-
-

RRCReestablishmentRequest
-
-
+
This message is not protected by PDCP operation. However, a short MAC-I is included.
RRCReject
+
NA
NA

RRCRelease
+
-
-
Justification for P: If the RRC connection only for signalling not requiring DRBs or ciphered messages, or the signalling connection has to be released prematurely, this message is sent as unprotected.
RRCRequest
+
NA
NA

RRCResume
-
-
-

RRCResumeRequest
-
-
+
This message is not protected by PDCP operation. However, a short MAC-I is included.
RRCResumeComplete
-
-
-

RRCSetup
+
NA
NA

RRCSetupComplete
+
NA
NA

RRCSystemInfoRequest
+
NA
NA

SecurityModeCommand
+
NA
NA
Integrity protection applied, but no ciphering (integrity verification done after the message received by RRC)
SecurityModeComplete
-
NA
NA
Integrity protection applied, but no ciphering. Ciphering is applied after completing the procedure.
SecurityModeFailure
+
NA
NA
Neither integrity protection nor ciphering applied.
SystemInformation
+
+
+

SIB1
+
+
+

UECapabilityEnquiry
+
-
-

UECapabilityInformation
+
-
-

ULInformationTransfer
+
-
-

Annex C (informative):
Change history

Change history
Date
Meeting
TDoc
CR
Rev
Cat
Subject/Comment
New version
04/2017
RAN2#97bis
R2-1703395




0.0.1
04/2017
RAN2#97bis
R2-1703922




0.0.2
05/2017
RAN2#98
R2-1705815




0.0.3
06/2017
RAN2#NR2
R2-1707187




0.0.4
08/2017
RAN2#99
R2-1708468




0.0.5
09/2017
RAN2#99bis
R2-1710557




0.1.0
11/2017
RAN2#100
R2-1713629




0.2.0
11/2017
RAN2#100
R2-1714126




0.3.0
12/2017
RAN2#100
R2-1714259




0.4.0
12/2017
RP#78
RP-172570



Submitted for Approval in RAN#78
1.0.0
12/2017
RP#78




Upgraded to Rel-15 (MCC)
15.0.0
03/2018
RP#79
RP-180479
0008
1
F
Corrections for EN-DC (Note: the clause numbering between 15.0.0 and 15.1.0 has changed in some cases).
15.1.0
06/2018
RP-80
RP-181326
0042
7
F
Miscellaneous EN-DC corrections
15.2.0

RP-80




Correction: Duplicate Foreword section removed & ASN.1 sections touched up
15.2.1
09/2018
RP-81
RP-181942
0100
4
F
Introduction of SA
15.3.0

